!function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o=window.webpackJsonp;window.webpackJsonp=function(r,s){for(var a,l,u=0,p=[];u<r.length;u++)l=r[u],i[l]&&p.push.apply(p,i[l]),i[l]=0;for(a in s)t[a]=s[a];for(o&&o(r,s);p.length;)p.shift().call(null,e);if(s[0])return n[0]=0,e(0)};var n={},i={1:0};return e.e=function(t,o){if(0===i[t])return o.call(null,e);if(void 0!==i[t])i[t].push(o);else{i[t]=[o];var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.charset="utf-8",r.async=!0,r.src=e.p+""+t+".031b23808b9e9968b0f9.chunk.js",n.appendChild(r)}},e.m=t,e.c=n,e.p="",e(0)}([function(t,e,o){o(2),o(168),t.exports=o(183)},,function(t,e,o){"use strict";t.exports=o(3)},function(t,e,o){"use strict";var n=o(4),i=o(148),r=o(152),s=o(39),a=o(157),l={};s(l,r),s(l,{findDOMNode:a("findDOMNode","ReactDOM","react-dom",n,n.findDOMNode),render:a("render","ReactDOM","react-dom",n,n.render),unmountComponentAtNode:a("unmountComponentAtNode","ReactDOM","react-dom",n,n.unmountComponentAtNode),renderToString:a("renderToString","ReactDOMServer","react-dom/server",i,i.renderToString),renderToStaticMarkup:a("renderToStaticMarkup","ReactDOMServer","react-dom/server",i,i.renderToStaticMarkup)}),l.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n,l.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i,t.exports=l},function(t,e,o){"use strict";var n=o(5),i=o(6),r=o(71),s=o(45),a=o(28),l=o(18),u=o(50),p=o(54),c=o(146),h=o(91),m=o(147),d=o(25);r.inject();var _=l.measure("React","render",a.render),y={findDOMNode:h,render:_,unmountComponentAtNode:a.unmountComponentAtNode,version:c,unstable_batchedUpdates:p.batchedUpdates,unstable_renderSubtreeIntoContainer:m};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:n,InstanceHandles:s,Mount:a,Reconciler:u,TextComponent:i}),"production"!=={ENV:"production"}.NODE_ENV){var f=o(9);if(f.canUseDOM&&window.top===window.self){"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools");var v=document.documentMode&&document.documentMode<8;"production"!=={ENV:"production"}.NODE_ENV?d(!v,'Internet Explorer is running in compatibility mode; please add the following tag to your HTML to prevent this from happening: <meta http-equiv="X-UA-Compatible" content="IE=edge" />'):void 0;for(var x=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],g=0;g<x.length;g++)if(!x[g]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}}t.exports=y},function(t,e){"use strict";var o={current:null};t.exports=o},function(t,e,o){"use strict";var n=o(7),i=o(22),r=o(26),s=o(28),a=o(39),l=o(21),u=o(20),p=o(70),c=function(t){};a(c.prototype,{construct:function(t){this._currentElement=t,this._stringText=""+t,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(t,e,o){if("production"!=={ENV:"production"}.NODE_ENV&&o[p.ancestorInfoContextKey]&&p("span",null,o[p.ancestorInfoContextKey]),this._rootNodeID=t,e.useCreateElement){var n=o[s.ownerDocumentContextKey],r=n.createElement("span");return i.setAttributeForID(r,t),s.getID(r),u(r,this._stringText),r}var a=l(this._stringText);return e.renderToStaticMarkup?a:"<span "+i.createMarkupForID(t)+">"+a+"</span>"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var o=""+t;if(o!==this._stringText){this._stringText=o;var i=s.getNode(this._rootNodeID);n.updateTextContent(i,o)}}},unmountComponent:function(){r.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=c},function(t,e,o){"use strict";function n(t,e,o){var n=o>=t.childNodes.length?null:t.childNodes.item(o);t.insertBefore(e,n)}var i=o(8),r=o(16),s=o(18),a=o(19),l=o(20),u=o(13),p={dangerouslyReplaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup,updateTextContent:l,processUpdates:function(t,e){for(var o,s=null,p=null,c=0;c<t.length;c++)if(o=t[c],o.type===r.MOVE_EXISTING||o.type===r.REMOVE_NODE){var h=o.fromIndex,m=o.parentNode.childNodes[h],d=o.parentID;m?void 0:"production"!=={ENV:"production"}.NODE_ENV?u(!1,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",h,d):u(!1),s=s||{},s[d]=s[d]||[],s[d][h]=m,p=p||[],p.push(m)}var _;if(_=e.length&&"string"==typeof e[0]?i.dangerouslyRenderMarkup(e):e,p)for(var y=0;y<p.length;y++)p[y].parentNode.removeChild(p[y]);for(var f=0;f<t.length;f++)switch(o=t[f],o.type){case r.INSERT_MARKUP:n(o.parentNode,_[o.markupIndex],o.toIndex);break;case r.MOVE_EXISTING:n(o.parentNode,s[o.parentID][o.fromIndex],o.toIndex);break;case r.SET_MARKUP:a(o.parentNode,o.content);break;case r.TEXT_CONTENT:l(o.parentNode,o.content);break;case r.REMOVE_NODE:}}};s.measureMethods(p,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),t.exports=p},function(t,e,o){"use strict";function n(t){return t.substring(1,t.indexOf(" "))}var i=o(9),r=o(10),s=o(15),a=o(14),l=o(13),u=/^(<[^ \/>]+)/,p="data-danger-index",c={dangerouslyRenderMarkup:function(t){i.canUseDOM?void 0:"production"!=={ENV:"production"}.NODE_ENV?l(!1,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString for server rendering."):l(!1);for(var e,o={},c=0;c<t.length;c++)t[c]?void 0:"production"!=={ENV:"production"}.NODE_ENV?l(!1,"dangerouslyRenderMarkup(...): Missing markup."):l(!1),e=n(t[c]),e=a(e)?e:"*",o[e]=o[e]||[],o[e][c]=t[c];var h=[],m=0;for(e in o)if(o.hasOwnProperty(e)){var d,_=o[e];for(d in _)if(_.hasOwnProperty(d)){var y=_[d];_[d]=y.replace(u,"$1 "+p+'="'+d+'" ')}for(var f=r(_.join(""),s),v=0;v<f.length;++v){var x=f[v];x.hasAttribute&&x.hasAttribute(p)?(d=+x.getAttribute(p),x.removeAttribute(p),h.hasOwnProperty(d)?"production"!=={ENV:"production"}.NODE_ENV?l(!1,"Danger: Assigning to an already-occupied result index."):l(!1):void 0,h[d]=x,m+=1):"production"!=={ENV:"production"}.NODE_ENV&&console.error("Danger: Discarding unexpected node:",x)}}return m!==h.length?"production"!=={ENV:"production"}.NODE_ENV?l(!1,"Danger: Did not assign to every index of resultList."):l(!1):void 0,h.length!==t.length?"production"!=={ENV:"production"}.NODE_ENV?l(!1,"Danger: Expected markup to render %s nodes, but rendered %s.",t.length,h.length):l(!1):void 0,h},dangerouslyReplaceNodeWithMarkup:function(t,e){i.canUseDOM?void 0:"production"!=={ENV:"production"}.NODE_ENV?l(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."):l(!1),e?void 0:"production"!=={ENV:"production"}.NODE_ENV?l(!1,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):l(!1),"html"===t.tagName.toLowerCase()?"production"!=={ENV:"production"}.NODE_ENV?l(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."):l(!1):void 0;var o;o="string"==typeof e?r(e,s)[0]:e,t.parentNode.replaceChild(o,t)}};t.exports=c},function(t,e){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen,isInWorker:!o};t.exports=n},function(t,e,o){"use strict";function n(t){var e=t.match(p);return e&&e[1].toLowerCase()}function i(t,e){var o=u;u?void 0:"production"!=={ENV:"production"}.NODE_ENV?l(!1,"createNodesFromMarkup dummy not initialized"):l(!1);var i=n(t),r=i&&a(i);if(r){o.innerHTML=r[1]+t+r[2];for(var p=r[0];p--;)o=o.lastChild}else o.innerHTML=t;var c=o.getElementsByTagName("script");c.length&&(e?void 0:"production"!=={ENV:"production"}.NODE_ENV?l(!1,"createNodesFromMarkup(...): Unexpected <script> element rendered."):l(!1),s(c).forEach(e));for(var h=s(o.childNodes);o.lastChild;)o.removeChild(o.lastChild);return h}var r=o(9),s=o(11),a=o(14),l=o(13),u=r.canUseDOM?document.createElement("div"):null,p=/^\s*<(\w+)/;t.exports=i},function(t,e,o){"use strict";function n(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}function i(t){return n(t)?Array.isArray(t)?t.slice():r(t):[t]}var r=o(12);t.exports=i},function(t,e,o){"use strict";function n(t){var e=t.length;if(Array.isArray(t)||"object"!=typeof t&&"function"!=typeof t?"production"!=={ENV:"production"}.NODE_ENV?i(!1,"toArray: Array-like object expected"):i(!1):void 0,"number"!=typeof e?"production"!=={ENV:"production"}.NODE_ENV?i(!1,"toArray: Object needs a length property"):i(!1):void 0,0===e||e-1 in t?void 0:"production"!=={ENV:"production"}.NODE_ENV?i(!1,"toArray: Object should have keys for indices"):i(!1),t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(o){}for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}var i=o(13);t.exports=n},function(t,e,o){"use strict";function n(t,e,o,n,i,r,s,a){if("production"!=={ENV:"production"}.NODE_ENV&&void 0===e)throw new Error("invariant requires an error message argument");if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[o,n,i,r,s,a],p=0;l=new Error(e.replace(/%s/g,function(){return u[p++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}t.exports=n},function(t,e,o){"use strict";function n(t){return s?void 0:"production"!=={ENV:"production"}.NODE_ENV?r(!1,"Markup wrapping node not initialized"):r(!1),h.hasOwnProperty(t)||(t="*"),a.hasOwnProperty(t)||("*"===t?s.innerHTML="<link />":s.innerHTML="<"+t+"></"+t+">",a[t]=!s.firstChild),a[t]?h[t]:null}var i=o(9),r=o(13),s=i.canUseDOM?document.createElement("div"):null,a={},l=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],p=[3,"<table><tbody><tr>","</tr></tbody></table>"],c=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],h={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:p,th:p},m=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];m.forEach(function(t){h[t]=c,a[t]=!0}),t.exports=n},function(t,e){"use strict";function o(t){return function(){return t}}function n(){}n.thatReturns=o,n.thatReturnsFalse=o(!1),n.thatReturnsTrue=o(!0),n.thatReturnsNull=o(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(t){return t},t.exports=n},function(t,e,o){"use strict";var n=o(17),i=n({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=i},function(t,e,o){"use strict";var n=o(13),i=function(t){var e,o={};t instanceof Object&&!Array.isArray(t)?void 0:"production"!=={ENV:"production"}.NODE_ENV?n(!1,"keyMirror(...): Argument must be an object."):n(!1);for(e in t)t.hasOwnProperty(e)&&(o[e]=e);return o};t.exports=i},function(t,e,o){"use strict";function n(t,e,o){return o}var i={enableMeasure:!1,storedMeasure:n,measureMethods:function(t,e,o){if("production"!=={ENV:"production"}.NODE_ENV)for(var n in o)o.hasOwnProperty(n)&&(t[n]=i.measure(e,o[n],t[n]))},measure:function(t,e,o){if("production"!=={ENV:"production"}.NODE_ENV){var n=null,r=function(){return i.enableMeasure?(n||(n=i.storedMeasure(t,e,o)),n.apply(this,arguments)):o.apply(this,arguments)};return r.displayName=t+"_"+e,r}return o},injection:{injectMeasure:function(t){i.storedMeasure=t}}};t.exports=i},function(t,e,o){"use strict";var n=o(9),i=/^[ \r\n\t\f]/,r=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,s=function(t,e){t.innerHTML=e};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(s=function(t,e){MSApp.execUnsafeLocalFunction(function(){t.innerHTML=e})}),n.canUseDOM){var a=document.createElement("div");a.innerHTML=" ",""===a.innerHTML&&(s=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),i.test(e)||"<"===e[0]&&r.test(e)){t.innerHTML=String.fromCharCode(65279)+e;var o=t.firstChild;1===o.data.length?t.removeChild(o):o.deleteData(0,1)}else t.innerHTML=e})}t.exports=s},function(t,e,o){"use strict";var n=o(9),i=o(21),r=o(19),s=function(t,e){t.textContent=e};n.canUseDOM&&("textContent"in document.documentElement||(s=function(t,e){r(t,i(e))})),t.exports=s},function(t,e){"use strict";function o(t){return i[t]}function n(t){return(""+t).replace(r,o)}var i={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},r=/[&><"']/g;t.exports=n},function(t,e,o){"use strict";function n(t){return!!c.hasOwnProperty(t)||!p.hasOwnProperty(t)&&(u.test(t)?(c[t]=!0,!0):(p[t]=!0,"production"!=={ENV:"production"}.NODE_ENV?l(!1,"Invalid attribute name: `%s`",t):void 0,!1))}function i(t,e){return null==e||t.hasBooleanValue&&!e||t.hasNumericValue&&isNaN(e)||t.hasPositiveNumericValue&&e<1||t.hasOverloadedBooleanValue&&e===!1}var r=o(23),s=o(18),a=o(24),l=o(25),u=/^[a-zA-Z_][\w\.\-]*$/,p={},c={};if("production"!=={ENV:"production"}.NODE_ENV)var h={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},m={},d=function(t){if(!(h.hasOwnProperty(t)&&h[t]||m.hasOwnProperty(t)&&m[t])){m[t]=!0;var e=t.toLowerCase(),o=r.isCustomAttribute(e)?e:r.getPossibleStandardName.hasOwnProperty(e)?r.getPossibleStandardName[e]:null;"production"!=={ENV:"production"}.NODE_ENV?l(null==o,"Unknown DOM property %s. Did you mean %s?",t,o):void 0}};var _={createMarkupForID:function(t){return r.ID_ATTRIBUTE_NAME+"="+a(t)},setAttributeForID:function(t,e){t.setAttribute(r.ID_ATTRIBUTE_NAME,e)},createMarkupForProperty:function(t,e){var o=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(o){if(i(o,e))return"";var n=o.attributeName;return o.hasBooleanValue||o.hasOverloadedBooleanValue&&e===!0?n+'=""':n+"="+a(e)}return r.isCustomAttribute(t)?null==e?"":t+"="+a(e):("production"!=={ENV:"production"}.NODE_ENV&&d(t),null)},createMarkupForCustomAttribute:function(t,e){return n(t)&&null!=e?t+"="+a(e):""},setValueForProperty:function(t,e,o){var n=r.properties.hasOwnProperty(e)?r.properties[e]:null;if(n){var s=n.mutationMethod;if(s)s(t,o);else if(i(n,o))this.deleteValueForProperty(t,e);else if(n.mustUseAttribute){var a=n.attributeName,l=n.attributeNamespace;l?t.setAttributeNS(l,a,""+o):n.hasBooleanValue||n.hasOverloadedBooleanValue&&o===!0?t.setAttribute(a,""):t.setAttribute(a,""+o)}else{var u=n.propertyName;n.hasSideEffects&&""+t[u]==""+o||(t[u]=o)}}else r.isCustomAttribute(e)?_.setValueForAttribute(t,e,o):"production"!=={ENV:"production"}.NODE_ENV&&d(e)},setValueForAttribute:function(t,e,o){n(e)&&(null==o?t.removeAttribute(e):t.setAttribute(e,""+o))},deleteValueForProperty:function(t,e){var o=r.properties.hasOwnProperty(e)?r.properties[e]:null;if(o){var n=o.mutationMethod;if(n)n(t,void 0);else if(o.mustUseAttribute)t.removeAttribute(o.attributeName);else{var i=o.propertyName,s=r.getDefaultValueForProperty(t.nodeName,i);o.hasSideEffects&&""+t[i]===s||(t[i]=s)}}else r.isCustomAttribute(e)?t.removeAttribute(e):"production"!=={ENV:"production"}.NODE_ENV&&d(e)}};s.measureMethods(_,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),t.exports=_},function(t,e,o){"use strict";function n(t,e){return(t&e)===e}var i=o(13),r={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var e=r,o=t.Properties||{},s=t.DOMAttributeNamespaces||{},l=t.DOMAttributeNames||{},u=t.DOMPropertyNames||{},p=t.DOMMutationMethods||{};t.isCustomAttribute&&a._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var c in o){a.properties.hasOwnProperty(c)?"production"!=={ENV:"production"}.NODE_ENV?i(!1,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",c):i(!1):void 0;var h=c.toLowerCase(),m=o[c],d={attributeName:h,attributeNamespace:null,propertyName:c,mutationMethod:null,mustUseAttribute:n(m,e.MUST_USE_ATTRIBUTE),mustUseProperty:n(m,e.MUST_USE_PROPERTY),hasSideEffects:n(m,e.HAS_SIDE_EFFECTS),hasBooleanValue:n(m,e.HAS_BOOLEAN_VALUE),hasNumericValue:n(m,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:n(m,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:n(m,e.HAS_OVERLOADED_BOOLEAN_VALUE)};if(d.mustUseAttribute&&d.mustUseProperty?"production"!=={ENV:"production"}.NODE_ENV?i(!1,"DOMProperty: Cannot require using both attribute and property: %s",c):i(!1):void 0,!d.mustUseProperty&&d.hasSideEffects?"production"!=={ENV:"production"}.NODE_ENV?i(!1,"DOMProperty: Properties that have side effects must use property: %s",c):i(!1):void 0,d.hasBooleanValue+d.hasNumericValue+d.hasOverloadedBooleanValue<=1?void 0:"production"!=={ENV:"production"}.NODE_ENV?i(!1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",c):i(!1),"production"!=={ENV:"production"}.NODE_ENV&&(a.getPossibleStandardName[h]=c),l.hasOwnProperty(c)){var _=l[c];d.attributeName=_,"production"!=={ENV:"production"}.NODE_ENV&&(a.getPossibleStandardName[_]=c)}s.hasOwnProperty(c)&&(d.attributeNamespace=s[c]),u.hasOwnProperty(c)&&(d.propertyName=u[c]),p.hasOwnProperty(c)&&(d.mutationMethod=p[c]),a.properties[c]=d}}},s={},a={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:"production"!=={ENV:"production"}.NODE_ENV?{}:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<a._isCustomAttributeFunctions.length;e++){var o=a._isCustomAttributeFunctions[e];if(o(t))return!0}return!1},getDefaultValueForProperty:function(t,e){var o,n=s[t];return n||(s[t]=n={}),e in n||(o=document.createElement(t),n[e]=o[e]),n[e]},injection:r};t.exports=a},function(t,e,o){"use strict";function n(t){return'"'+i(t)+'"'}var i=o(21);t.exports=n},function(t,e,o){"use strict";var n=o(15),i=n;"production"!=={ENV:"production"}.NODE_ENV&&(i=function(t,e){for(var o=arguments.length,n=Array(o>2?o-2:0),i=2;i<o;i++)n[i-2]=arguments[i];if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==e.indexOf("Failed Composite propType: ")&&!t){var r=0,s="Warning: "+e.replace(/%s/g,function(){return n[r++]});"undefined"!=typeof console&&console.error(s);try{throw new Error(s)}catch(a){}}}),t.exports=i},function(t,e,o){"use strict";var n=o(27),i=o(28),r={processChildrenUpdates:n.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:n.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(t){i.purgeID(t)}};t.exports=r},function(t,e,o){"use strict";var n=o(7),i=o(22),r=o(28),s=o(18),a=o(13),l={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},u={updatePropertyByID:function(t,e,o){var n=r.getNode(t);l.hasOwnProperty(e)?"production"!=={ENV:"production"}.NODE_ENV?a(!1,"updatePropertyByID(...): %s",l[e]):a(!1):void 0,null!=o?i.setValueForProperty(n,e,o):i.deleteValueForProperty(n,e)},dangerouslyReplaceNodeWithMarkupByID:function(t,e){var o=r.getNode(t);n.dangerouslyReplaceNodeWithMarkup(o,e)},dangerouslyProcessChildrenUpdates:function(t,e){for(var o=0;o<t.length;o++)t[o].parentNode=r.getNode(t[o].parentID);n.processUpdates(t,e)}};s.measureMethods(u,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=u},function(t,e,o){"use strict";function n(t,e){for(var o=Math.min(t.length,e.length),n=0;n<o;n++)if(t.charAt(n)!==e.charAt(n))return n;return t.length===e.length?-1:o}function i(t){return t?t.nodeType===U?t.documentElement:t.firstChild:null}function r(t){var e=i(t);return e&&tt.getID(e)}function s(t){var e=a(t);if(e)if(Y.hasOwnProperty(e)){var o=Y[e];o!==t&&(c(o,e)?"production"!=={ENV:"production"}.NODE_ENV?R(!1,"ReactMount: Two valid but unequal nodes with the same `%s`: %s",J,e):R(!1):void 0,Y[e]=t)}else Y[e]=t;return e}function a(t){return t&&t.getAttribute&&t.getAttribute(J)||""}function l(t,e){var o=a(t);o!==e&&delete Y[o],t.setAttribute(J,e),Y[e]=t}function u(t){return Y.hasOwnProperty(t)&&c(Y[t],t)||(Y[t]=tt.findReactNodeByID(t)),Y[t]}function p(t){var e=N.get(t)._rootNodeID;return D.isNullComponentID(e)?null:(Y.hasOwnProperty(e)&&c(Y[e],e)||(Y[e]=tt.findReactNodeByID(e)),Y[e])}function c(t,e){if(t){a(t)!==e?"production"!=={ENV:"production"}.NODE_ENV?R(!1,"ReactMount: Unexpected modification of `%s`",J):R(!1):void 0;var o=tt.findReactContainerForID(e);if(o&&O(o,t))return!0}return!1}function h(t){delete Y[t]}function m(t){var e=Y[t];return!(!e||!c(e,t))&&void(Q=e)}function d(t){Q=null,S.traverseAncestors(t,m);var e=Q;return Q=null,e}function _(t,e,o,n,i,r){if(E.useCreateElement&&(r=T({},r),o.nodeType===U?r[q]=o:r[q]=o.ownerDocument),"production"!=={ENV:"production"}.NODE_ENV){r===B&&(r={});var s=o.nodeName.toLowerCase();r[G.ancestorInfoContextKey]=G.updatedAncestorInfo(null,s,null)}var a=I.mountComponent(t,e,n,r);t._renderedComponent._topLevelWrapper=t,tt._mountImageIntoNode(a,o,i,n)}function y(t,e,o,n,i){var r=V.ReactReconcileTransaction.getPooled(n);r.perform(_,null,t,e,o,r,n,i),V.ReactReconcileTransaction.release(r)}function f(t,e){for(I.unmountComponent(t),e.nodeType===U&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)}function v(t){var e=r(t);return!!e&&e!==S.getReactRootIDFromNodeID(e)}function x(t){for(;t&&t.parentNode!==t;t=t.parentNode)if(1===t.nodeType){var e=a(t);if(e){var o,n=S.getReactRootIDFromNodeID(e),i=t;do if(o=a(i),i=i.parentNode,null==i)return null;while(o!==n);if(i===K[n])return t}}return null}var g=o(23),b=o(29),C=o(5),E=o(41),P=o(42),D=o(44),S=o(45),N=o(47),w=o(48),A=o(18),I=o(50),M=o(53),V=o(54),T=o(39),B=o(58),O=o(59),L=o(62),R=o(13),k=o(19),F=o(67),G=o(70),X=o(25),J=g.ID_ATTRIBUTE_NAME,Y={},W=1,U=9,j=11,q="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),z={},K={};if("production"!=={ENV:"production"}.NODE_ENV)var H={};var Z=[],Q=null,$=function(){};$.prototype.isReactComponent={},"production"!=={ENV:"production"}.NODE_ENV&&($.displayName="TopLevelWrapper"),$.prototype.render=function(){return this.props};var tt={TopLevelWrapper:$,_instancesByReactRootID:z,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,e,o,n){return tt.scrollMonitor(o,function(){M.enqueueElementInternal(t,e),n&&M.enqueueCallbackInternal(t,n)}),"production"!=={ENV:"production"}.NODE_ENV&&(H[r(o)]=i(o)),t},_registerComponent:function(t,e){!e||e.nodeType!==W&&e.nodeType!==U&&e.nodeType!==j?"production"!=={ENV:"production"}.NODE_ENV?R(!1,"_registerComponent(...): Target container is not a DOM element."):R(!1):void 0,b.ensureScrollValueMonitoring();var o=tt.registerContainer(e);return z[o]=t,o},_renderNewRootComponent:function(t,e,o,n){"production"!=={ENV:"production"}.NODE_ENV?X(null==C.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",C.current&&C.current.getName()||"ReactCompositeComponent"):void 0;var r=L(t,null),s=tt._registerComponent(r,e);return V.batchedUpdates(y,r,s,e,o,n),"production"!=={ENV:"production"}.NODE_ENV&&(H[s]=i(e)),r},renderSubtreeIntoContainer:function(t,e,o,n){return null==t||null==t._reactInternalInstance?"production"!=={ENV:"production"}.NODE_ENV?R(!1,"parentComponent must be a valid React Component"):R(!1):void 0,tt._renderSubtreeIntoContainer(t,e,o,n)},_renderSubtreeIntoContainer:function(t,e,o,n){P.isValidElement(e)?void 0:"production"!=={ENV:"production"}.NODE_ENV?R(!1,"ReactDOM.render(): Invalid component element.%s","string"==typeof e?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof e?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=e&&void 0!==e.props?" This may be caused by unintentionally loading two independent copies of React.":""):R(!1),"production"!=={ENV:"production"}.NODE_ENV?X(!o||!o.tagName||"BODY"!==o.tagName.toUpperCase(),"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app."):void 0;var s=new P($,null,null,null,null,null,e),l=z[r(o)];if(l){var u=l._currentElement,p=u.props;if(F(p,e)){var c=l._renderedComponent.getPublicInstance(),h=n&&function(){n.call(c)};return tt._updateRootComponent(l,s,o,h),c}tt.unmountComponentAtNode(o)}var m=i(o),d=m&&!!a(m),_=v(o);if("production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?X(!_,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."):void 0,!d||m.nextSibling))for(var y=m;y;){if(a(y)){"production"!=={ENV:"production"}.NODE_ENV?X(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup."):void 0;break}y=y.nextSibling}var f=d&&!l&&!_,x=tt._renderNewRootComponent(s,o,f,null!=t?t._reactInternalInstance._processChildContext(t._reactInternalInstance._context):B)._renderedComponent.getPublicInstance();return n&&n.call(x),x},render:function(t,e,o){return tt._renderSubtreeIntoContainer(null,t,e,o)},registerContainer:function(t){var e=r(t);return e&&(e=S.getReactRootIDFromNodeID(e)),e||(e=S.createReactRootID()),K[e]=t,e},unmountComponentAtNode:function(t){"production"!=={ENV:"production"}.NODE_ENV?X(null==C.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",C.current&&C.current.getName()||"ReactCompositeComponent"):void 0,!t||t.nodeType!==W&&t.nodeType!==U&&t.nodeType!==j?"production"!=={ENV:"production"}.NODE_ENV?R(!1,"unmountComponentAtNode(...): Target container is not a DOM element."):R(!1):void 0;var e=r(t),o=z[e];if(!o){var n=v(t),i=a(t),s=i&&i===S.getReactRootIDFromNodeID(i);return"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?X(!n,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",s?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."):void 0),!1}return V.batchedUpdates(f,o,t),delete z[e],delete K[e],"production"!=={ENV:"production"}.NODE_ENV&&delete H[e],!0},findReactContainerForID:function(t){var e=S.getReactRootIDFromNodeID(t),o=K[e];if("production"!=={ENV:"production"}.NODE_ENV){var n=H[e];if(n&&n.parentNode!==o){"production"!=={ENV:"production"}.NODE_ENV?X(a(n)===e,"ReactMount: Root element ID differed from reactRootID."):void 0;var i=o.firstChild;i&&e===a(i)?H[e]=i:"production"!=={ENV:"production"}.NODE_ENV?X(!1,"ReactMount: Root element has been removed from its original container. New container: %s",n.parentNode):void 0}}return o},findReactNodeByID:function(t){var e=tt.findReactContainerForID(t);return tt.findComponentRoot(e,t)},getFirstReactDOM:function(t){return x(t)},findComponentRoot:function(t,e){var o=Z,n=0,i=d(e)||t;for("production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?X(null!=i,"React can't find the root component node for data-reactid value `%s`. If you're seeing this message, it probably means that you've loaded two copies of React on the page. At this time, only a single copy of React can be loaded at a time.",e):void 0),o[0]=i.firstChild,o.length=1;n<o.length;){for(var r,s=o[n++];s;){var a=tt.getID(s);a?e===a?r=s:S.isAncestorIDOf(a,e)&&(o.length=n=0,o.push(s.firstChild)):o.push(s.firstChild),s=s.nextSibling}if(r)return o.length=0,r}o.length=0,"production"!=={ENV:"production"}.NODE_ENV?R(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",e,tt.getID(t)):R(!1)},_mountImageIntoNode:function(t,e,o,r){if(!e||e.nodeType!==W&&e.nodeType!==U&&e.nodeType!==j?"production"!=={ENV:"production"}.NODE_ENV?R(!1,"mountComponentIntoNode(...): Target container is not valid."):R(!1):void 0,o){var s=i(e);if(w.canReuseMarkup(t,s))return;var a=s.getAttribute(w.CHECKSUM_ATTR_NAME);s.removeAttribute(w.CHECKSUM_ATTR_NAME);var l=s.outerHTML;s.setAttribute(w.CHECKSUM_ATTR_NAME,a);var u=t;if("production"!=={ENV:"production"}.NODE_ENV){var p;e.nodeType===W?(p=document.createElement("div"),p.innerHTML=t,u=p.innerHTML):(p=document.createElement("iframe"),document.body.appendChild(p),p.contentDocument.write(t),u=p.contentDocument.documentElement.outerHTML,document.body.removeChild(p))}var c=n(u,l),h=" (client) "+u.substring(c-20,c+20)+"\n (server) "+l.substring(c-20,c+20);e.nodeType===U?"production"!=={ENV:"production"}.NODE_ENV?R(!1,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",h):R(!1):void 0,"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?X(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",h):void 0);
}if(e.nodeType===U?"production"!=={ENV:"production"}.NODE_ENV?R(!1,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."):R(!1):void 0,r.useCreateElement){for(;e.lastChild;)e.removeChild(e.lastChild);e.appendChild(t)}else k(e,t)},ownerDocumentContextKey:q,getReactRootID:r,getID:s,setID:l,getNode:u,getNodeFromInstance:p,isValid:c,purgeID:h};A.measureMethods(tt,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=tt},function(t,e,o){"use strict";function n(t){return Object.prototype.hasOwnProperty.call(t,y)||(t[y]=d++,h[t[y]]={}),h[t[y]]}var i=o(30),r=o(31),s=o(32),a=o(37),l=o(18),u=o(38),p=o(39),c=o(40),h={},m=!1,d=0,_={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},y="_reactListenersID"+String(Math.random()).slice(2),f=p({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(f.handleTopLevel),f.ReactEventListener=t}},setEnabled:function(t){f.ReactEventListener&&f.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!f.ReactEventListener||!f.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var o=e,r=n(o),a=s.registrationNameDependencies[t],l=i.topLevelTypes,u=0;u<a.length;u++){var p=a[u];r.hasOwnProperty(p)&&r[p]||(p===l.topWheel?c("wheel")?f.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",o):c("mousewheel")?f.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",o):f.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",o):p===l.topScroll?c("scroll",!0)?f.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",o):f.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",f.ReactEventListener.WINDOW_HANDLE):p===l.topFocus||p===l.topBlur?(c("focus",!0)?(f.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",o),f.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",o)):c("focusin")&&(f.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",o),f.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",o)),r[l.topBlur]=!0,r[l.topFocus]=!0):_.hasOwnProperty(p)&&f.ReactEventListener.trapBubbledEvent(p,_[p],o),r[p]=!0)}},trapBubbledEvent:function(t,e,o){return f.ReactEventListener.trapBubbledEvent(t,e,o)},trapCapturedEvent:function(t,e,o){return f.ReactEventListener.trapCapturedEvent(t,e,o)},ensureScrollValueMonitoring:function(){if(!m){var t=u.refreshScrollValues;f.ReactEventListener.monitorScrollValue(t),m=!0}},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:r.putListener,getListener:r.getListener,deleteListener:r.deleteListener,deleteAllListeners:r.deleteAllListeners});l.measureMethods(f,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),t.exports=f},function(t,e,o){"use strict";var n=o(17),i=n({bubbled:null,captured:null}),r=n({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),s={topLevelTypes:r,PropagationPhases:i};t.exports=s},function(t,e,o){"use strict";function n(){var t=y&&y.traverseTwoPhase&&y.traverseEnterLeave;"production"!=={ENV:"production"}.NODE_ENV?p(t,"InstanceHandle not injected before use!"):void 0}var i=o(32),r=o(33),s=o(34),a=o(35),l=o(36),u=o(13),p=o(25),c={},h=null,m=function(t,e){t&&(r.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t))},d=function(t){return m(t,!0)},_=function(t){return m(t,!1)},y=null,f={injection:{injectMount:r.injection.injectMount,injectInstanceHandle:function(t){y=t,"production"!=={ENV:"production"}.NODE_ENV&&n()},getInstanceHandle:function(){return"production"!=={ENV:"production"}.NODE_ENV&&n(),y},injectEventPluginOrder:i.injectEventPluginOrder,injectEventPluginsByName:i.injectEventPluginsByName},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:function(t,e,o){"function"!=typeof o?"production"!=={ENV:"production"}.NODE_ENV?u(!1,"Expected %s listener to be a function, instead got type %s",e,typeof o):u(!1):void 0;var n=c[e]||(c[e]={});n[t]=o;var r=i.registrationNameModules[e];r&&r.didPutListener&&r.didPutListener(t,e,o)},getListener:function(t,e){var o=c[e];return o&&o[t]},deleteListener:function(t,e){var o=i.registrationNameModules[e];o&&o.willDeleteListener&&o.willDeleteListener(t,e);var n=c[e];n&&delete n[t]},deleteAllListeners:function(t){for(var e in c)if(c[e][t]){var o=i.registrationNameModules[e];o&&o.willDeleteListener&&o.willDeleteListener(t,e),delete c[e][t]}},extractEvents:function(t,e,o,n,r){for(var s,l=i.plugins,u=0;u<l.length;u++){var p=l[u];if(p){var c=p.extractEvents(t,e,o,n,r);c&&(s=a(s,c))}}return s},enqueueEvents:function(t){t&&(h=a(h,t))},processEventQueue:function(t){var e=h;h=null,t?l(e,d):l(e,_),h?"production"!=={ENV:"production"}.NODE_ENV?u(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):u(!1):void 0,s.rethrowCaughtError()},__purge:function(){c={}},__getListenerBank:function(){return c}};t.exports=f},function(t,e,o){"use strict";function n(){if(a)for(var t in l){var e=l[t],o=a.indexOf(t);if(o>-1?void 0:"production"!=={ENV:"production"}.NODE_ENV?s(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",t):s(!1),!u.plugins[o]){e.extractEvents?void 0:"production"!=={ENV:"production"}.NODE_ENV?s(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",t):s(!1),u.plugins[o]=e;var n=e.eventTypes;for(var r in n)i(n[r],e,r)?void 0:"production"!=={ENV:"production"}.NODE_ENV?s(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",r,t):s(!1)}}}function i(t,e,o){u.eventNameDispatchConfigs.hasOwnProperty(o)?"production"!=={ENV:"production"}.NODE_ENV?s(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",o):s(!1):void 0,u.eventNameDispatchConfigs[o]=t;var n=t.phasedRegistrationNames;if(n){for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];r(a,e,o)}return!0}return!!t.registrationName&&(r(t.registrationName,e,o),!0)}function r(t,e,o){u.registrationNameModules[t]?"production"!=={ENV:"production"}.NODE_ENV?s(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",t):s(!1):void 0,u.registrationNameModules[t]=e,u.registrationNameDependencies[t]=e.eventTypes[o].dependencies}var s=o(13),a=null,l={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(t){a?"production"!=={ENV:"production"}.NODE_ENV?s(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):s(!1):void 0,a=Array.prototype.slice.call(t),n()},injectEventPluginsByName:function(t){var e=!1;for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];l.hasOwnProperty(o)&&l[o]===i||(l[o]?"production"!=={ENV:"production"}.NODE_ENV?s(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",o):s(!1):void 0,l[o]=i,e=!0)}e&&n()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return u.registrationNameModules[e.registrationName]||null;for(var o in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(o)){var n=u.registrationNameModules[e.phasedRegistrationNames[o]];if(n)return n}return null},_resetEventPlugins:function(){a=null;for(var t in l)l.hasOwnProperty(t)&&delete l[t];u.plugins.length=0;var e=u.eventNameDispatchConfigs;for(var o in e)e.hasOwnProperty(o)&&delete e[o];var n=u.registrationNameModules;for(var i in n)n.hasOwnProperty(i)&&delete n[i]}};t.exports=u},function(t,e,o){"use strict";function n(t){return t===v.topMouseUp||t===v.topTouchEnd||t===v.topTouchCancel}function i(t){return t===v.topMouseMove||t===v.topTouchMove}function r(t){return t===v.topMouseDown||t===v.topTouchStart}function s(t,e,o,n){var i=t.type||"unknown-event";t.currentTarget=f.Mount.getNode(n),e?d.invokeGuardedCallbackWithCatch(i,o,t,n):d.invokeGuardedCallback(i,o,t,n),t.currentTarget=null}function a(t,e){var o=t._dispatchListeners,n=t._dispatchIDs;if("production"!=={ENV:"production"}.NODE_ENV&&h(t),Array.isArray(o))for(var i=0;i<o.length&&!t.isPropagationStopped();i++)s(t,e,o[i],n[i]);else o&&s(t,e,o,n);t._dispatchListeners=null,t._dispatchIDs=null}function l(t){var e=t._dispatchListeners,o=t._dispatchIDs;if("production"!=={ENV:"production"}.NODE_ENV&&h(t),Array.isArray(e)){for(var n=0;n<e.length&&!t.isPropagationStopped();n++)if(e[n](t,o[n]))return o[n]}else if(e&&e(t,o))return o;return null}function u(t){var e=l(t);return t._dispatchIDs=null,t._dispatchListeners=null,e}function p(t){"production"!=={ENV:"production"}.NODE_ENV&&h(t);var e=t._dispatchListeners,o=t._dispatchIDs;Array.isArray(e)?"production"!=={ENV:"production"}.NODE_ENV?_(!1,"executeDirectDispatch(...): Invalid `event`."):_(!1):void 0;var n=e?e(t,o):null;return t._dispatchListeners=null,t._dispatchIDs=null,n}function c(t){return!!t._dispatchListeners}var h,m=o(30),d=o(34),_=o(13),y=o(25),f={Mount:null,injectMount:function(t){f.Mount=t,"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?y(t&&t.getNode&&t.getID,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode or getID."):void 0)}},v=m.topLevelTypes;"production"!=={ENV:"production"}.NODE_ENV&&(h=function(t){var e=t._dispatchListeners,o=t._dispatchIDs,n=Array.isArray(e),i=Array.isArray(o),r=i?o.length:o?1:0,s=n?e.length:e?1:0;"production"!=={ENV:"production"}.NODE_ENV?y(i===n&&r===s,"EventPluginUtils: Invalid `event`."):void 0});var x={isEndish:n,isMoveish:i,isStartish:r,executeDirectDispatch:p,executeDispatchesInOrder:a,executeDispatchesInOrderStopAtTrue:u,hasDispatches:c,getNode:function(t){return f.Mount.getNode(t)},getID:function(t){return f.Mount.getID(t)},injection:f};t.exports=x},function(t,e,o){"use strict";function n(t,e,o,n){try{return e(o,n)}catch(r){return void(null===i&&(i=r))}}var i=null,r={invokeGuardedCallback:n,invokeGuardedCallbackWithCatch:n,rethrowCaughtError:function(){if(i){var t=i;throw i=null,t}}};if("production"!=={ENV:"production"}.NODE_ENV&&"undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var s=document.createElement("react");r.invokeGuardedCallback=function(t,e,o,n){var i=e.bind(null,o,n),r="react-"+t;s.addEventListener(r,i,!1);var a=document.createEvent("Event");a.initEvent(r,!1,!1),s.dispatchEvent(a),s.removeEventListener(r,i,!1)}}t.exports=r},function(t,e,o){"use strict";function n(t,e){if(null==e?"production"!=={ENV:"production"}.NODE_ENV?i(!1,"accumulateInto(...): Accumulated items must not be null or undefined."):i(!1):void 0,null==t)return e;var o=Array.isArray(t),n=Array.isArray(e);return o&&n?(t.push.apply(t,e),t):o?(t.push(e),t):n?[t].concat(e):[t,e]}var i=o(13);t.exports=n},function(t,e){"use strict";var o=function(t,e,o){Array.isArray(t)?t.forEach(e,o):t&&e.call(o,t)};t.exports=o},function(t,e,o){"use strict";function n(t){i.enqueueEvents(t),i.processEventQueue(!1)}var i=o(31),r={handleTopLevel:function(t,e,o,r,s){var a=i.extractEvents(t,e,o,r,s);n(a)}};t.exports=r},function(t,e){"use strict";var o={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){o.currentScrollLeft=t.x,o.currentScrollTop=t.y}};t.exports=o},function(t,e){"use strict";function o(t,e){if(null==t)throw new TypeError("Object.assign target cannot be null or undefined");for(var o=Object(t),n=Object.prototype.hasOwnProperty,i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r){var s=Object(r);for(var a in s)n.call(s,a)&&(o[a]=s[a])}}return o}t.exports=o},function(t,e,o){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function n(t,e){if(!r.canUseDOM||e&&!("addEventListener"in document))return!1;var o="on"+t,n=o in document;if(!n){var s=document.createElement("div");s.setAttribute(o,"return;"),n="function"==typeof s[o]}return!n&&i&&"wheel"===t&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}var i,r=o(9);r.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=n},function(t,e){"use strict";var o={useCreateElement:!1};t.exports=o},function(t,e,o){"use strict";var n=o(5),i=o(39),r=o(43),s="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,a={key:!0,ref:!0,__self:!0,__source:!0},l=function(t,e,o,n,i,a,l){var u={$$typeof:s,type:t,key:e,ref:o,props:l,_owner:a};return"production"!=={ENV:"production"}.NODE_ENV&&(u._store={},r?(Object.defineProperty(u._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(u,"_self",{configurable:!1,enumerable:!1,writable:!1,value:n}),Object.defineProperty(u,"_source",{configurable:!1,enumerable:!1,writable:!1,value:i})):(u._store.validated=!1,u._self=n,u._source=i),Object.freeze(u.props),Object.freeze(u)),u};l.createElement=function(t,e,o){var i,r={},s=null,u=null,p=null,c=null;if(null!=e){u=void 0===e.ref?null:e.ref,s=void 0===e.key?null:""+e.key,p=void 0===e.__self?null:e.__self,c=void 0===e.__source?null:e.__source;for(i in e)e.hasOwnProperty(i)&&!a.hasOwnProperty(i)&&(r[i]=e[i])}var h=arguments.length-2;if(1===h)r.children=o;else if(h>1){for(var m=Array(h),d=0;d<h;d++)m[d]=arguments[d+2];r.children=m}if(t&&t.defaultProps){var _=t.defaultProps;for(i in _)"undefined"==typeof r[i]&&(r[i]=_[i])}return l(t,s,u,p,c,n.current,r)},l.createFactory=function(t){var e=l.createElement.bind(null,t);return e.type=t,e},l.cloneAndReplaceKey=function(t,e){var o=l(t.type,e,t.ref,t._self,t._source,t._owner,t.props);return o},l.cloneAndReplaceProps=function(t,e){var o=l(t.type,t.key,t.ref,t._self,t._source,t._owner,e);return"production"!=={ENV:"production"}.NODE_ENV&&(o._store.validated=t._store.validated),o},l.cloneElement=function(t,e,o){var r,s=i({},t.props),u=t.key,p=t.ref,c=t._self,h=t._source,m=t._owner;if(null!=e){void 0!==e.ref&&(p=e.ref,m=n.current),void 0!==e.key&&(u=""+e.key);for(r in e)e.hasOwnProperty(r)&&!a.hasOwnProperty(r)&&(s[r]=e[r])}var d=arguments.length-2;if(1===d)s.children=o;else if(d>1){for(var _=Array(d),y=0;y<d;y++)_[y]=arguments[y+2];s.children=_}return l(t.type,u,p,c,h,m,s)},l.isValidElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===s},t.exports=l},function(t,e,o){"use strict";var n=!1;if("production"!=={ENV:"production"}.NODE_ENV)try{Object.defineProperty({},"x",{get:function(){}}),n=!0}catch(i){}t.exports=n},function(t,e){"use strict";function o(t){return!!r[t]}function n(t){r[t]=!0}function i(t){delete r[t]}var r={},s={isNullComponentID:o,registerNullComponentID:n,deregisterNullComponentID:i};t.exports=s},function(t,e,o){"use strict";function n(t){return m+t.toString(36)}function i(t,e){return t.charAt(e)===m||e===t.length}function r(t){return""===t||t.charAt(0)===m&&t.charAt(t.length-1)!==m}function s(t,e){return 0===e.indexOf(t)&&i(e,t.length)}function a(t){return t?t.substr(0,t.lastIndexOf(m)):""}function l(t,e){if(r(t)&&r(e)?void 0:"production"!=={ENV:"production"}.NODE_ENV?h(!1,"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",t,e):h(!1),s(t,e)?void 0:"production"!=={ENV:"production"}.NODE_ENV?h(!1,"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",t,e):h(!1),t===e)return t;var o,n=t.length+d;for(o=n;o<e.length&&!i(e,o);o++);return e.substr(0,o)}function u(t,e){var o=Math.min(t.length,e.length);if(0===o)return"";for(var n=0,s=0;s<=o;s++)if(i(t,s)&&i(e,s))n=s;else if(t.charAt(s)!==e.charAt(s))break;var a=t.substr(0,n);return r(a)?void 0:"production"!=={ENV:"production"}.NODE_ENV?h(!1,"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",t,e,a):h(!1),a}function p(t,e,o,n,i,r){t=t||"",e=e||"",t===e?"production"!=={ENV:"production"}.NODE_ENV?h(!1,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",t):h(!1):void 0;var u=s(e,t);u||s(t,e)?void 0:"production"!=={ENV:"production"}.NODE_ENV?h(!1,"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",t,e):h(!1);for(var p=0,c=u?a:l,m=t;;m=c(m,e)){var d;if(i&&m===t||r&&m===e||(d=o(m,u,n)),d===!1||m===e)break;p++<_?void 0:"production"!=={ENV:"production"}.NODE_ENV?h(!1,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",t,e,m):h(!1)}}var c=o(46),h=o(13),m=".",d=m.length,_=1e4,y={createReactRootID:function(){return n(c.createReactRootIndex())},createReactID:function(t,e){return t+e},getReactRootIDFromNodeID:function(t){if(t&&t.charAt(0)===m&&t.length>1){var e=t.indexOf(m,1);return e>-1?t.substr(0,e):t}return null},traverseEnterLeave:function(t,e,o,n,i){var r=u(t,e);r!==t&&p(t,r,o,n,!1,!0),r!==e&&p(r,e,o,i,!0,!1)},traverseTwoPhase:function(t,e,o){t&&(p("",t,e,o,!0,!1),p(t,"",e,o,!1,!0))},traverseTwoPhaseSkipTarget:function(t,e,o){t&&(p("",t,e,o,!0,!0),p(t,"",e,o,!0,!0))},traverseAncestors:function(t,e,o){p("",t,e,o,!0,!1)},getFirstCommonAncestorID:u,_getNextDescendantID:l,isAncestorIDOf:s,SEPARATOR:m};t.exports=y},function(t,e){"use strict";var o={injectCreateReactRootIndex:function(t){n.createReactRootIndex=t}},n={createReactRootIndex:null,injection:o};t.exports=n},function(t,e){"use strict";var o={remove:function(t){t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};t.exports=o},function(t,e,o){"use strict";var n=o(49),i=/\/?>/,r={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(t){var e=n(t);return t.replace(i," "+r.CHECKSUM_ATTR_NAME+'="'+e+'"$&')},canReuseMarkup:function(t,e){var o=e.getAttribute(r.CHECKSUM_ATTR_NAME);o=o&&parseInt(o,10);var i=n(t);return i===o}};t.exports=r},function(t,e){"use strict";function o(t){for(var e=1,o=0,i=0,r=t.length,s=r&-4;i<s;){for(;i<Math.min(i+4096,s);i+=4)o+=(e+=t.charCodeAt(i))+(e+=t.charCodeAt(i+1))+(e+=t.charCodeAt(i+2))+(e+=t.charCodeAt(i+3));e%=n,o%=n}for(;i<r;i++)o+=e+=t.charCodeAt(i);return e%=n,o%=n,e|o<<16}var n=65521;t.exports=o},function(t,e,o){"use strict";function n(){i.attachRefs(this,this._currentElement)}var i=o(51),r={mountComponent:function(t,e,o,i){var r=t.mountComponent(e,o,i);return t._currentElement&&null!=t._currentElement.ref&&o.getReactMountReady().enqueue(n,t),r},unmountComponent:function(t){i.detachRefs(t,t._currentElement),t.unmountComponent()},receiveComponent:function(t,e,o,r){var s=t._currentElement;if(e!==s||r!==t._context){var a=i.shouldUpdateRefs(s,e);a&&i.detachRefs(t,s),t.receiveComponent(e,o,r),a&&t._currentElement&&null!=t._currentElement.ref&&o.getReactMountReady().enqueue(n,t)}},performUpdateIfNecessary:function(t,e){t.performUpdateIfNecessary(e)}};t.exports=r},function(t,e,o){"use strict";function n(t,e,o){"function"==typeof t?t(e.getPublicInstance()):r.addComponentAsRefTo(e,t,o)}function i(t,e,o){"function"==typeof t?t(null):r.removeComponentAsRefFrom(e,t,o)}var r=o(52),s={};s.attachRefs=function(t,e){if(null!==e&&e!==!1){var o=e.ref;null!=o&&n(o,t,e._owner)}},s.shouldUpdateRefs=function(t,e){var o=null===t||t===!1,n=null===e||e===!1;return o||n||e._owner!==t._owner||e.ref!==t.ref},s.detachRefs=function(t,e){if(null!==e&&e!==!1){var o=e.ref;null!=o&&i(o,t,e._owner)}},t.exports=s},function(t,e,o){"use strict";var n=o(13),i={isValidOwner:function(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)},addComponentAsRefTo:function(t,e,o){i.isValidOwner(o)?void 0:"production"!=={ENV:"production"}.NODE_ENV?n(!1,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):n(!1),o.attachRef(e,t)},removeComponentAsRefFrom:function(t,e,o){i.isValidOwner(o)?void 0:"production"!=={ENV:"production"}.NODE_ENV?n(!1,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):n(!1),o.getPublicInstance().refs[e]===t.getPublicInstance()&&o.detachRef(e)}};t.exports=i},function(t,e,o){"use strict";function n(t){l.enqueueUpdate(t)}function i(t,e){var o=a.get(t);return o?("production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?c(null==r.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",e):void 0),o):("production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?c(!e,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",e,e,t.constructor.displayName):void 0),null)}var r=o(5),s=o(42),a=o(47),l=o(54),u=o(39),p=o(13),c=o(25),h={isMounted:function(t){if("production"!=={ENV:"production"}.NODE_ENV){var e=r.current;null!==e&&("production"!=={ENV:"production"}.NODE_ENV?c(e._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",e.getName()||"A component"):void 0,e._warnedAboutRefsInRender=!0)}var o=a.get(t);return!!o&&!!o._renderedComponent},enqueueCallback:function(t,e){"function"!=typeof e?"production"!=={ENV:"production"}.NODE_ENV?p(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):p(!1):void 0;var o=i(t);return o?(o._pendingCallbacks?o._pendingCallbacks.push(e):o._pendingCallbacks=[e],void n(o)):null},enqueueCallbackInternal:function(t,e){"function"!=typeof e?"production"!=={ENV:"production"}.NODE_ENV?p(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):p(!1):void 0,t._pendingCallbacks?t._pendingCallbacks.push(e):t._pendingCallbacks=[e],n(t)},enqueueForceUpdate:function(t){var e=i(t,"forceUpdate");e&&(e._pendingForceUpdate=!0,n(e))},enqueueReplaceState:function(t,e){var o=i(t,"replaceState");o&&(o._pendingStateQueue=[e],o._pendingReplaceState=!0,n(o))},enqueueSetState:function(t,e){var o=i(t,"setState");if(o){var r=o._pendingStateQueue||(o._pendingStateQueue=[]);r.push(e),n(o)}},enqueueSetProps:function(t,e){var o=i(t,"setProps");o&&h.enqueueSetPropsInternal(o,e)},enqueueSetPropsInternal:function(t,e){var o=t._topLevelWrapper;o?void 0:"production"!=={ENV:"production"}.NODE_ENV?p(!1,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):p(!1);var i=o._pendingElement||o._currentElement,r=i.props,a=u({},r.props,e);o._pendingElement=s.cloneAndReplaceProps(i,s.cloneAndReplaceProps(r,a)),n(o)},enqueueReplaceProps:function(t,e){var o=i(t,"replaceProps");o&&h.enqueueReplacePropsInternal(o,e)},enqueueReplacePropsInternal:function(t,e){var o=t._topLevelWrapper;o?void 0:"production"!=={ENV:"production"}.NODE_ENV?p(!1,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):p(!1);var i=o._pendingElement||o._currentElement,r=i.props;o._pendingElement=s.cloneAndReplaceProps(i,s.cloneAndReplaceProps(r,e)),n(o)},enqueueElementInternal:function(t,e){t._pendingElement=e,n(t)}};t.exports=h},function(t,e,o){"use strict";function n(){S.ReactReconcileTransaction&&g?void 0:"production"!=={ENV:"production"}.NODE_ENV?y(!1,"ReactUpdates: must inject a reconcile transaction class and batching strategy"):y(!1)}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=p.getPooled(),this.reconcileTransaction=S.ReactReconcileTransaction.getPooled(!1)}function r(t,e,o,i,r,s){n(),g.batchedUpdates(t,e,o,i,r,s)}function s(t,e){return t._mountOrder-e._mountOrder}function a(t){var e=t.dirtyComponentsLength;e!==f.length?"production"!=={ENV:"production"}.NODE_ENV?y(!1,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",e,f.length):y(!1):void 0,f.sort(s);for(var o=0;o<e;o++){var n=f[o],i=n._pendingCallbacks;if(n._pendingCallbacks=null,m.performUpdateIfNecessary(n,t.reconcileTransaction),i)for(var r=0;r<i.length;r++)t.callbackQueue.enqueue(i[r],n.getPublicInstance())}}function l(t){return n(),g.isBatchingUpdates?void f.push(t):void g.batchedUpdates(l,t)}function u(t,e){g.isBatchingUpdates?void 0:"production"!=={ENV:"production"}.NODE_ENV?y(!1,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."):y(!1),v.enqueue(t,e),x=!0}var p=o(55),c=o(56),h=o(18),m=o(50),d=o(57),_=o(39),y=o(13),f=[],v=p.getPooled(),x=!1,g=null,b={initialize:function(){this.dirtyComponentsLength=f.length},close:function(){this.dirtyComponentsLength!==f.length?(f.splice(0,this.dirtyComponentsLength),P()):f.length=0}},C={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},E=[b,C];_(i.prototype,d.Mixin,{getTransactionWrappers:function(){return E},destructor:function(){this.dirtyComponentsLength=null,p.release(this.callbackQueue),this.callbackQueue=null,S.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,o){return d.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,o)}}),c.addPoolingTo(i);var P=function(){for(;f.length||x;){if(f.length){var t=i.getPooled();t.perform(a,null,t),i.release(t)}if(x){x=!1;var e=v;v=p.getPooled(),e.notifyAll(),p.release(e)}}};P=h.measure("ReactUpdates","flushBatchedUpdates",P);var D={injectReconcileTransaction:function(t){t?void 0:"production"!=={ENV:"production"}.NODE_ENV?y(!1,"ReactUpdates: must provide a reconcile transaction class"):y(!1),S.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){t?void 0:"production"!=={ENV:"production"}.NODE_ENV?y(!1,"ReactUpdates: must provide a batching strategy"):y(!1),"function"!=typeof t.batchedUpdates?"production"!=={ENV:"production"}.NODE_ENV?y(!1,"ReactUpdates: must provide a batchedUpdates() function"):y(!1):void 0,"boolean"!=typeof t.isBatchingUpdates?"production"!=={ENV:"production"}.NODE_ENV?y(!1,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):y(!1):void 0,g=t}},S={ReactReconcileTransaction:null,batchedUpdates:r,enqueueUpdate:l,flushBatchedUpdates:P,injection:D,asap:u};t.exports=S},function(t,e,o){"use strict";function n(){this._callbacks=null,this._contexts=null}var i=o(56),r=o(39),s=o(13);r(n.prototype,{enqueue:function(t,e){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(t),this._contexts.push(e)},notifyAll:function(){var t=this._callbacks,e=this._contexts;if(t){t.length!==e.length?"production"!=={ENV:"production"}.NODE_ENV?s(!1,"Mismatched list of contexts in callback queue"):s(!1):void 0,this._callbacks=null,this._contexts=null;for(var o=0;o<t.length;o++)t[o].call(e[o]);t.length=0,e.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),i.addPoolingTo(n),t.exports=n},function(t,e,o){"use strict";var n=o(13),i=function(t){var e=this;if(e.instancePool.length){var o=e.instancePool.pop();return e.call(o,t),o}return new e(t)},r=function(t,e){var o=this;if(o.instancePool.length){var n=o.instancePool.pop();return o.call(n,t,e),n}return new o(t,e)},s=function(t,e,o){var n=this;if(n.instancePool.length){var i=n.instancePool.pop();return n.call(i,t,e,o),i}return new n(t,e,o)},a=function(t,e,o,n){var i=this;if(i.instancePool.length){var r=i.instancePool.pop();return i.call(r,t,e,o,n),r}return new i(t,e,o,n)},l=function(t,e,o,n,i){var r=this;if(r.instancePool.length){var s=r.instancePool.pop();return r.call(s,t,e,o,n,i),s}return new r(t,e,o,n,i)},u=function(t){var e=this;t instanceof e?void 0:"production"!=={ENV:"production"}.NODE_ENV?n(!1,"Trying to release an instance into a pool of a different type."):n(!1),t.destructor(),e.instancePool.length<e.poolSize&&e.instancePool.push(t)},p=10,c=i,h=function(t,e){var o=t;return o.instancePool=[],o.getPooled=e||c,o.poolSize||(o.poolSize=p),o.release=u,o},m={addPoolingTo:h,oneArgumentPooler:i,twoArgumentPooler:r,threeArgumentPooler:s,fourArgumentPooler:a,fiveArgumentPooler:l};t.exports=m},function(t,e,o){"use strict";var n=o(13),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,e,o,i,r,s,a,l){this.isInTransaction()?"production"!=={ENV:"production"}.NODE_ENV?n(!1,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):n(!1):void 0;var u,p;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),p=t.call(e,o,i,r,s,a,l),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(c){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return p},initializeAll:function(t){for(var e=this.transactionWrappers,o=t;o<e.length;o++){var n=e[o];try{this.wrapperInitData[o]=r.OBSERVED_ERROR,this.wrapperInitData[o]=n.initialize?n.initialize.call(this):null}finally{if(this.wrapperInitData[o]===r.OBSERVED_ERROR)try{this.initializeAll(o+1)}catch(i){}}}},closeAll:function(t){this.isInTransaction()?void 0:"production"!=={ENV:"production"}.NODE_ENV?n(!1,"Transaction.closeAll(): Cannot close transaction when none are open."):n(!1);for(var e=this.transactionWrappers,o=t;o<e.length;o++){var i,s=e[o],a=this.wrapperInitData[o];try{i=!0,a!==r.OBSERVED_ERROR&&s.close&&s.close.call(this,a),i=!1}finally{if(i)try{this.closeAll(o+1)}catch(l){}}}this.wrapperInitData.length=0}},r={Mixin:i,OBSERVED_ERROR:{}};t.exports=r},function(t,e,o){"use strict";var n={};"production"!=={ENV:"production"}.NODE_ENV&&Object.freeze(n),t.exports=n},function(t,e,o){"use strict";function n(t,e){var o=!0;t:for(;o;){var n=t,r=e;if(o=!1,n&&r){if(n===r)return!0;if(i(n))return!1;if(i(r)){t=n,e=r.parentNode,o=!0;continue t}return n.contains?n.contains(r):!!n.compareDocumentPosition&&!!(16&n.compareDocumentPosition(r))}return!1}}var i=o(60);t.exports=n},function(t,e,o){"use strict";function n(t){return i(t)&&3==t.nodeType}var i=o(61);t.exports=n},function(t,e){"use strict";function o(t){return!(!t||!("function"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}t.exports=o},function(t,e,o){"use strict";function n(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}function i(t){return"function"==typeof t&&"undefined"!=typeof t.prototype&&"function"==typeof t.prototype.mountComponent&&"function"==typeof t.prototype.receiveComponent}function r(t){var e;if(null===t||t===!1)e=new a(r);else if("object"==typeof t){var o=t;!o||"function"!=typeof o.type&&"string"!=typeof o.type?"production"!=={ENV:"production"}.NODE_ENV?p(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==o.type?o.type:typeof o.type,n(o._owner)):p(!1):void 0,e="string"==typeof o.type?l.createInternalComponent(o):i(o.type)?new o.type(o):new h}else"string"==typeof t||"number"==typeof t?e=l.createInstanceForText(t):"production"!=={ENV:"production"}.NODE_ENV?p(!1,"Encountered invalid React node of type %s",typeof t):p(!1);return"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?c("function"==typeof e.construct&&"function"==typeof e.mountComponent&&"function"==typeof e.receiveComponent&&"function"==typeof e.unmountComponent,"Only React Components can be mounted."):void 0),e.construct(t),e._mountIndex=0,e._mountImage=null,"production"!=={ENV:"production"}.NODE_ENV&&(e._isOwnerNecessary=!1,e._warnedAboutRefsInRender=!1),"production"!=={ENV:"production"}.NODE_ENV&&Object.preventExtensions&&Object.preventExtensions(e),e}var s=o(63),a=o(68),l=o(69),u=o(39),p=o(13),c=o(25),h=function(){};u(h.prototype,s.Mixin,{_instantiateReactComponent:r}),t.exports=r},function(t,e,o){"use strict";function n(t){var e=t._currentElement._owner||null;if(e){var o=e.getName();if(o)return" Check the render method of `"+o+"`."}return""}function i(t){}var r=o(64),s=o(5),a=o(42),l=o(47),u=o(18),p=o(65),c=o(66),h=o(50),m=o(53),d=o(39),_=o(58),y=o(13),f=o(67),v=o(25);i.prototype.render=function(){var t=l.get(this)._currentElement.type;return t(this.props,this.context,this.updater)};var x=1,g={construct:function(t){this._currentElement=t,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(t,e,o){this._context=o,this._mountOrder=x++,this._rootNodeID=t;var n,r,u=this._processProps(this._currentElement.props),p=this._processContext(o),c=this._currentElement.type,d="prototype"in c;if(d)if("production"!=={ENV:"production"}.NODE_ENV){s.current=this;try{n=new c(u,p,m)}finally{s.current=null}}else n=new c(u,p,m);d&&null!==n&&n!==!1&&!a.isValidElement(n)||(r=n,n=new i(c)),"production"!=={ENV:"production"}.NODE_ENV&&(null==n.render?"production"!=={ENV:"production"}.NODE_ENV?v(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`, returned null/false from a stateless component, or tried to render an element whose type is a function that isn't a React component.",c.displayName||c.name||"Component"):void 0:"production"!=={ENV:"production"}.NODE_ENV?v(c.prototype&&c.prototype.isReactComponent||!d||!(n instanceof c),"%s(...): React component classes must extend React.Component.",c.displayName||c.name||"Component"):void 0),n.props=u,n.context=p,n.refs=_,n.updater=m,this._instance=n,l.set(n,this),"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?v(!n.getInitialState||n.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"):void 0,"production"!=={ENV:"production"}.NODE_ENV?v(!n.getDefaultProps||n.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"):void 0,"production"!=={ENV:"production"}.NODE_ENV?v(!n.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"):void 0,"production"!=={ENV:"production"}.NODE_ENV?v(!n.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"):void 0,"production"!=={ENV:"production"}.NODE_ENV?v("function"!=typeof n.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"):void 0,"production"!=={ENV:"production"}.NODE_ENV?v("function"!=typeof n.componentDidUnmount,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",this.getName()||"A component"):void 0,"production"!=={ENV:"production"}.NODE_ENV?v("function"!=typeof n.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component"):void 0);var f=n.state;void 0===f&&(n.state=f=null),"object"!=typeof f||Array.isArray(f)?"production"!=={ENV:"production"}.NODE_ENV?y(!1,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):y(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,n.componentWillMount&&(n.componentWillMount(),this._pendingStateQueue&&(n.state=this._processPendingState(n.props,n.context))),void 0===r&&(r=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(r);var g=h.mountComponent(this._renderedComponent,t,e,this._processChildContext(o));return n.componentDidMount&&e.getReactMountReady().enqueue(n.componentDidMount,n),g},unmountComponent:function(){var t=this._instance;t.componentWillUnmount&&t.componentWillUnmount(),h.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,l.remove(t)},_maskContext:function(t){var e=null,o=this._currentElement.type,n=o.contextTypes;if(!n)return _;e={};for(var i in n)e[i]=t[i];return e},_processContext:function(t){var e=this._maskContext(t);if("production"!=={ENV:"production"}.NODE_ENV){var o=this._currentElement.type;o.contextTypes&&this._checkPropTypes(o.contextTypes,e,p.context)}return e},_processChildContext:function(t){var e=this._currentElement.type,o=this._instance,n=o.getChildContext&&o.getChildContext();if(n){"object"!=typeof e.childContextTypes?"production"!=={ENV:"production"}.NODE_ENV?y(!1,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):y(!1):void 0,"production"!=={ENV:"production"}.NODE_ENV&&this._checkPropTypes(e.childContextTypes,n,p.childContext);for(var i in n)i in e.childContextTypes?void 0:"production"!=={ENV:"production"}.NODE_ENV?y(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",i):y(!1);return d({},t,n)}return t},_processProps:function(t){if("production"!=={ENV:"production"}.NODE_ENV){var e=this._currentElement.type;e.propTypes&&this._checkPropTypes(e.propTypes,t,p.prop)}return t},_checkPropTypes:function(t,e,o){var i=this.getName();for(var r in t)if(t.hasOwnProperty(r)){var s;try{"function"!=typeof t[r]?"production"!=={ENV:"production"}.NODE_ENV?y(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",i||"React class",c[o],r):y(!1):void 0,s=t[r](e,r,i,o)}catch(a){s=a}if(s instanceof Error){var l=n(this);o===p.prop?"production"!=={ENV:"production"}.NODE_ENV?v(!1,"Failed Composite propType: %s%s",s.message,l):void 0:"production"!=={ENV:"production"}.NODE_ENV?v(!1,"Failed Context Types: %s%s",s.message,l):void 0}}},receiveComponent:function(t,e,o){var n=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(e,n,t,i,o)},performUpdateIfNecessary:function(t){null!=this._pendingElement&&h.receiveComponent(this,this._pendingElement||this._currentElement,t,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(t,e,o,n,i){var r,s=this._instance,a=this._context===i?s.context:this._processContext(i);e===o?r=o.props:(r=this._processProps(o.props),s.componentWillReceiveProps&&s.componentWillReceiveProps(r,a));var l=this._processPendingState(r,a),u=this._pendingForceUpdate||!s.shouldComponentUpdate||s.shouldComponentUpdate(r,l,a);"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?v("undefined"!=typeof u,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"):void 0),u?(this._pendingForceUpdate=!1,this._performComponentUpdate(o,r,l,a,t,i)):(this._currentElement=o,this._context=i,s.props=r,s.state=l,s.context=a)},_processPendingState:function(t,e){var o=this._instance,n=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!n)return o.state;if(i&&1===n.length)return n[0];for(var r=d({},i?n[0]:o.state),s=i?1:0;s<n.length;s++){var a=n[s];d(r,"function"==typeof a?a.call(o,r,t,e):a)}return r},_performComponentUpdate:function(t,e,o,n,i,r){var s,a,l,u=this._instance,p=Boolean(u.componentDidUpdate);p&&(s=u.props,a=u.state,l=u.context),u.componentWillUpdate&&u.componentWillUpdate(e,o,n),this._currentElement=t,this._context=r,u.props=e,u.state=o,u.context=n,this._updateRenderedComponent(i,r),p&&i.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,s,a,l),u)},_updateRenderedComponent:function(t,e){var o=this._renderedComponent,n=o._currentElement,i=this._renderValidatedComponent();if(f(n,i))h.receiveComponent(o,i,t,this._processChildContext(e));else{var r=this._rootNodeID,s=o._rootNodeID;h.unmountComponent(o),this._renderedComponent=this._instantiateReactComponent(i);var a=h.mountComponent(this._renderedComponent,r,t,this._processChildContext(e));this._replaceNodeWithMarkupByID(s,a)}},_replaceNodeWithMarkupByID:function(t,e){r.replaceNodeWithMarkupByID(t,e)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t=this._instance,e=t.render();return"production"!=={ENV:"production"}.NODE_ENV&&"undefined"==typeof e&&t.render._isMockFunction&&(e=null),e},_renderValidatedComponent:function(){var t;s.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{s.current=null}return null===t||t===!1||a.isValidElement(t)?void 0:"production"!=={ENV:"production"}.NODE_ENV?y(!1,"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"):y(!1),t},attachRef:function(t,e){var o=this.getPublicInstance();null==o?"production"!=={ENV:"production"}.NODE_ENV?y(!1,"Stateless function components cannot have refs."):y(!1):void 0;var n=e.getPublicInstance();if("production"!=={ENV:"production"}.NODE_ENV){var i=e&&e.getName?e.getName():"a component";"production"!=={ENV:"production"}.NODE_ENV?v(null!=n,'Stateless function components cannot be given refs (See ref "%s" in %s created by %s). Attempts to access this ref will fail.',t,i,this.getName()):void 0}var r=o.refs===_?o.refs={}:o.refs;r[t]=n},detachRef:function(t){var e=this.getPublicInstance().refs;delete e[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){var t=this._instance;return t instanceof i?null:t},_instantiateReactComponent:null};u.measureMethods(g,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var b={Mixin:g};t.exports=b},function(t,e,o){"use strict";
var n=o(13),i=!1,r={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){i?"production"!=={ENV:"production"}.NODE_ENV?n(!1,"ReactCompositeComponent: injectEnvironment() can only be called once."):n(!1):void 0,r.unmountIDFromEnvironment=t.unmountIDFromEnvironment,r.replaceNodeWithMarkupByID=t.replaceNodeWithMarkupByID,r.processChildrenUpdates=t.processChildrenUpdates,i=!0}}};t.exports=r},function(t,e,o){"use strict";var n=o(17),i=n({prop:null,context:null,childContext:null});t.exports=i},function(t,e,o){"use strict";var n={};"production"!=={ENV:"production"}.NODE_ENV&&(n={prop:"prop",context:"context",childContext:"child context"}),t.exports=n},function(t,e){"use strict";function o(t,e){var o=null===t||t===!1,n=null===e||e===!1;if(o||n)return o===n;var i=typeof t,r=typeof e;return"string"===i||"number"===i?"string"===r||"number"===r:"object"===r&&t.type===e.type&&t.key===e.key}t.exports=o},function(t,e,o){"use strict";function n(){s.registerNullComponentID(this._rootNodeID)}var i,r=o(42),s=o(44),a=o(50),l=o(39),u={injectEmptyComponent:function(t){i=r.createElement(t)}},p=function(t){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=t(i)};l(p.prototype,{construct:function(t){},mountComponent:function(t,e,o){return e.getReactMountReady().enqueue(n,this),this._rootNodeID=t,a.mountComponent(this._renderedComponent,t,e,o)},receiveComponent:function(){},unmountComponent:function(t,e,o){a.unmountComponent(this._renderedComponent),s.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),p.injection=u,t.exports=p},function(t,e,o){"use strict";function n(t){if("function"==typeof t.type)return t.type;var e=t.type,o=c[e];return null==o&&(c[e]=o=u(e)),o}function i(t){return p?void 0:"production"!=={ENV:"production"}.NODE_ENV?l(!1,"There is no registered component for the tag %s",t.type):l(!1),new p(t.type,t.props)}function r(t){return new h(t)}function s(t){return t instanceof h}var a=o(39),l=o(13),u=null,p=null,c={},h=null,m={injectGenericComponentClass:function(t){p=t},injectTextComponentClass:function(t){h=t},injectComponentClasses:function(t){a(c,t)}},d={getComponentClassForElement:n,createInternalComponent:i,createInstanceForText:r,isTextComponent:s,injection:m};t.exports=d},function(t,e,o){"use strict";var n=o(39),i=o(15),r=o(25),s=i;if("production"!=={ENV:"production"}.NODE_ENV){var a=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],l=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],u=l.concat(["button"]),p=["dd","dt","li","option","optgroup","p","rp","rt"],c={parentTag:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},h=function(t,e,o){var i=n({},t||c),r={tag:e,instance:o};return l.indexOf(e)!==-1&&(i.aTagInScope=null,i.buttonTagInScope=null,i.nobrTagInScope=null),u.indexOf(e)!==-1&&(i.pTagInButtonScope=null),a.indexOf(e)!==-1&&"address"!==e&&"div"!==e&&"p"!==e&&(i.listItemTagAutoclosing=null,i.dlItemTagAutoclosing=null),i.parentTag=r,"form"===e&&(i.formTag=r),"a"===e&&(i.aTagInScope=r),"button"===e&&(i.buttonTagInScope=r),"nobr"===e&&(i.nobrTagInScope=r),"p"===e&&(i.pTagInButtonScope=r),"li"===e&&(i.listItemTagAutoclosing=r),"dd"!==e&&"dt"!==e||(i.dlItemTagAutoclosing=r),i},m=function(t,e){switch(e){case"select":return"option"===t||"optgroup"===t||"#text"===t;case"optgroup":return"option"===t||"#text"===t;case"option":return"#text"===t;case"tr":return"th"===t||"td"===t||"style"===t||"script"===t||"template"===t;case"tbody":case"thead":case"tfoot":return"tr"===t||"style"===t||"script"===t||"template"===t;case"colgroup":return"col"===t||"template"===t;case"table":return"caption"===t||"colgroup"===t||"tbody"===t||"tfoot"===t||"thead"===t||"style"===t||"script"===t||"template"===t;case"head":return"base"===t||"basefont"===t||"bgsound"===t||"link"===t||"meta"===t||"title"===t||"noscript"===t||"noframes"===t||"style"===t||"script"===t||"template"===t;case"html":return"head"===t||"body"===t}switch(t){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==e&&"h2"!==e&&"h3"!==e&&"h4"!==e&&"h5"!==e&&"h6"!==e;case"rp":case"rt":return p.indexOf(e)===-1;case"caption":case"col":case"colgroup":case"frame":case"head":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==e}return!0},d=function(t,e){switch(t){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return e.pTagInButtonScope;case"form":return e.formTag||e.pTagInButtonScope;case"li":return e.listItemTagAutoclosing;case"dd":case"dt":return e.dlItemTagAutoclosing;case"button":return e.buttonTagInScope;case"a":return e.aTagInScope;case"nobr":return e.nobrTagInScope}return null},_=function(t){if(!t)return[];var e=[];do e.push(t);while(t=t._currentElement._owner);return e.reverse(),e},y={};s=function(t,e,o){o=o||c;var n=o.parentTag,i=n&&n.tag,s=m(t,i)?null:n,a=s?null:d(t,o),l=s||a;if(l){var u,p=l.tag,h=l.instance,f=e&&e._currentElement._owner,v=h&&h._currentElement._owner,x=_(f),g=_(v),b=Math.min(x.length,g.length),C=-1;for(u=0;u<b&&x[u]===g[u];u++)C=u;var E="(unknown)",P=x.slice(C+1).map(function(t){return t.getName()||E}),D=g.slice(C+1).map(function(t){return t.getName()||E}),S=[].concat(C!==-1?x[C].getName()||E:[],D,p,a?["..."]:[],P,t).join(" > "),N=!!s+"|"+t+"|"+p+"|"+S;if(y[N])return;if(y[N]=!0,s){var w="";"table"===p&&"tr"===t&&(w+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),"production"!=={ENV:"production"}.NODE_ENV?r(!1,"validateDOMNesting(...): <%s> cannot appear as a child of <%s>. See %s.%s",t,p,S,w):void 0}else"production"!=={ENV:"production"}.NODE_ENV?r(!1,"validateDOMNesting(...): <%s> cannot appear as a descendant of <%s>. See %s.",t,p,S):void 0}},s.ancestorInfoContextKey="__validateDOMNesting_ancestorInfo$"+Math.random().toString(36).slice(2),s.updatedAncestorInfo=h,s.isTagValidInContext=function(t,e){e=e||c;var o=e.parentTag,n=o&&o.tag;return m(t,n)&&!d(t,e)}}t.exports=s},function(t,e,o){"use strict";function n(){if(!D&&(D=!0,f.EventEmitter.injectReactEventListener(y),f.EventPluginHub.injectEventPluginOrder(a),f.EventPluginHub.injectInstanceHandle(v),f.EventPluginHub.injectMount(x),f.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:E,EnterLeaveEventPlugin:l,ChangeEventPlugin:r,SelectEventPlugin:b,BeforeInputEventPlugin:i}),f.NativeComponent.injectGenericComponentClass(d),f.NativeComponent.injectTextComponentClass(_),f.Class.injectMixin(c),f.DOMProperty.injectDOMPropertyConfig(p),f.DOMProperty.injectDOMPropertyConfig(P),f.EmptyComponent.injectEmptyComponent("noscript"),f.Updates.injectReconcileTransaction(g),f.Updates.injectBatchingStrategy(m),f.RootIndex.injectCreateReactRootIndex(u.canUseDOM?s.createReactRootIndex:C.createReactRootIndex),f.Component.injectEnvironment(h),"production"!=={ENV:"production"}.NODE_ENV)){var t=u.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(t)){var e=o(142);e.start()}}}var i=o(72),r=o(80),s=o(83),a=o(84),l=o(85),u=o(9),p=o(89),c=o(90),h=o(26),m=o(92),d=o(93),_=o(6),y=o(118),f=o(121),v=o(45),x=o(28),g=o(125),b=o(130),C=o(131),E=o(132),P=o(141),D=!1;t.exports={inject:n}},function(t,e,o){"use strict";function n(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}function i(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function r(t){switch(t){case w.topCompositionStart:return A.compositionStart;case w.topCompositionEnd:return A.compositionEnd;case w.topCompositionUpdate:return A.compositionUpdate}}function s(t,e){return t===w.topKeyDown&&e.keyCode===b}function a(t,e){switch(t){case w.topKeyUp:return g.indexOf(e.keyCode)!==-1;case w.topKeyDown:return e.keyCode!==b;case w.topKeyPress:case w.topMouseDown:case w.topBlur:return!0;default:return!1}}function l(t){var e=t.detail;return"object"==typeof e&&"data"in e?e.data:null}function u(t,e,o,n,i){var u,p;if(C?u=r(t):M?a(t,n)&&(u=A.compositionEnd):s(t,n)&&(u=A.compositionStart),!u)return null;D&&(M||u!==A.compositionStart?u===A.compositionEnd&&M&&(p=M.getData()):M=y.getPooled(e));var c=f.getPooled(u,o,n,i);if(p)c.data=p;else{var h=l(n);null!==h&&(c.data=h)}return d.accumulateTwoPhaseDispatches(c),c}function p(t,e){switch(t){case w.topCompositionEnd:return l(e);case w.topKeyPress:var o=e.which;return o!==S?null:(I=!0,N);case w.topTextInput:var n=e.data;return n===N&&I?null:n;default:return null}}function c(t,e){if(M){if(t===w.topCompositionEnd||a(t,e)){var o=M.getData();return y.release(M),M=null,o}return null}switch(t){case w.topPaste:return null;case w.topKeyPress:return e.which&&!i(e)?String.fromCharCode(e.which):null;case w.topCompositionEnd:return D?null:e.data;default:return null}}function h(t,e,o,n,i){var r;if(r=P?p(t,n):c(t,n),!r)return null;var s=v.getPooled(A.beforeInput,o,n,i);return s.data=r,d.accumulateTwoPhaseDispatches(s),s}var m=o(30),d=o(73),_=o(9),y=o(74),f=o(76),v=o(78),x=o(79),g=[9,13,27,32],b=229,C=_.canUseDOM&&"CompositionEvent"in window,E=null;_.canUseDOM&&"documentMode"in document&&(E=document.documentMode);var P=_.canUseDOM&&"TextEvent"in window&&!E&&!n(),D=_.canUseDOM&&(!C||E&&E>8&&E<=11),S=32,N=String.fromCharCode(S),w=m.topLevelTypes,A={beforeInput:{phasedRegistrationNames:{bubbled:x({onBeforeInput:null}),captured:x({onBeforeInputCapture:null})},dependencies:[w.topCompositionEnd,w.topKeyPress,w.topTextInput,w.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:x({onCompositionEnd:null}),captured:x({onCompositionEndCapture:null})},dependencies:[w.topBlur,w.topCompositionEnd,w.topKeyDown,w.topKeyPress,w.topKeyUp,w.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:x({onCompositionStart:null}),captured:x({onCompositionStartCapture:null})},dependencies:[w.topBlur,w.topCompositionStart,w.topKeyDown,w.topKeyPress,w.topKeyUp,w.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:x({onCompositionUpdate:null}),captured:x({onCompositionUpdateCapture:null})},dependencies:[w.topBlur,w.topCompositionUpdate,w.topKeyDown,w.topKeyPress,w.topKeyUp,w.topMouseDown]}},I=!1,M=null,V={eventTypes:A,extractEvents:function(t,e,o,n,i){return[u(t,e,o,n,i),h(t,e,o,n,i)]}};t.exports=V},function(t,e,o){"use strict";function n(t,e,o){var n=e.dispatchConfig.phasedRegistrationNames[o];return x(t,n)}function i(t,e,o){"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?_(t,"Dispatching id must not be null"):void 0);var i=e?v.bubbled:v.captured,r=n(t,o,i);r&&(o._dispatchListeners=y(o._dispatchListeners,r),o._dispatchIDs=y(o._dispatchIDs,t))}function r(t){t&&t.dispatchConfig.phasedRegistrationNames&&d.injection.getInstanceHandle().traverseTwoPhase(t.dispatchMarker,i,t)}function s(t){t&&t.dispatchConfig.phasedRegistrationNames&&d.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(t.dispatchMarker,i,t)}function a(t,e,o){if(o&&o.dispatchConfig.registrationName){var n=o.dispatchConfig.registrationName,i=x(t,n);i&&(o._dispatchListeners=y(o._dispatchListeners,i),o._dispatchIDs=y(o._dispatchIDs,t))}}function l(t){t&&t.dispatchConfig.registrationName&&a(t.dispatchMarker,null,t)}function u(t){f(t,r)}function p(t){f(t,s)}function c(t,e,o,n){d.injection.getInstanceHandle().traverseEnterLeave(o,n,a,t,e)}function h(t){f(t,l)}var m=o(30),d=o(31),_=o(25),y=o(35),f=o(36),v=m.PropagationPhases,x=d.getListener,g={accumulateTwoPhaseDispatches:u,accumulateTwoPhaseDispatchesSkipTarget:p,accumulateDirectDispatches:h,accumulateEnterLeaveDispatches:c};t.exports=g},function(t,e,o){"use strict";function n(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var i=o(56),r=o(39),s=o(75);r(n.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[s()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,o=this._startText,n=o.length,i=this.getText(),r=i.length;for(t=0;t<n&&o[t]===i[t];t++);var s=n-t;for(e=1;e<=s&&o[n-e]===i[r-e];e++);var a=e>1?1-e:void 0;return this._fallbackText=i.slice(t,a),this._fallbackText}}),i.addPoolingTo(n),t.exports=n},function(t,e,o){"use strict";function n(){return!r&&i.canUseDOM&&(r="textContent"in document.documentElement?"textContent":"innerText"),r}var i=o(9),r=null;t.exports=n},function(t,e,o){"use strict";function n(t,e,o,n){i.call(this,t,e,o,n)}var i=o(77),r={data:null};i.augmentClass(n,r),t.exports=n},function(t,e,o){"use strict";function n(t,e,o,n){this.dispatchConfig=t,this.dispatchMarker=e,this.nativeEvent=o;var i=this.constructor.Interface;for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];a?this[r]=a(o):"target"===r?this.target=n:this[r]=o[r]}var l=null!=o.defaultPrevented?o.defaultPrevented:o.returnValue===!1;l?this.isDefaultPrevented=s.thatReturnsTrue:this.isDefaultPrevented=s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse}var i=o(56),r=o(39),s=o(15),a=o(25),l={type:null,target:null,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};r(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?a(t,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `preventDefault` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."):void 0),t&&(t.preventDefault?t.preventDefault():t.returnValue=!1,this.isDefaultPrevented=s.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?a(t,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `stopPropagation` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."):void 0),t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.isPropagationStopped=s.thatReturnsTrue)},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),n.Interface=l,n.augmentClass=function(t,e){var o=this,n=Object.create(o.prototype);r(n,t.prototype),t.prototype=n,t.prototype.constructor=t,t.Interface=r({},o.Interface,e),t.augmentClass=o.augmentClass,i.addPoolingTo(t,i.fourArgumentPooler)},i.addPoolingTo(n,i.fourArgumentPooler),t.exports=n},function(t,e,o){"use strict";function n(t,e,o,n){i.call(this,t,e,o,n)}var i=o(77),r={data:null};i.augmentClass(n,r),t.exports=n},function(t,e){"use strict";var o=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};t.exports=o},function(t,e,o){"use strict";function n(t){var e=t.nodeName&&t.nodeName.toLowerCase();return"select"===e||"input"===e&&"file"===t.type}function i(t){var e=E.getPooled(A.change,M,t,P(t));g.accumulateTwoPhaseDispatches(e),C.batchedUpdates(r,e)}function r(t){x.enqueueEvents(t),x.processEventQueue(!1)}function s(t,e){I=t,M=e,I.attachEvent("onchange",i)}function a(){I&&(I.detachEvent("onchange",i),I=null,M=null)}function l(t,e,o){if(t===w.topChange)return o}function u(t,e,o){t===w.topFocus?(a(),s(e,o)):t===w.topBlur&&a()}function p(t,e){I=t,M=e,V=t.value,T=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(I,"value",L),I.attachEvent("onpropertychange",h)}function c(){I&&(delete I.value,I.detachEvent("onpropertychange",h),I=null,M=null,V=null,T=null)}function h(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==V&&(V=e,i(t))}}function m(t,e,o){if(t===w.topInput)return o}function d(t,e,o){t===w.topFocus?(c(),p(e,o)):t===w.topBlur&&c()}function _(t,e,o){if((t===w.topSelectionChange||t===w.topKeyUp||t===w.topKeyDown)&&I&&I.value!==V)return V=I.value,M}function y(t){return t.nodeName&&"input"===t.nodeName.toLowerCase()&&("checkbox"===t.type||"radio"===t.type)}function f(t,e,o){if(t===w.topClick)return o}var v=o(30),x=o(31),g=o(73),b=o(9),C=o(54),E=o(77),P=o(81),D=o(40),S=o(82),N=o(79),w=v.topLevelTypes,A={change:{phasedRegistrationNames:{bubbled:N({onChange:null}),captured:N({onChangeCapture:null})},dependencies:[w.topBlur,w.topChange,w.topClick,w.topFocus,w.topInput,w.topKeyDown,w.topKeyUp,w.topSelectionChange]}},I=null,M=null,V=null,T=null,B=!1;b.canUseDOM&&(B=D("change")&&(!("documentMode"in document)||document.documentMode>8));var O=!1;b.canUseDOM&&(O=D("input")&&(!("documentMode"in document)||document.documentMode>9));var L={get:function(){return T.get.call(this)},set:function(t){V=""+t,T.set.call(this,t)}},R={eventTypes:A,extractEvents:function(t,e,o,i,r){var s,a;if(n(e)?B?s=l:a=u:S(e)?O?s=m:(s=_,a=d):y(e)&&(s=f),s){var p=s(t,e,o);if(p){var c=E.getPooled(A.change,p,i,r);return c.type="change",g.accumulateTwoPhaseDispatches(c),c}}a&&a(t,e,o)}};t.exports=R},function(t,e){"use strict";function o(t){var e=t.target||t.srcElement||window;return 3===e.nodeType?e.parentNode:e}t.exports=o},function(t,e){"use strict";function o(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&n[t.type]||"textarea"===e)}var n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=o},function(t,e){"use strict";var o=0,n={createReactRootIndex:function(){return o++}};t.exports=n},function(t,e,o){"use strict";var n=o(79),i=[n({ResponderEventPlugin:null}),n({SimpleEventPlugin:null}),n({TapEventPlugin:null}),n({EnterLeaveEventPlugin:null}),n({ChangeEventPlugin:null}),n({SelectEventPlugin:null}),n({BeforeInputEventPlugin:null})];t.exports=i},function(t,e,o){"use strict";var n=o(30),i=o(73),r=o(86),s=o(28),a=o(79),l=n.topLevelTypes,u=s.getFirstReactDOM,p={mouseEnter:{registrationName:a({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:a({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},c=[null,null],h={eventTypes:p,extractEvents:function(t,e,o,n,a){if(t===l.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(t!==l.topMouseOut&&t!==l.topMouseOver)return null;var h;if(e.window===e)h=e;else{var m=e.ownerDocument;h=m?m.defaultView||m.parentWindow:window}var d,_,y="",f="";if(t===l.topMouseOut?(d=e,y=o,_=u(n.relatedTarget||n.toElement),_?f=s.getID(_):_=h,_=_||h):(d=h,_=e,f=o),d===_)return null;var v=r.getPooled(p.mouseLeave,y,n,a);v.type="mouseleave",v.target=d,v.relatedTarget=_;var x=r.getPooled(p.mouseEnter,f,n,a);return x.type="mouseenter",x.target=_,x.relatedTarget=d,i.accumulateEnterLeaveDispatches(v,x,y,f),c[0]=v,c[1]=x,c}};t.exports=h},function(t,e,o){"use strict";function n(t,e,o,n){i.call(this,t,e,o,n)}var i=o(87),r=o(38),s=o(88),a={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:s,button:function(t){var e=t.button;return"which"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return"pageX"in t?t.pageX:t.clientX+r.currentScrollLeft},pageY:function(t){return"pageY"in t?t.pageY:t.clientY+r.currentScrollTop}};i.augmentClass(n,a),t.exports=n},function(t,e,o){"use strict";function n(t,e,o,n){i.call(this,t,e,o,n)}var i=o(77),r=o(81),s={view:function(t){if(t.view)return t.view;var e=r(t);if(null!=e&&e.window===e)return e;var o=e.ownerDocument;return o?o.defaultView||o.parentWindow:window},detail:function(t){return t.detail||0}};i.augmentClass(n,s),t.exports=n},function(t,e){"use strict";function o(t){var e=this,o=e.nativeEvent;if(o.getModifierState)return o.getModifierState(t);var n=i[t];return!!n&&!!o[n]}function n(t){return o}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=n},function(t,e,o){"use strict";var n,i=o(23),r=o(9),s=i.injection.MUST_USE_ATTRIBUTE,a=i.injection.MUST_USE_PROPERTY,l=i.injection.HAS_BOOLEAN_VALUE,u=i.injection.HAS_SIDE_EFFECTS,p=i.injection.HAS_NUMERIC_VALUE,c=i.injection.HAS_POSITIVE_NUMERIC_VALUE,h=i.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(r.canUseDOM){var m=document.implementation;n=m&&m.hasFeature&&m.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var d={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:s|l,allowTransparency:s,alt:null,async:l,autoComplete:null,autoPlay:l,capture:s|l,cellPadding:null,cellSpacing:null,charSet:s,challenge:s,checked:a|l,classID:s,className:n?s:a,cols:s|c,colSpan:null,content:null,contentEditable:null,contextMenu:s,controls:a|l,coords:null,crossOrigin:null,data:null,dateTime:s,"default":l,defer:l,dir:null,disabled:s|l,download:h,draggable:null,encType:null,form:s,formAction:s,formEncType:s,formMethod:s,formNoValidate:l,formTarget:s,frameBorder:s,headers:null,height:s,hidden:s|l,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:a,inputMode:s,integrity:null,is:s,keyParams:s,keyType:s,kind:null,label:null,lang:null,list:s,loop:a|l,low:null,manifest:s,marginHeight:null,marginWidth:null,max:null,maxLength:s,media:s,mediaGroup:null,method:null,min:null,minLength:s,multiple:a|l,muted:a|l,name:null,nonce:s,noValidate:l,open:l,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:a|l,rel:null,required:l,reversed:l,role:s,rows:s|c,rowSpan:null,sandbox:null,scope:null,scoped:l,scrolling:null,seamless:s|l,selected:a|l,shape:null,size:s|c,sizes:s,span:c,spellCheck:null,src:null,srcDoc:a,srcLang:null,srcSet:s,start:p,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:a|u,width:s,wmode:s,wrap:null,about:s,datatype:s,inlist:s,prefix:s,property:s,resource:s,"typeof":s,vocab:s,autoCapitalize:s,autoCorrect:s,autoSave:null,color:null,itemProp:s,itemScope:s|l,itemType:s,itemID:s,itemRef:s,results:null,security:s,unselectable:s},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=d},function(t,e,o){"use strict";var n=o(47),i=o(91),r=o(25),s="_getDOMNodeDidWarn",a={getDOMNode:function(){return"production"!=={ENV:"production"}.NODE_ENV?r(this.constructor[s],"%s.getDOMNode(...) is deprecated. Please use ReactDOM.findDOMNode(instance) instead.",n.get(this).getName()||this.tagName||"Unknown"):void 0,this.constructor[s]=!0,i(this)}};t.exports=a},function(t,e,o){"use strict";function n(t){if("production"!=={ENV:"production"}.NODE_ENV){var e=i.current;null!==e&&("production"!=={ENV:"production"}.NODE_ENV?l(e._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",e.getName()||"A component"):void 0,e._warnedAboutRefsInRender=!0)}return null==t?null:1===t.nodeType?t:r.has(t)?s.getNodeFromInstance(t):(null!=t.render&&"function"==typeof t.render?"production"!=={ENV:"production"}.NODE_ENV?a(!1,"findDOMNode was called on an unmounted component."):a(!1):void 0,void("production"!=={ENV:"production"}.NODE_ENV?a(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(t)):a(!1)))}var i=o(5),r=o(47),s=o(28),a=o(13),l=o(25);t.exports=n},function(t,e,o){"use strict";function n(){this.reinitializeTransaction()}var i=o(54),r=o(57),s=o(39),a=o(15),l={initialize:a,close:function(){h.isBatchingUpdates=!1}},u={initialize:a,close:i.flushBatchedUpdates.bind(i)},p=[u,l];s(n.prototype,r.Mixin,{getTransactionWrappers:function(){return p}});var c=new n,h={isBatchingUpdates:!1,batchedUpdates:function(t,e,o,n,i,r){var s=h.isBatchingUpdates;h.isBatchingUpdates=!0,s?t(e,o,n,i,r):c.perform(t,null,e,o,n,i,r)}};t.exports=h},function(t,e,o){"use strict";function n(t){if(t){var e=t._currentElement._owner||null;if(e){var o=e.getName();if(o)return" This DOM node was rendered by `"+o+"`."}}return""}function i(){if("production"!=={ENV:"production"}.NODE_ENV){var t=this._reactInternalComponent;"production"!=={ENV:"production"}.NODE_ENV?z(!1,"ReactDOMComponent: Do not access .getDOMNode() of a DOM node; instead, use the node directly.%s",n(t)):void 0}return this}function r(){var t=this._reactInternalComponent;return"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?z(!1,"ReactDOMComponent: Do not access .isMounted() of a DOM node.%s",n(t)):void 0),!!t}function s(){if("production"!=={ENV:"production"}.NODE_ENV){var t=this._reactInternalComponent;"production"!=={ENV:"production"}.NODE_ENV?z(!1,"ReactDOMComponent: Do not access .setState(), .replaceState(), or .forceUpdate() of a DOM node. This is a no-op.%s",n(t)):void 0}}function a(t,e){var o=this._reactInternalComponent;"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?z(!1,"ReactDOMComponent: Do not access .setProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",n(o)):void 0),o&&(R.enqueueSetPropsInternal(o,t),e&&R.enqueueCallbackInternal(o,e))}function l(t,e){var o=this._reactInternalComponent;"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?z(!1,"ReactDOMComponent: Do not access .replaceProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",n(o)):void 0),o&&(R.enqueueReplacePropsInternal(o,t),e&&R.enqueueCallbackInternal(o,e))}function u(t){if("object"==typeof t){if(Array.isArray(t))return"["+t.map(u).join(", ")+"]";var e=[];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var n=/^[a-z$_][\w$_]*$/i.test(o)?o:JSON.stringify(o);e.push(n+": "+u(t[o]))}return"{"+e.join(", ")+"}"}return"string"==typeof t?JSON.stringify(t):"function"==typeof t?"[function object]":String(t)}function p(t,e,o){if(null!=t&&null!=e&&!j(t,e)){var n,i=o._tag,r=o._currentElement._owner;r&&(n=r.getName());var s=n+"|"+i;nt.hasOwnProperty(s)||(nt[s]=!0,"production"!=={ENV:"production"}.NODE_ENV?z(!1,"`%s` was passed a style object that has previously been mutated. Mutating `style` is deprecated. Consider cloning it beforehand. Check the `render` %s. Previous style: %s. Mutated style: %s.",i,r?"of `"+n+"`":"using <"+i+">",u(t),u(e)):void 0)}}function c(t,e){e&&("production"!=={ENV:"production"}.NODE_ENV&&at[t._tag]&&("production"!=={ENV:"production"}.NODE_ENV?z(null==e.children&&null==e.dangerouslySetInnerHTML,"%s is a void element tag and must not have `children` or use `props.dangerouslySetInnerHTML`.%s",t._tag,t._currentElement._owner?" Check the render method of "+t._currentElement._owner.getName()+".":""):void 0),null!=e.dangerouslySetInnerHTML&&(null!=e.children?"production"!=={ENV:"production"}.NODE_ENV?X(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):X(!1):void 0,"object"==typeof e.dangerouslySetInnerHTML&&et in e.dangerouslySetInnerHTML?void 0:"production"!=={ENV:"production"}.NODE_ENV?X(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information."):X(!1)),"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?z(null==e.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."):void 0,"production"!=={ENV:"production"}.NODE_ENV?z(!e.contentEditable||null==e.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."):void 0),null!=e.style&&"object"!=typeof e.style?"production"!=={ENV:"production"}.NODE_ENV?X(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",n(t)):X(!1):void 0)}function h(t,e,o,n){"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?z("onScroll"!==e||J("scroll",!0),"This browser doesn't support the `onScroll` event"):void 0);var i=B.findReactContainerForID(t);if(i){var r=i.nodeType===ot?i.ownerDocument:i;H(e,r)}n.getReactMountReady().enqueue(m,{id:t,registrationName:e,listener:o})}function m(){var t=this;N.putListener(t.id,t.registrationName,t.listener)}function d(){var t=this;t._rootNodeID?void 0:"production"!=={ENV:"production"}.NODE_ENV?X(!1,"Must be mounted to trap events"):X(!1);var e=B.getNode(t._rootNodeID);switch(e?void 0:"production"!=={ENV:"production"}.NODE_ENV?X(!1,"trapBubbledEvent(...): Requires node to be rendered."):X(!1),t._tag){case"iframe":t._wrapperState.listeners=[N.trapBubbledEvent(S.topLevelTypes.topLoad,"load",e)];break;case"video":case"audio":t._wrapperState.listeners=[];for(var o in it)it.hasOwnProperty(o)&&t._wrapperState.listeners.push(N.trapBubbledEvent(S.topLevelTypes[o],it[o],e));break;case"img":t._wrapperState.listeners=[N.trapBubbledEvent(S.topLevelTypes.topError,"error",e),N.trapBubbledEvent(S.topLevelTypes.topLoad,"load",e)];break;case"form":t._wrapperState.listeners=[N.trapBubbledEvent(S.topLevelTypes.topReset,"reset",e),N.trapBubbledEvent(S.topLevelTypes.topSubmit,"submit",e)]}}function _(){I.mountReadyWrapper(this)}function y(){V.postUpdateWrapper(this)}function f(t){pt.call(ut,t)||(lt.test(t)?void 0:"production"!=={ENV:"production"}.NODE_ENV?X(!1,"Invalid tag: %s",t):X(!1),ut[t]=!0)}function v(t,e){t=k({},t);var o=t[q.ancestorInfoContextKey];return t[q.ancestorInfoContextKey]=q.updatedAncestorInfo(o,e._tag,e),t}function x(t,e){return t.indexOf("-")>=0||null!=e.is}function g(t){f(t),this._tag=t.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null,"production"!=={ENV:"production"}.NODE_ENV&&(this._unprocessedContextDev=null,this._processedContextDev=null)}var b,C=o(94),E=o(96),P=o(23),D=o(22),S=o(30),N=o(29),w=o(26),A=o(104),I=o(105),M=o(109),V=o(112),T=o(113),B=o(28),O=o(114),L=o(18),R=o(53),k=o(39),F=o(43),G=o(21),X=o(13),J=o(40),Y=o(79),W=o(19),U=o(20),j=o(117),q=o(70),z=o(25),K=N.deleteListener,H=N.listenTo,Z=N.registrationNameModules,Q={string:!0,number:!0},$=Y({children:null}),tt=Y({style:null}),et=Y({__html:null}),ot=1;"production"!=={
ENV:"production"}.NODE_ENV&&(b={props:{enumerable:!1,get:function(){var t=this._reactInternalComponent;return"production"!=={ENV:"production"}.NODE_ENV?z(!1,"ReactDOMComponent: Do not access .props of a DOM node; instead, recreate the props as `render` did originally or read the DOM properties/attributes directly from this node (e.g., this.refs.box.className).%s",n(t)):void 0,t._currentElement.props}}});var nt={},it={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},rt={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},st={listing:!0,pre:!0,textarea:!0},at=k({menuitem:!0},rt),lt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ut={},pt={}.hasOwnProperty;g.displayName="ReactDOMComponent",g.Mixin={construct:function(t){this._currentElement=t},mountComponent:function(t,e,o){this._rootNodeID=t;var n=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(d,this);break;case"button":n=A.getNativeProps(this,n,o);break;case"input":I.mountWrapper(this,n,o),n=I.getNativeProps(this,n,o);break;case"option":M.mountWrapper(this,n,o),n=M.getNativeProps(this,n,o);break;case"select":V.mountWrapper(this,n,o),n=V.getNativeProps(this,n,o),o=V.processChildContext(this,n,o);break;case"textarea":T.mountWrapper(this,n,o),n=T.getNativeProps(this,n,o)}c(this,n),"production"!=={ENV:"production"}.NODE_ENV&&o[q.ancestorInfoContextKey]&&q(this._tag,this,o[q.ancestorInfoContextKey]),"production"!=={ENV:"production"}.NODE_ENV&&(this._unprocessedContextDev=o,this._processedContextDev=v(o,this),o=this._processedContextDev);var i;if(e.useCreateElement){var r=o[B.ownerDocumentContextKey],s=r.createElement(this._currentElement.type);D.setAttributeForID(s,this._rootNodeID),B.getID(s),this._updateDOMProperties({},n,e,s),this._createInitialChildren(e,n,o,s),i=s}else{var a=this._createOpenTagMarkupAndPutListeners(e,n),l=this._createContentMarkup(e,n,o);i=!l&&rt[this._tag]?a+"/>":a+">"+l+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(_,this);case"button":case"select":case"textarea":n.autoFocus&&e.getReactMountReady().enqueue(C.focusDOMComponent,this)}return i},_createOpenTagMarkupAndPutListeners:function(t,e){var o="<"+this._currentElement.type;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(null!=i)if(Z.hasOwnProperty(n))i&&h(this._rootNodeID,n,i,t);else{n===tt&&(i&&("production"!=={ENV:"production"}.NODE_ENV&&(this._previousStyle=i),i=this._previousStyleCopy=k({},e.style)),i=E.createMarkupForStyles(i));var r=null;null!=this._tag&&x(this._tag,e)?n!==$&&(r=D.createMarkupForCustomAttribute(n,i)):r=D.createMarkupForProperty(n,i),r&&(o+=" "+r)}}if(t.renderToStaticMarkup)return o;var s=D.createMarkupForID(this._rootNodeID);return o+" "+s},_createContentMarkup:function(t,e,o){var n="",i=e.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(n=i.__html);else{var r=Q[typeof e.children]?e.children:null,s=null!=r?null:e.children;if(null!=r)n=G(r);else if(null!=s){var a=this.mountChildren(s,t,o);n=a.join("")}}return st[this._tag]&&"\n"===n.charAt(0)?"\n"+n:n},_createInitialChildren:function(t,e,o,n){var i=e.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&W(n,i.__html);else{var r=Q[typeof e.children]?e.children:null,s=null!=r?null:e.children;if(null!=r)U(n,r);else if(null!=s)for(var a=this.mountChildren(s,t,o),l=0;l<a.length;l++)n.appendChild(a[l])}},receiveComponent:function(t,e,o){var n=this._currentElement;this._currentElement=t,this.updateComponent(e,n,t,o)},updateComponent:function(t,e,o,n){var i=e.props,r=this._currentElement.props;switch(this._tag){case"button":i=A.getNativeProps(this,i),r=A.getNativeProps(this,r);break;case"input":I.updateWrapper(this),i=I.getNativeProps(this,i),r=I.getNativeProps(this,r);break;case"option":i=M.getNativeProps(this,i),r=M.getNativeProps(this,r);break;case"select":i=V.getNativeProps(this,i),r=V.getNativeProps(this,r);break;case"textarea":T.updateWrapper(this),i=T.getNativeProps(this,i),r=T.getNativeProps(this,r)}"production"!=={ENV:"production"}.NODE_ENV&&(this._unprocessedContextDev!==n&&(this._unprocessedContextDev=n,this._processedContextDev=v(n,this)),n=this._processedContextDev),c(this,r),this._updateDOMProperties(i,r,t,null),this._updateDOMChildren(i,r,t,n),!F&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=r),"select"===this._tag&&t.getReactMountReady().enqueue(y,this)},_updateDOMProperties:function(t,e,o,n){var i,r,s;for(i in t)if(!e.hasOwnProperty(i)&&t.hasOwnProperty(i))if(i===tt){var a=this._previousStyleCopy;for(r in a)a.hasOwnProperty(r)&&(s=s||{},s[r]="");this._previousStyleCopy=null}else Z.hasOwnProperty(i)?t[i]&&K(this._rootNodeID,i):(P.properties[i]||P.isCustomAttribute(i))&&(n||(n=B.getNode(this._rootNodeID)),D.deleteValueForProperty(n,i));for(i in e){var l=e[i],u=i===tt?this._previousStyleCopy:t[i];if(e.hasOwnProperty(i)&&l!==u)if(i===tt)if(l?("production"!=={ENV:"production"}.NODE_ENV&&(p(this._previousStyleCopy,this._previousStyle,this),this._previousStyle=l),l=this._previousStyleCopy=k({},l)):this._previousStyleCopy=null,u){for(r in u)!u.hasOwnProperty(r)||l&&l.hasOwnProperty(r)||(s=s||{},s[r]="");for(r in l)l.hasOwnProperty(r)&&u[r]!==l[r]&&(s=s||{},s[r]=l[r])}else s=l;else Z.hasOwnProperty(i)?l?h(this._rootNodeID,i,l,o):u&&K(this._rootNodeID,i):x(this._tag,e)?(n||(n=B.getNode(this._rootNodeID)),i===$&&(l=null),D.setValueForAttribute(n,i,l)):(P.properties[i]||P.isCustomAttribute(i))&&(n||(n=B.getNode(this._rootNodeID)),null!=l?D.setValueForProperty(n,i,l):D.deleteValueForProperty(n,i))}s&&(n||(n=B.getNode(this._rootNodeID)),E.setValueForStyles(n,s))},_updateDOMChildren:function(t,e,o,n){var i=Q[typeof t.children]?t.children:null,r=Q[typeof e.children]?e.children:null,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,l=null!=i?null:t.children,u=null!=r?null:e.children,p=null!=i||null!=s,c=null!=r||null!=a;null!=l&&null==u?this.updateChildren(null,o,n):p&&!c&&this.updateTextContent(""),null!=r?i!==r&&this.updateTextContent(""+r):null!=a?s!==a&&this.updateMarkup(""+a):null!=u&&this.updateChildren(u,o,n)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var t=this._wrapperState.listeners;if(t)for(var e=0;e<t.length;e++)t[e].remove();break;case"input":I.unmountWrapper(this);break;case"html":case"head":case"body":"production"!=={ENV:"production"}.NODE_ENV?X(!1,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this._tag):X(!1)}if(this.unmountChildren(),N.deleteAllListeners(this._rootNodeID),w.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var o=this._nodeWithLegacyProperties;o._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var t=B.getNode(this._rootNodeID);t._reactInternalComponent=this,t.getDOMNode=i,t.isMounted=r,t.setState=s,t.replaceState=s,t.forceUpdate=s,t.setProps=a,t.replaceProps=l,"production"!=={ENV:"production"}.NODE_ENV&&F?Object.defineProperties(t,b):t.props=this._currentElement.props,this._nodeWithLegacyProperties=t}return this._nodeWithLegacyProperties}},L.measureMethods(g,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),k(g.prototype,g.Mixin,O.Mixin),t.exports=g},function(t,e,o){"use strict";var n=o(28),i=o(91),r=o(95),s={componentDidMount:function(){this.props.autoFocus&&r(i(this))}},a={Mixin:s,focusDOMComponent:function(){r(n.getNode(this._rootNodeID))}};t.exports=a},function(t,e){"use strict";function o(t){try{t.focus()}catch(e){}}t.exports=o},function(t,e,o){"use strict";var n=o(97),i=o(9),r=o(18),s=o(98),a=o(100),l=o(101),u=o(103),p=o(25),c=u(function(t){return l(t)}),h=!1,m="cssFloat";if(i.canUseDOM){var d=document.createElement("div").style;try{d.font=""}catch(_){h=!0}void 0===document.documentElement.style.cssFloat&&(m="styleFloat")}if("production"!=={ENV:"production"}.NODE_ENV)var y=/^(?:webkit|moz|o)[A-Z]/,f=/;\s*$/,v={},x={},g=function(t){v.hasOwnProperty(t)&&v[t]||(v[t]=!0,"production"!=={ENV:"production"}.NODE_ENV?p(!1,"Unsupported style property %s. Did you mean %s?",t,s(t)):void 0)},b=function(t){v.hasOwnProperty(t)&&v[t]||(v[t]=!0,"production"!=={ENV:"production"}.NODE_ENV?p(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",t,t.charAt(0).toUpperCase()+t.slice(1)):void 0)},C=function(t,e){x.hasOwnProperty(e)&&x[e]||(x[e]=!0,"production"!=={ENV:"production"}.NODE_ENV?p(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',t,e.replace(f,"")):void 0)},E=function(t,e){t.indexOf("-")>-1?g(t):y.test(t)?b(t):f.test(e)&&C(t,e)};var P={createMarkupForStyles:function(t){var e="";for(var o in t)if(t.hasOwnProperty(o)){var n=t[o];"production"!=={ENV:"production"}.NODE_ENV&&E(o,n),null!=n&&(e+=c(o)+":",e+=a(o,n)+";")}return e||null},setValueForStyles:function(t,e){var o=t.style;for(var i in e)if(e.hasOwnProperty(i)){"production"!=={ENV:"production"}.NODE_ENV&&E(i,e[i]);var r=a(i,e[i]);if("float"===i&&(i=m),r)o[i]=r;else{var s=h&&n.shorthandPropertyExpansions[i];if(s)for(var l in s)o[l]="";else o[i]=""}}}};r.measureMethods(P,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),t.exports=P},function(t,e){"use strict";function o(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var n={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(n).forEach(function(t){i.forEach(function(e){n[o(e,t)]=n[t]})});var r={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:n,shorthandPropertyExpansions:r};t.exports=s},function(t,e,o){"use strict";function n(t){return i(t.replace(r,"ms-"))}var i=o(99),r=/^-ms-/;t.exports=n},function(t,e){"use strict";function o(t){return t.replace(n,function(t,e){return e.toUpperCase()})}var n=/-(.)/g;t.exports=o},function(t,e,o){"use strict";function n(t,e){var o=null==e||"boolean"==typeof e||""===e;if(o)return"";var n=isNaN(e);return n||0===e||r.hasOwnProperty(t)&&r[t]?""+e:("string"==typeof e&&(e=e.trim()),e+"px")}var i=o(97),r=i.isUnitlessNumber;t.exports=n},function(t,e,o){"use strict";function n(t){return i(t).replace(r,"-ms-")}var i=o(102),r=/^ms-/;t.exports=n},function(t,e){"use strict";function o(t){return t.replace(n,"-$1").toLowerCase()}var n=/([A-Z])/g;t.exports=o},function(t,e){"use strict";function o(t){var e={};return function(o){return e.hasOwnProperty(o)||(e[o]=t.call(this,o)),e[o]}}t.exports=o},function(t,e){"use strict";var o={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},n={getNativeProps:function(t,e,n){if(!e.disabled)return e;var i={};for(var r in e)e.hasOwnProperty(r)&&!o[r]&&(i[r]=e[r]);return i}};t.exports=n},function(t,e,o){"use strict";function n(){this._rootNodeID&&h.updateWrapper(this)}function i(t){var e=this._currentElement.props,o=s.executeOnChange(e,t);l.asap(n,this);var i=e.name;if("radio"===e.type&&null!=i){for(var r=a.getNode(this._rootNodeID),u=r;u.parentNode;)u=u.parentNode;for(var h=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),m=0;m<h.length;m++){var d=h[m];if(d!==r&&d.form===r.form){var _=a.getID(d);_?void 0:"production"!=={ENV:"production"}.NODE_ENV?p(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."):p(!1);var y=c[_];y?void 0:"production"!=={ENV:"production"}.NODE_ENV?p(!1,"ReactDOMInput: Unknown radio button ID %s.",_):p(!1),l.asap(n,y)}}}return o}var r=o(27),s=o(106),a=o(28),l=o(54),u=o(39),p=o(13),c={},h={getNativeProps:function(t,e,o){var n=s.getValue(e),i=s.getChecked(e),r=u({},e,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:t._wrapperState.initialValue,checked:null!=i?i:t._wrapperState.initialChecked,onChange:t._wrapperState.onChange});return r},mountWrapper:function(t,e){"production"!=={ENV:"production"}.NODE_ENV&&s.checkPropTypes("input",e,t._currentElement._owner);var o=e.defaultValue;t._wrapperState={initialChecked:e.defaultChecked||!1,initialValue:null!=o?o:null,onChange:i.bind(t)}},mountReadyWrapper:function(t){c[t._rootNodeID]=t},unmountWrapper:function(t){delete c[t._rootNodeID]},updateWrapper:function(t){var e=t._currentElement.props,o=e.checked;null!=o&&r.updatePropertyByID(t._rootNodeID,"checked",o||!1);var n=s.getValue(e);null!=n&&r.updatePropertyByID(t._rootNodeID,"value",""+n)}};t.exports=h},function(t,e,o){"use strict";function n(t){null!=t.checkedLink&&null!=t.valueLink?"production"!=={ENV:"production"}.NODE_ENV?u(!1,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):u(!1):void 0}function i(t){n(t),null!=t.value||null!=t.onChange?"production"!=={ENV:"production"}.NODE_ENV?u(!1,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):u(!1):void 0}function r(t){n(t),null!=t.checked||null!=t.onChange?"production"!=={ENV:"production"}.NODE_ENV?u(!1,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):u(!1):void 0}function s(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}var a=o(107),l=o(65),u=o(13),p=o(25),c={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},h={value:function(t,e,o){return!t[e]||c[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(t,e,o){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:a.func},m={},d={checkPropTypes:function(t,e,o){for(var n in h){if(h.hasOwnProperty(n))var i=h[n](e,n,t,l.prop);if(i instanceof Error&&!(i.message in m)){m[i.message]=!0;var r=s(o);"production"!=={ENV:"production"}.NODE_ENV?p(!1,"Failed form propType: %s%s",i.message,r):void 0}}},getValue:function(t){return t.valueLink?(i(t),t.valueLink.value):t.value},getChecked:function(t){return t.checkedLink?(r(t),t.checkedLink.value):t.checked},executeOnChange:function(t,e){return t.valueLink?(i(t),t.valueLink.requestChange(e.target.value)):t.checkedLink?(r(t),t.checkedLink.requestChange(e.target.checked)):t.onChange?t.onChange.call(void 0,e):void 0}};t.exports=d},function(t,e,o){"use strict";function n(t){function e(e,o,n,i,r,s){if(i=i||C,s=s||n,null==o[n]){var a=x[r];return e?new Error("Required "+a+" `"+s+"` was not specified in "+("`"+i+"`.")):null}return t(o,n,i,r,s)}var o=e.bind(null,!1);return o.isRequired=e.bind(null,!0),o}function i(t){function e(e,o,n,i,r){var s=e[o],a=_(s);if(a!==t){var l=x[i],u=y(s);return new Error("Invalid "+l+" `"+r+"` of type "+("`"+u+"` supplied to `"+n+"`, expected ")+("`"+t+"`."))}return null}return n(e)}function r(){return n(g.thatReturns(null))}function s(t){function e(e,o,n,i,r){var s=e[o];if(!Array.isArray(s)){var a=x[i],l=_(s);return new Error("Invalid "+a+" `"+r+"` of type "+("`"+l+"` supplied to `"+n+"`, expected an array."))}for(var u=0;u<s.length;u++){var p=t(s,u,n,i,r+"["+u+"]");if(p instanceof Error)return p}return null}return n(e)}function a(){function t(t,e,o,n,i){if(!v.isValidElement(t[e])){var r=x[n];return new Error("Invalid "+r+" `"+i+"` supplied to "+("`"+o+"`, expected a single ReactElement."))}return null}return n(t)}function l(t){function e(e,o,n,i,r){if(!(e[o]instanceof t)){var s=x[i],a=t.name||C,l=f(e[o]);return new Error("Invalid "+s+" `"+r+"` of type "+("`"+l+"` supplied to `"+n+"`, expected ")+("instance of `"+a+"`."))}return null}return n(e)}function u(t){function e(e,o,n,i,r){for(var s=e[o],a=0;a<t.length;a++)if(s===t[a])return null;var l=x[i],u=JSON.stringify(t);return new Error("Invalid "+l+" `"+r+"` of value `"+s+"` "+("supplied to `"+n+"`, expected one of "+u+"."))}return n(Array.isArray(t)?e:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function p(t){function e(e,o,n,i,r){var s=e[o],a=_(s);if("object"!==a){var l=x[i];return new Error("Invalid "+l+" `"+r+"` of type "+("`"+a+"` supplied to `"+n+"`, expected an object."))}for(var u in s)if(s.hasOwnProperty(u)){var p=t(s,u,n,i,r+"."+u);if(p instanceof Error)return p}return null}return n(e)}function c(t){function e(e,o,n,i,r){for(var s=0;s<t.length;s++){var a=t[s];if(null==a(e,o,n,i,r))return null}var l=x[i];return new Error("Invalid "+l+" `"+r+"` supplied to "+("`"+n+"`."))}return n(Array.isArray(t)?e:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function h(){function t(t,e,o,n,i){if(!d(t[e])){var r=x[n];return new Error("Invalid "+r+" `"+i+"` supplied to "+("`"+o+"`, expected a ReactNode."))}return null}return n(t)}function m(t){function e(e,o,n,i,r){var s=e[o],a=_(s);if("object"!==a){var l=x[i];return new Error("Invalid "+l+" `"+r+"` of type `"+a+"` "+("supplied to `"+n+"`, expected `object`."))}for(var u in t){var p=t[u];if(p){var c=p(s,u,n,i,r+"."+u);if(c)return c}}return null}return n(e)}function d(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(d);if(null===t||v.isValidElement(t))return!0;var e=b(t);if(!e)return!1;var o,n=e.call(t);if(e!==t.entries){for(;!(o=n.next()).done;)if(!d(o.value))return!1}else for(;!(o=n.next()).done;){var i=o.value;if(i&&!d(i[1]))return!1}return!0;default:return!1}}function _(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":e}function y(t){var e=_(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function f(t){return t.constructor&&t.constructor.name?t.constructor.name:"<<anonymous>>"}var v=o(42),x=o(66),g=o(15),b=o(108),C="<<anonymous>>",E={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),any:r(),arrayOf:s,element:a(),instanceOf:l,node:h(),objectOf:p,oneOf:u,oneOfType:c,shape:m};t.exports=E},function(t,e){"use strict";function o(t){var e=t&&(n&&t[n]||t[i]);if("function"==typeof e)return e}var n="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";t.exports=o},function(t,e,o){"use strict";var n=o(110),i=o(112),r=o(39),s=o(25),a=i.valueContextKey,l={mountWrapper:function(t,e,o){"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?s(null==e.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."):void 0);var n=o[a],i=null;if(null!=n)if(i=!1,Array.isArray(n)){for(var r=0;r<n.length;r++)if(""+n[r]==""+e.value){i=!0;break}}else i=""+n==""+e.value;t._wrapperState={selected:i}},getNativeProps:function(t,e,o){var i=r({selected:void 0,children:void 0},e);null!=t._wrapperState.selected&&(i.selected=t._wrapperState.selected);var a="";return n.forEach(e.children,function(t){null!=t&&("string"==typeof t||"number"==typeof t?a+=t:"production"!=={ENV:"production"}.NODE_ENV?s(!1,"Only strings and numbers are supported as <option> children."):void 0)}),a&&(i.children=a),i}};t.exports=l},function(t,e,o){"use strict";function n(t){return(""+t).replace(g,"//")}function i(t,e){this.func=t,this.context=e,this.count=0}function r(t,e,o){var n=t.func,i=t.context;n.call(i,e,t.count++)}function s(t,e,o){if(null==t)return t;var n=i.getPooled(e,o);f(t,r,n),i.release(n)}function a(t,e,o,n){this.result=t,this.keyPrefix=e,this.func=o,this.context=n,this.count=0}function l(t,e,o){var i=t.result,r=t.keyPrefix,s=t.func,a=t.context,l=s.call(a,e,t.count++);Array.isArray(l)?u(l,i,o,y.thatReturnsArgument):null!=l&&(_.isValidElement(l)&&(l=_.cloneAndReplaceKey(l,r+(l!==e?n(l.key||"")+"/":"")+o)),i.push(l))}function u(t,e,o,i,r){var s="";null!=o&&(s=n(o)+"/");var u=a.getPooled(e,s,i,r);f(t,l,u),a.release(u)}function p(t,e,o){if(null==t)return t;var n=[];return u(t,n,null,e,o),n}function c(t,e,o){return null}function h(t,e){return f(t,c,null)}function m(t){var e=[];return u(t,e,null,y.thatReturnsArgument),e}var d=o(56),_=o(42),y=o(15),f=o(111),v=d.twoArgumentPooler,x=d.fourArgumentPooler,g=/\/(?!\/)/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},d.addPoolingTo(i,v),a.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},d.addPoolingTo(a,x);var b={forEach:s,map:p,mapIntoWithKeyPrefixInternal:u,count:h,toArray:m};t.exports=b},function(t,e,o){"use strict";function n(t){return f[t]}function i(t,e){return t&&null!=t.key?s(t.key):e.toString(36)}function r(t){return(""+t).replace(v,n)}function s(t){return"$"+r(t)}function a(t,e,o,n){var r=typeof t;if("undefined"!==r&&"boolean"!==r||(t=null),null===t||"string"===r||"number"===r||p.isValidElement(t))return o(n,t,""===e?_+i(t,0):e),1;var l,c,f=0,v=""===e?_:e+y;if(Array.isArray(t))for(var g=0;g<t.length;g++)l=t[g],c=v+i(l,g),f+=a(l,c,o,n);else{var b=h(t);if(b){var C,E=b.call(t);if(b!==t.entries)for(var P=0;!(C=E.next()).done;)l=C.value,c=v+i(l,P++),f+=a(l,c,o,n);else for("production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?d(x,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."):void 0,x=!0);!(C=E.next()).done;){var D=C.value;D&&(l=D[1],c=v+s(D[0])+y+i(l,0),f+=a(l,c,o,n))}}else if("object"===r){var S="";if("production"!=={ENV:"production"}.NODE_ENV&&(S=" If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons.",t._isReactElement&&(S=" It looks like you're using an element created by a different version of React. Make sure to use only one copy of React."),u.current)){var N=u.current.getName();N&&(S+=" Check the render method of `"+N+"`.")}var w=String(t);"production"!=={ENV:"production"}.NODE_ENV?m(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===w?"object with keys {"+Object.keys(t).join(", ")+"}":w,S):m(!1)}}return f}function l(t,e,o){return null==t?0:a(t,"",e,o)}var u=o(5),p=o(42),c=o(45),h=o(108),m=o(13),d=o(25),_=c.SEPARATOR,y=":",f={"=":"=0",".":"=1",":":"=2"},v=/[=.:]/g,x=!1;t.exports=l},function(t,e,o){"use strict";function n(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var t=this._currentElement.props,e=l.getValue(t);null!=e&&s(this,Boolean(t.multiple),e)}}function i(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}function r(t,e){var o=t._currentElement._owner;l.checkPropTypes("select",e,o);for(var n=0;n<d.length;n++){var r=d[n];null!=e[r]&&(e.multiple?"production"!=={ENV:"production"}.NODE_ENV?h(Array.isArray(e[r]),"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",r,i(o)):void 0:"production"!=={ENV:"production"}.NODE_ENV?h(!Array.isArray(e[r]),"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",r,i(o)):void 0)}}function s(t,e,o){var n,i,r=u.getNode(t._rootNodeID).options;if(e){for(n={},i=0;i<o.length;i++)n[""+o[i]]=!0;for(i=0;i<r.length;i++){var s=n.hasOwnProperty(r[i].value);r[i].selected!==s&&(r[i].selected=s)}}else{for(n=""+o,i=0;i<r.length;i++)if(r[i].value===n)return void(r[i].selected=!0);r.length&&(r[0].selected=!0)}}function a(t){var e=this._currentElement.props,o=l.executeOnChange(e,t);return this._wrapperState.pendingUpdate=!0,p.asap(n,this),o}var l=o(106),u=o(28),p=o(54),c=o(39),h=o(25),m="__ReactDOMSelect_value$"+Math.random().toString(36).slice(2),d=["value","defaultValue"],_={valueContextKey:m,getNativeProps:function(t,e,o){return c({},e,{onChange:t._wrapperState.onChange,value:void 0})},mountWrapper:function(t,e){"production"!=={ENV:"production"}.NODE_ENV&&r(t,e);var o=l.getValue(e);t._wrapperState={pendingUpdate:!1,initialValue:null!=o?o:e.defaultValue,onChange:a.bind(t),wasMultiple:Boolean(e.multiple)}},processChildContext:function(t,e,o){var n=c({},o);return n[m]=t._wrapperState.initialValue,n},postUpdateWrapper:function(t){var e=t._currentElement.props;t._wrapperState.initialValue=void 0;var o=t._wrapperState.wasMultiple;t._wrapperState.wasMultiple=Boolean(e.multiple);var n=l.getValue(e);null!=n?(t._wrapperState.pendingUpdate=!1,s(t,Boolean(e.multiple),n)):o!==Boolean(e.multiple)&&(null!=e.defaultValue?s(t,Boolean(e.multiple),e.defaultValue):s(t,Boolean(e.multiple),e.multiple?[]:""))}};t.exports=_},function(t,e,o){"use strict";function n(){this._rootNodeID&&c.updateWrapper(this)}function i(t){var e=this._currentElement.props,o=r.executeOnChange(e,t);return a.asap(n,this),o}var r=o(106),s=o(27),a=o(54),l=o(39),u=o(13),p=o(25),c={getNativeProps:function(t,e,o){null!=e.dangerouslySetInnerHTML?"production"!=={ENV:"production"}.NODE_ENV?u(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):u(!1):void 0;var n=l({},e,{defaultValue:void 0,value:void 0,children:t._wrapperState.initialValue,onChange:t._wrapperState.onChange});return n},mountWrapper:function(t,e){"production"!=={ENV:"production"}.NODE_ENV&&r.checkPropTypes("textarea",e,t._currentElement._owner);var o=e.defaultValue,n=e.children;null!=n&&("production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?p(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."):void 0),null!=o?"production"!=={ENV:"production"}.NODE_ENV?u(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."):u(!1):void 0,Array.isArray(n)&&(n.length<=1?void 0:"production"!=={ENV:"production"}.NODE_ENV?u(!1,"<textarea> can only have at most one child."):u(!1),n=n[0]),o=""+n),null==o&&(o="");var s=r.getValue(e);t._wrapperState={initialValue:""+(null!=s?s:o),onChange:i.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,o=r.getValue(e);null!=o&&s.updatePropertyByID(t._rootNodeID,"value",""+o)}};t.exports=c},function(t,e,o){"use strict";function n(t,e,o){f.push({parentID:t,parentNode:null,type:c.INSERT_MARKUP,markupIndex:v.push(e)-1,content:null,fromIndex:null,toIndex:o})}function i(t,e,o){f.push({parentID:t,parentNode:null,type:c.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:e,toIndex:o})}function r(t,e){f.push({parentID:t,parentNode:null,type:c.REMOVE_NODE,markupIndex:null,content:null,fromIndex:e,toIndex:null})}function s(t,e){f.push({parentID:t,parentNode:null,type:c.SET_MARKUP,markupIndex:null,content:e,fromIndex:null,toIndex:null})}function a(t,e){f.push({parentID:t,parentNode:null,type:c.TEXT_CONTENT,markupIndex:null,content:e,fromIndex:null,toIndex:null})}function l(){f.length&&(p.processChildrenUpdates(f,v),u())}function u(){f.length=0,v.length=0}var p=o(64),c=o(16),h=o(5),m=o(50),d=o(115),_=o(116),y=0,f=[],v=[],x={Mixin:{_reconcilerInstantiateChildren:function(t,e,o){if("production"!=={ENV:"production"}.NODE_ENV&&this._currentElement)try{return h.current=this._currentElement._owner,d.instantiateChildren(t,e,o)}finally{h.current=null}return d.instantiateChildren(t,e,o)},_reconcilerUpdateChildren:function(t,e,o,n){var i;if("production"!=={ENV:"production"}.NODE_ENV&&this._currentElement){try{h.current=this._currentElement._owner,i=_(e)}finally{h.current=null}return d.updateChildren(t,i,o,n)}return i=_(e),d.updateChildren(t,i,o,n)},mountChildren:function(t,e,o){var n=this._reconcilerInstantiateChildren(t,e,o);this._renderedChildren=n;var i=[],r=0;for(var s in n)if(n.hasOwnProperty(s)){var a=n[s],l=this._rootNodeID+s,u=m.mountComponent(a,l,e,o);a._mountIndex=r++,i.push(u)}return i},updateTextContent:function(t){y++;var e=!0;try{var o=this._renderedChildren;d.unmountChildren(o);for(var n in o)o.hasOwnProperty(n)&&this._unmountChild(o[n]);this.setTextContent(t),e=!1}finally{y--,y||(e?u():l())}},updateMarkup:function(t){y++;var e=!0;try{var o=this._renderedChildren;d.unmountChildren(o);for(var n in o)o.hasOwnProperty(n)&&this._unmountChildByName(o[n],n);this.setMarkup(t),e=!1}finally{y--,y||(e?u():l())}},updateChildren:function(t,e,o){y++;var n=!0;try{this._updateChildren(t,e,o),n=!1}finally{y--,y||(n?u():l())}},_updateChildren:function(t,e,o){var n=this._renderedChildren,i=this._reconcilerUpdateChildren(n,t,e,o);if(this._renderedChildren=i,i||n){var r,s=0,a=0;for(r in i)if(i.hasOwnProperty(r)){var l=n&&n[r],u=i[r];l===u?(this.moveChild(l,a,s),s=Math.max(l._mountIndex,s),l._mountIndex=a):(l&&(s=Math.max(l._mountIndex,s),this._unmountChild(l)),this._mountChildByNameAtIndex(u,r,a,e,o)),a++}for(r in n)!n.hasOwnProperty(r)||i&&i.hasOwnProperty(r)||this._unmountChild(n[r])}},unmountChildren:function(){var t=this._renderedChildren;d.unmountChildren(t),this._renderedChildren=null},moveChild:function(t,e,o){t._mountIndex<o&&i(this._rootNodeID,t._mountIndex,e)},createChild:function(t,e){n(this._rootNodeID,e,t._mountIndex)},removeChild:function(t){r(this._rootNodeID,t._mountIndex)},setTextContent:function(t){a(this._rootNodeID,t)},setMarkup:function(t){s(this._rootNodeID,t)},_mountChildByNameAtIndex:function(t,e,o,n,i){var r=this._rootNodeID+e,s=m.mountComponent(t,r,n,i);t._mountIndex=o,this.createChild(t,s)},_unmountChild:function(t){this.removeChild(t),t._mountIndex=null}}};t.exports=x},function(t,e,o){"use strict";function n(t,e,o){var n=void 0===t[o];"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?l(n,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",o):void 0),null!=e&&n&&(t[o]=r(e,null))}var i=o(50),r=o(62),s=o(67),a=o(111),l=o(25),u={instantiateChildren:function(t,e,o){if(null==t)return null;var i={};return a(t,n,i),i},updateChildren:function(t,e,o,n){if(!e&&!t)return null;var a;for(a in e)if(e.hasOwnProperty(a)){
var l=t&&t[a],u=l&&l._currentElement,p=e[a];if(null!=l&&s(u,p))i.receiveComponent(l,p,o,n),e[a]=l;else{l&&i.unmountComponent(l,a);var c=r(p,null);e[a]=c}}for(a in t)!t.hasOwnProperty(a)||e&&e.hasOwnProperty(a)||i.unmountComponent(t[a]);return e},unmountChildren:function(t){for(var e in t)if(t.hasOwnProperty(e)){var o=t[e];i.unmountComponent(o)}}};t.exports=u},function(t,e,o){"use strict";function n(t,e,o){var n=t,i=void 0===n[o];"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?s(i,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",o):void 0),i&&null!=e&&(n[o]=e)}function i(t){if(null==t)return t;var e={};return r(t,n,e),e}var r=o(111),s=o(25);t.exports=i},function(t,e){"use strict";function o(t,e){if(t===e)return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var o=Object.keys(t),i=Object.keys(e);if(o.length!==i.length)return!1;for(var r=n.bind(e),s=0;s<o.length;s++)if(!r(o[s])||t[o[s]]!==e[o[s]])return!1;return!0}var n=Object.prototype.hasOwnProperty;t.exports=o},function(t,e,o){"use strict";function n(t){var e=h.getID(t),o=c.getReactRootIDFromNodeID(e),n=h.findReactContainerForID(o),i=h.getFirstReactDOM(n);return i}function i(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function r(t){s(t)}function s(t){for(var e=h.getFirstReactDOM(_(t.nativeEvent))||window,o=e;o;)t.ancestors.push(o),o=n(o);for(var i=0;i<t.ancestors.length;i++){e=t.ancestors[i];var r=h.getID(e)||"";f._handleTopLevel(t.topLevelType,e,r,t.nativeEvent,_(t.nativeEvent))}}function a(t){var e=y(window);t(e)}var l=o(119),u=o(9),p=o(56),c=o(45),h=o(28),m=o(54),d=o(39),_=o(81),y=o(120);d(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),p.addPoolingTo(i,p.twoArgumentPooler);var f={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(t){f._handleTopLevel=t},setEnabled:function(t){f._enabled=!!t},isEnabled:function(){return f._enabled},trapBubbledEvent:function(t,e,o){var n=o;return n?l.listen(n,e,f.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,o){var n=o;return n?l.capture(n,e,f.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=a.bind(null,t);l.listen(window,"scroll",e)},dispatchEvent:function(t,e){if(f._enabled){var o=i.getPooled(t,e);try{m.batchedUpdates(r,o)}finally{i.release(o)}}}};t.exports=f},function(t,e,o){"use strict";var n=o(15),i={listen:function(t,e,o){return t.addEventListener?(t.addEventListener(e,o,!1),{remove:function(){t.removeEventListener(e,o,!1)}}):t.attachEvent?(t.attachEvent("on"+e,o),{remove:function(){t.detachEvent("on"+e,o)}}):void 0},capture:function(t,e,o){return t.addEventListener?(t.addEventListener(e,o,!0),{remove:function(){t.removeEventListener(e,o,!0)}}):("production"!=={ENV:"production"}.NODE_ENV&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:n})},registerDefault:function(){}};t.exports=i},function(t,e){"use strict";function o(t){return t===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}t.exports=o},function(t,e,o){"use strict";var n=o(23),i=o(31),r=o(64),s=o(122),a=o(68),l=o(29),u=o(69),p=o(18),c=o(46),h=o(54),m={Component:r.injection,Class:s.injection,DOMProperty:n.injection,EmptyComponent:a.injection,EventPluginHub:i.injection,EventEmitter:l.injection,NativeComponent:u.injection,Perf:p.injection,RootIndex:c.injection,Updates:h.injection};t.exports=m},function(t,e,o){"use strict";function n(){N||(N=!0,"production"!=={ENV:"production"}.NODE_ENV?E(!1,"setProps(...) and replaceProps(...) are deprecated. Instead, call render again at the top level."):void 0)}function i(t,e,o){for(var n in e)e.hasOwnProperty(n)&&("production"!=={ENV:"production"}.NODE_ENV?E("function"==typeof e[n],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",t.displayName||"ReactClass",y[o],n):void 0)}function r(t,e){var o=w.hasOwnProperty(e)?w[e]:null;I.hasOwnProperty(e)&&(o!==D.OVERRIDE_BASE?"production"!=={ENV:"production"}.NODE_ENV?g(!1,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",e):g(!1):void 0),t.hasOwnProperty(e)&&(o!==D.DEFINE_MANY&&o!==D.DEFINE_MANY_MERGED?"production"!=={ENV:"production"}.NODE_ENV?g(!1,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",e):g(!1):void 0)}function s(t,e){if(e){"function"==typeof e?"production"!=={ENV:"production"}.NODE_ENV?g(!1,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."):g(!1):void 0,d.isValidElement(e)?"production"!=={ENV:"production"}.NODE_ENV?g(!1,"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):g(!1):void 0;var o=t.prototype;e.hasOwnProperty(P)&&A.mixins(t,e.mixins);for(var n in e)if(e.hasOwnProperty(n)&&n!==P){var i=e[n];if(r(o,n),A.hasOwnProperty(n))A[n](t,i);else{var s=w.hasOwnProperty(n),a=o.hasOwnProperty(n),l="function"==typeof i,c=l&&!s&&!a&&e.autobind!==!1;if(c)o.__reactAutoBindMap||(o.__reactAutoBindMap={}),o.__reactAutoBindMap[n]=i,o[n]=i;else if(a){var h=w[n];!s||h!==D.DEFINE_MANY_MERGED&&h!==D.DEFINE_MANY?"production"!=={ENV:"production"}.NODE_ENV?g(!1,"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",h,n):g(!1):void 0,h===D.DEFINE_MANY_MERGED?o[n]=u(o[n],i):h===D.DEFINE_MANY&&(o[n]=p(o[n],i))}else o[n]=i,"production"!=={ENV:"production"}.NODE_ENV&&"function"==typeof i&&e.displayName&&(o[n].displayName=e.displayName+"_"+n)}}}}function a(t,e){if(e)for(var o in e){var n=e[o];if(e.hasOwnProperty(o)){var i=o in A;i?"production"!=={ENV:"production"}.NODE_ENV?g(!1,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',o):g(!1):void 0;var r=o in t;r?"production"!=={ENV:"production"}.NODE_ENV?g(!1,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",o):g(!1):void 0,t[o]=n}}}function l(t,e){t&&e&&"object"==typeof t&&"object"==typeof e?void 0:"production"!=={ENV:"production"}.NODE_ENV?g(!1,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."):g(!1);for(var o in e)e.hasOwnProperty(o)&&(void 0!==t[o]?"production"!=={ENV:"production"}.NODE_ENV?g(!1,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",o):g(!1):void 0,t[o]=e[o]);return t}function u(t,e){return function(){var o=t.apply(this,arguments),n=e.apply(this,arguments);if(null==o)return n;if(null==n)return o;var i={};return l(i,o),l(i,n),i}}function p(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function c(t,e){var o=e.bind(t);if("production"!=={ENV:"production"}.NODE_ENV){o.__reactBoundContext=t,o.__reactBoundMethod=e,o.__reactBoundArguments=null;var n=t.constructor.displayName,i=o.bind;o.bind=function(r){for(var s=arguments.length,a=Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];if(r!==t&&null!==r)"production"!=={ENV:"production"}.NODE_ENV?E(!1,"bind(): React component methods may only be bound to the component instance. See %s",n):void 0;else if(!a.length)return"production"!=={ENV:"production"}.NODE_ENV?E(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",n):void 0,o;var u=i.apply(o,arguments);return u.__reactBoundContext=t,u.__reactBoundMethod=e,u.__reactBoundArguments=a,u}}return o}function h(t){for(var e in t.__reactAutoBindMap)if(t.__reactAutoBindMap.hasOwnProperty(e)){var o=t.__reactAutoBindMap[e];t[e]=c(t,o)}}var m=o(123),d=o(42),_=o(65),y=o(66),f=o(124),v=o(39),x=o(58),g=o(13),b=o(17),C=o(79),E=o(25),P=C({mixins:null}),D=b({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),S=[],N=!1,w={mixins:D.DEFINE_MANY,statics:D.DEFINE_MANY,propTypes:D.DEFINE_MANY,contextTypes:D.DEFINE_MANY,childContextTypes:D.DEFINE_MANY,getDefaultProps:D.DEFINE_MANY_MERGED,getInitialState:D.DEFINE_MANY_MERGED,getChildContext:D.DEFINE_MANY_MERGED,render:D.DEFINE_ONCE,componentWillMount:D.DEFINE_MANY,componentDidMount:D.DEFINE_MANY,componentWillReceiveProps:D.DEFINE_MANY,shouldComponentUpdate:D.DEFINE_ONCE,componentWillUpdate:D.DEFINE_MANY,componentDidUpdate:D.DEFINE_MANY,componentWillUnmount:D.DEFINE_MANY,updateComponent:D.OVERRIDE_BASE},A={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var o=0;o<e.length;o++)s(t,e[o])},childContextTypes:function(t,e){"production"!=={ENV:"production"}.NODE_ENV&&i(t,e,_.childContext),t.childContextTypes=v({},t.childContextTypes,e)},contextTypes:function(t,e){"production"!=={ENV:"production"}.NODE_ENV&&i(t,e,_.context),t.contextTypes=v({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=u(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){"production"!=={ENV:"production"}.NODE_ENV&&i(t,e,_.prop),t.propTypes=v({},t.propTypes,e)},statics:function(t,e){a(t,e)},autobind:function(){}},I={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t),e&&this.updater.enqueueCallback(this,e)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(t,e){"production"!=={ENV:"production"}.NODE_ENV&&n(),this.updater.enqueueSetProps(this,t),e&&this.updater.enqueueCallback(this,e)},replaceProps:function(t,e){"production"!=={ENV:"production"}.NODE_ENV&&n(),this.updater.enqueueReplaceProps(this,t),e&&this.updater.enqueueCallback(this,e)}},M=function(){};v(M.prototype,m.prototype,I);var V={createClass:function(t){var e=function(t,o,n){"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?E(this instanceof e,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"):void 0),this.__reactAutoBindMap&&h(this),this.props=t,this.context=o,this.refs=x,this.updater=n||f,this.state=null;var i=this.getInitialState?this.getInitialState():null;"production"!=={ENV:"production"}.NODE_ENV&&"undefined"==typeof i&&this.getInitialState._isMockFunction&&(i=null),"object"!=typeof i||Array.isArray(i)?"production"!=={ENV:"production"}.NODE_ENV?g(!1,"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent"):g(!1):void 0,this.state=i};e.prototype=new M,e.prototype.constructor=e,S.forEach(s.bind(null,e)),s(e,t),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),"production"!=={ENV:"production"}.NODE_ENV&&(e.getDefaultProps&&(e.getDefaultProps.isReactClassApproved={}),e.prototype.getInitialState&&(e.prototype.getInitialState.isReactClassApproved={})),e.prototype.render?void 0:"production"!=={ENV:"production"}.NODE_ENV?g(!1,"createClass(...): Class specification must implement a `render` method."):g(!1),"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?E(!e.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",t.displayName||"A component"):void 0,"production"!=={ENV:"production"}.NODE_ENV?E(!e.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",t.displayName||"A component"):void 0);for(var o in w)e.prototype[o]||(e.prototype[o]=null);return e},injection:{injectMixin:function(t){S.push(t)}}};t.exports=V},function(t,e,o){"use strict";function n(t,e,o){this.props=t,this.context=e,this.refs=s,this.updater=o||i}var i=o(124),r=o(43),s=o(58),a=o(13),l=o(25);if(n.prototype.isReactComponent={},n.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t?"production"!=={ENV:"production"}.NODE_ENV?a(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):a(!1):void 0,"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?l(null!=t,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."):void 0),this.updater.enqueueSetState(this,t),e&&this.updater.enqueueCallback(this,e)},n.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t)},"production"!=={ENV:"production"}.NODE_ENV){var u={getDOMNode:["getDOMNode","Use ReactDOM.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead, call render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead, call render again at the top level."]},p=function(t,e){r&&Object.defineProperty(n.prototype,t,{get:function(){"production"!=={ENV:"production"}.NODE_ENV?l(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",e[0],e[1]):void 0}})};for(var c in u)u.hasOwnProperty(c)&&p(c,u[c])}t.exports=n},function(t,e,o){"use strict";function n(t,e){"production"!=={ENV:"production"}.NODE_ENV&&("production"!=={ENV:"production"}.NODE_ENV?i(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",e,e,t.constructor&&t.constructor.displayName||""):void 0)}var i=o(25),r={isMounted:function(t){return!1},enqueueCallback:function(t,e){},enqueueForceUpdate:function(t){n(t,"forceUpdate")},enqueueReplaceState:function(t,e){n(t,"replaceState")},enqueueSetState:function(t,e){n(t,"setState")},enqueueSetProps:function(t,e){n(t,"setProps")},enqueueReplaceProps:function(t,e){n(t,"replaceProps")}};t.exports=r},function(t,e,o){"use strict";function n(t){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=!t&&a.useCreateElement}var i=o(55),r=o(56),s=o(29),a=o(41),l=o(126),u=o(57),p=o(39),c={initialize:l.getSelectionInformation,close:l.restoreSelection},h={initialize:function(){var t=s.isEnabled();return s.setEnabled(!1),t},close:function(t){s.setEnabled(t)}},m={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},d=[c,h,m],_={getTransactionWrappers:function(){return d},getReactMountReady:function(){return this.reactMountReady},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};p(n.prototype,u.Mixin,_),r.addPoolingTo(n),t.exports=n},function(t,e,o){"use strict";function n(t){return r(document.documentElement,t)}var i=o(127),r=o(59),s=o(95),a=o(129),l={hasSelectionCapabilities:function(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)},getSelectionInformation:function(){var t=a();return{focusedElem:t,selectionRange:l.hasSelectionCapabilities(t)?l.getSelection(t):null}},restoreSelection:function(t){var e=a(),o=t.focusedElem,i=t.selectionRange;e!==o&&n(o)&&(l.hasSelectionCapabilities(o)&&l.setSelection(o,i),s(o))},getSelection:function(t){var e;if("selectionStart"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var o=document.selection.createRange();o.parentElement()===t&&(e={start:-o.moveStart("character",-t.value.length),end:-o.moveEnd("character",-t.value.length)})}else e=i.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var o=e.start,n=e.end;if("undefined"==typeof n&&(n=o),"selectionStart"in t)t.selectionStart=o,t.selectionEnd=Math.min(n,t.value.length);else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var r=t.createTextRange();r.collapse(!0),r.moveStart("character",o),r.moveEnd("character",n-o),r.select()}else i.setOffsets(t,e)}};t.exports=l},function(t,e,o){"use strict";function n(t,e,o,n){return t===o&&e===n}function i(t){var e=document.selection,o=e.createRange(),n=o.text.length,i=o.duplicate();i.moveToElementText(t),i.setEndPoint("EndToStart",o);var r=i.text.length,s=r+n;return{start:r,end:s}}function r(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var o=e.anchorNode,i=e.anchorOffset,r=e.focusNode,s=e.focusOffset,a=e.getRangeAt(0);try{a.startContainer.nodeType,a.endContainer.nodeType}catch(l){return null}var u=n(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),p=u?0:a.toString().length,c=a.cloneRange();c.selectNodeContents(t),c.setEnd(a.startContainer,a.startOffset);var h=n(c.startContainer,c.startOffset,c.endContainer,c.endOffset),m=h?0:c.toString().length,d=m+p,_=document.createRange();_.setStart(o,i),_.setEnd(r,s);var y=_.collapsed;return{start:y?d:m,end:y?m:d}}function s(t,e){var o,n,i=document.selection.createRange().duplicate();"undefined"==typeof e.end?(o=e.start,n=o):e.start>e.end?(o=e.end,n=e.start):(o=e.start,n=e.end),i.moveToElementText(t),i.moveStart("character",o),i.setEndPoint("EndToStart",i),i.moveEnd("character",n-o),i.select()}function a(t,e){if(window.getSelection){var o=window.getSelection(),n=t[p()].length,i=Math.min(e.start,n),r="undefined"==typeof e.end?i:Math.min(e.end,n);if(!o.extend&&i>r){var s=r;r=i,i=s}var a=u(t,i),l=u(t,r);if(a&&l){var c=document.createRange();c.setStart(a.node,a.offset),o.removeAllRanges(),i>r?(o.addRange(c),o.extend(l.node,l.offset)):(c.setEnd(l.node,l.offset),o.addRange(c))}}}var l=o(9),u=o(128),p=o(75),c=l.canUseDOM&&"selection"in document&&!("getSelection"in window),h={getOffsets:c?i:r,setOffsets:c?s:a};t.exports=h},function(t,e){"use strict";function o(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function n(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function i(t,e){for(var i=o(t),r=0,s=0;i;){if(3===i.nodeType){if(s=r+i.textContent.length,r<=e&&s>=e)return{node:i,offset:e-r};r=s}i=o(n(i))}}t.exports=i},function(t,e){"use strict";function o(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(t){return document.body}}t.exports=o},function(t,e,o){"use strict";function n(t){if("selectionStart"in t&&l.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var o=document.selection.createRange();return{parentElement:o.parentElement(),text:o.text,top:o.boundingTop,left:o.boundingLeft}}}function i(t,e){if(g||null==f||f!==p())return null;var o=n(f);if(!x||!m(x,o)){x=o;var i=u.getPooled(y.select,v,t,e);return i.type="select",i.target=f,s.accumulateTwoPhaseDispatches(i),i}return null}var r=o(30),s=o(73),a=o(9),l=o(126),u=o(77),p=o(129),c=o(82),h=o(79),m=o(117),d=r.topLevelTypes,_=a.canUseDOM&&"documentMode"in document&&document.documentMode<=11,y={select:{phasedRegistrationNames:{bubbled:h({onSelect:null}),captured:h({onSelectCapture:null})},dependencies:[d.topBlur,d.topContextMenu,d.topFocus,d.topKeyDown,d.topMouseDown,d.topMouseUp,d.topSelectionChange]}},f=null,v=null,x=null,g=!1,b=!1,C=h({onSelect:null}),E={eventTypes:y,extractEvents:function(t,e,o,n,r){if(!b)return null;switch(t){case d.topFocus:(c(e)||"true"===e.contentEditable)&&(f=e,v=o,x=null);break;case d.topBlur:f=null,v=null,x=null;break;case d.topMouseDown:g=!0;break;case d.topContextMenu:case d.topMouseUp:return g=!1,i(n,r);case d.topSelectionChange:if(_)break;case d.topKeyDown:case d.topKeyUp:return i(n,r)}return null},didPutListener:function(t,e,o){e===C&&(b=!0)}};t.exports=E},function(t,e){"use strict";var o=Math.pow(2,53),n={createReactRootIndex:function(){return Math.ceil(Math.random()*o)}};t.exports=n},function(t,e,o){"use strict";var n=o(30),i=o(119),r=o(73),s=o(28),a=o(133),l=o(77),u=o(134),p=o(135),c=o(86),h=o(138),m=o(139),d=o(87),_=o(140),y=o(15),f=o(136),v=o(13),x=o(79),g=n.topLevelTypes,b={abort:{phasedRegistrationNames:{bubbled:x({onAbort:!0}),captured:x({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:x({onBlur:!0}),captured:x({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:x({onCanPlay:!0}),captured:x({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:x({onCanPlayThrough:!0}),captured:x({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:x({onClick:!0}),captured:x({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:x({onContextMenu:!0}),captured:x({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:x({onCopy:!0}),captured:x({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:x({onCut:!0}),captured:x({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:x({onDoubleClick:!0}),captured:x({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:x({onDrag:!0}),captured:x({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:x({onDragEnd:!0}),captured:x({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:x({onDragEnter:!0}),captured:x({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:x({onDragExit:!0}),captured:x({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:x({onDragLeave:!0}),captured:x({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:x({onDragOver:!0}),captured:x({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:x({onDragStart:!0}),captured:x({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:x({onDrop:!0}),captured:x({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:x({onDurationChange:!0}),captured:x({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:x({onEmptied:!0}),captured:x({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:x({onEncrypted:!0}),captured:x({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:x({onEnded:!0}),captured:x({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:x({onError:!0}),captured:x({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:x({onFocus:!0}),captured:x({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:x({onInput:!0}),captured:x({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:x({onKeyDown:!0}),captured:x({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:x({onKeyPress:!0}),captured:x({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:x({onKeyUp:!0}),captured:x({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:x({onLoad:!0}),captured:x({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:x({onLoadedData:!0}),captured:x({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:x({onLoadedMetadata:!0}),captured:x({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:x({onLoadStart:!0}),captured:x({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:x({onMouseDown:!0}),captured:x({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:x({onMouseMove:!0}),captured:x({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:x({onMouseOut:!0}),captured:x({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:x({onMouseOver:!0}),captured:x({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:x({onMouseUp:!0}),captured:x({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:x({onPaste:!0}),captured:x({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:x({onPause:!0}),captured:x({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:x({onPlay:!0}),captured:x({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:x({onPlaying:!0}),captured:x({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:x({onProgress:!0}),captured:x({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:x({onRateChange:!0}),captured:x({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:x({onReset:!0}),captured:x({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:x({onScroll:!0}),captured:x({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:x({onSeeked:!0}),captured:x({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:x({onSeeking:!0}),captured:x({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:x({onStalled:!0}),captured:x({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:x({onSubmit:!0}),captured:x({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:x({onSuspend:!0}),captured:x({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:x({onTimeUpdate:!0}),captured:x({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:x({onTouchCancel:!0}),captured:x({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:x({onTouchEnd:!0}),captured:x({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:x({onTouchMove:!0}),captured:x({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:x({onTouchStart:!0}),captured:x({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:x({onVolumeChange:!0}),captured:x({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:x({onWaiting:!0}),captured:x({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:x({onWheel:!0}),captured:x({onWheelCapture:!0})}}},C={topAbort:b.abort,topBlur:b.blur,topCanPlay:b.canPlay,topCanPlayThrough:b.canPlayThrough,topClick:b.click,topContextMenu:b.contextMenu,topCopy:b.copy,topCut:b.cut,topDoubleClick:b.doubleClick,topDrag:b.drag,topDragEnd:b.dragEnd,topDragEnter:b.dragEnter,topDragExit:b.dragExit,topDragLeave:b.dragLeave,topDragOver:b.dragOver,topDragStart:b.dragStart,topDrop:b.drop,topDurationChange:b.durationChange,topEmptied:b.emptied,topEncrypted:b.encrypted,topEnded:b.ended,topError:b.error,topFocus:b.focus,topInput:b.input,topKeyDown:b.keyDown,topKeyPress:b.keyPress,topKeyUp:b.keyUp,topLoad:b.load,topLoadedData:b.loadedData,topLoadedMetadata:b.loadedMetadata,topLoadStart:b.loadStart,topMouseDown:b.mouseDown,topMouseMove:b.mouseMove,topMouseOut:b.mouseOut,topMouseOver:b.mouseOver,topMouseUp:b.mouseUp,topPaste:b.paste,topPause:b.pause,topPlay:b.play,topPlaying:b.playing,topProgress:b.progress,topRateChange:b.rateChange,topReset:b.reset,topScroll:b.scroll,topSeeked:b.seeked,topSeeking:b.seeking,topStalled:b.stalled,topSubmit:b.submit,topSuspend:b.suspend,topTimeUpdate:b.timeUpdate,topTouchCancel:b.touchCancel,topTouchEnd:b.touchEnd,topTouchMove:b.touchMove,topTouchStart:b.touchStart,topVolumeChange:b.volumeChange,topWaiting:b.waiting,topWheel:b.wheel};for(var E in C)C[E].dependencies=[E];var P=x({onClick:null}),D={},S={eventTypes:b,extractEvents:function(t,e,o,n,i){var s=C[t];if(!s)return null;var y;switch(t){case g.topAbort:case g.topCanPlay:case g.topCanPlayThrough:case g.topDurationChange:case g.topEmptied:case g.topEncrypted:case g.topEnded:case g.topError:case g.topInput:case g.topLoad:case g.topLoadedData:case g.topLoadedMetadata:case g.topLoadStart:case g.topPause:case g.topPlay:case g.topPlaying:case g.topProgress:case g.topRateChange:case g.topReset:case g.topSeeked:case g.topSeeking:case g.topStalled:case g.topSubmit:case g.topSuspend:case g.topTimeUpdate:case g.topVolumeChange:case g.topWaiting:y=l;break;case g.topKeyPress:if(0===f(n))return null;case g.topKeyDown:case g.topKeyUp:y=p;break;case g.topBlur:case g.topFocus:y=u;break;case g.topClick:if(2===n.button)return null;case g.topContextMenu:case g.topDoubleClick:case g.topMouseDown:case g.topMouseMove:case g.topMouseOut:case g.topMouseOver:case g.topMouseUp:y=c;break;case g.topDrag:case g.topDragEnd:case g.topDragEnter:case g.topDragExit:case g.topDragLeave:case g.topDragOver:case g.topDragStart:case g.topDrop:y=h;break;case g.topTouchCancel:case g.topTouchEnd:case g.topTouchMove:case g.topTouchStart:y=m;break;case g.topScroll:y=d;break;case g.topWheel:y=_;break;case g.topCopy:case g.topCut:case g.topPaste:y=a}y?void 0:"production"!=={ENV:"production"}.NODE_ENV?v(!1,"SimpleEventPlugin: Unhandled event type, `%s`.",t):v(!1);var x=y.getPooled(s,o,n,i);return r.accumulateTwoPhaseDispatches(x),x},didPutListener:function(t,e,o){if(e===P){var n=s.getNode(t);D[t]||(D[t]=i.listen(n,"click",y))}},willDeleteListener:function(t,e){e===P&&(D[t].remove(),delete D[t])}};t.exports=S},function(t,e,o){"use strict";function n(t,e,o,n){i.call(this,t,e,o,n)}var i=o(77),r={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};i.augmentClass(n,r),t.exports=n},function(t,e,o){"use strict";function n(t,e,o,n){i.call(this,t,e,o,n)}var i=o(87),r={relatedTarget:null};i.augmentClass(n,r),t.exports=n},function(t,e,o){"use strict";function n(t,e,o,n){i.call(this,t,e,o,n)}var i=o(87),r=o(136),s=o(137),a=o(88),l={key:s,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(t){return"keypress"===t.type?r(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?r(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}};i.augmentClass(n,l),t.exports=n},function(t,e){"use strict";function o(t){var e,o=t.keyCode;return"charCode"in t?(e=t.charCode,0===e&&13===o&&(e=13)):e=o,e>=32||13===e?e:0}t.exports=o},function(t,e,o){"use strict";function n(t){if(t.key){var e=r[t.key]||t.key;if("Unidentified"!==e)return e}if("keypress"===t.type){var o=i(t);return 13===o?"Enter":String.fromCharCode(o)}return"keydown"===t.type||"keyup"===t.type?s[t.keyCode]||"Unidentified":""}var i=o(136),r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=n},function(t,e,o){"use strict";function n(t,e,o,n){i.call(this,t,e,o,n)}var i=o(86),r={dataTransfer:null};i.augmentClass(n,r),t.exports=n},function(t,e,o){"use strict";function n(t,e,o,n){i.call(this,t,e,o,n)}var i=o(87),r=o(88),s={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:r};i.augmentClass(n,s),t.exports=n},function(t,e,o){"use strict";function n(t,e,o,n){i.call(this,t,e,o,n)}var i=o(86),r={deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(n,r),t.exports=n},function(t,e,o){"use strict";var n=o(23),i=n.injection.MUST_USE_ATTRIBUTE,r={xlink:"http://www.w3.org/1999/xlink",
xml:"http://www.w3.org/XML/1998/namespace"},s={Properties:{clipPath:i,cx:i,cy:i,d:i,dx:i,dy:i,fill:i,fillOpacity:i,fontFamily:i,fontSize:i,fx:i,fy:i,gradientTransform:i,gradientUnits:i,markerEnd:i,markerMid:i,markerStart:i,offset:i,opacity:i,patternContentUnits:i,patternUnits:i,points:i,preserveAspectRatio:i,r:i,rx:i,ry:i,spreadMethod:i,stopColor:i,stopOpacity:i,stroke:i,strokeDasharray:i,strokeLinecap:i,strokeOpacity:i,strokeWidth:i,textAnchor:i,transform:i,version:i,viewBox:i,x1:i,x2:i,x:i,xlinkActuate:i,xlinkArcrole:i,xlinkHref:i,xlinkRole:i,xlinkShow:i,xlinkTitle:i,xlinkType:i,xmlBase:i,xmlLang:i,xmlSpace:i,y1:i,y2:i,y:i},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};t.exports=s},function(t,e,o){"use strict";function n(t){return Math.floor(100*t)/100}function i(t,e,o){t[e]=(t[e]||0)+o}var r=o(23),s=o(143),a=o(28),l=o(18),u=o(144),p={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){p._injected||l.injection.injectMeasure(p.measure),p._allMeasurements.length=0,l.enableMeasure=!0},stop:function(){l.enableMeasure=!1},getLastMeasurements:function(){return p._allMeasurements},printExclusive:function(t){t=t||p._allMeasurements;var e=s.getExclusiveSummary(t);console.table(e.map(function(t){return{"Component class name":t.componentName,"Total inclusive time (ms)":n(t.inclusive),"Exclusive mount time (ms)":n(t.exclusive),"Exclusive render time (ms)":n(t.render),"Mount time per instance (ms)":n(t.exclusive/t.count),"Render time per instance (ms)":n(t.render/t.count),Instances:t.count}}))},printInclusive:function(t){t=t||p._allMeasurements;var e=s.getInclusiveSummary(t);console.table(e.map(function(t){return{"Owner > component":t.componentName,"Inclusive time (ms)":n(t.time),Instances:t.count}})),console.log("Total time:",s.getTotalTime(t).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(t){var e=s.getInclusiveSummary(t,!0);return e.map(function(t){return{"Owner > component":t.componentName,"Wasted time (ms)":t.time,Instances:t.count}})},printWasted:function(t){t=t||p._allMeasurements,console.table(p.getMeasurementsSummaryMap(t)),console.log("Total time:",s.getTotalTime(t).toFixed(2)+" ms")},printDOM:function(t){t=t||p._allMeasurements;var e=s.getDOMSummary(t);console.table(e.map(function(t){var e={};return e[r.ID_ATTRIBUTE_NAME]=t.id,e.type=t.type,e.args=JSON.stringify(t.args),e})),console.log("Total time:",s.getTotalTime(t).toFixed(2)+" ms")},_recordWrite:function(t,e,o,n){var i=p._allMeasurements[p._allMeasurements.length-1].writes;i[t]=i[t]||[],i[t].push({type:e,time:o,args:n})},measure:function(t,e,o){return function(){for(var n=arguments.length,r=Array(n),s=0;s<n;s++)r[s]=arguments[s];var l,c,h;if("_renderNewRootComponent"===e||"flushBatchedUpdates"===e)return p._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}}),h=u(),c=o.apply(this,r),p._allMeasurements[p._allMeasurements.length-1].totalTime=u()-h,c;if("_mountImageIntoNode"===e||"ReactBrowserEventEmitter"===t||"ReactDOMIDOperations"===t||"CSSPropertyOperations"===t||"DOMChildrenOperations"===t||"DOMPropertyOperations"===t){if(h=u(),c=o.apply(this,r),l=u()-h,"_mountImageIntoNode"===e){var m=a.getID(r[1]);p._recordWrite(m,e,l,r[0])}else if("dangerouslyProcessChildrenUpdates"===e)r[0].forEach(function(t){var e={};null!==t.fromIndex&&(e.fromIndex=t.fromIndex),null!==t.toIndex&&(e.toIndex=t.toIndex),null!==t.textContent&&(e.textContent=t.textContent),null!==t.markupIndex&&(e.markup=r[1][t.markupIndex]),p._recordWrite(t.parentID,t.type,l,e)});else{var d=r[0];"object"==typeof d&&(d=a.getID(r[0])),p._recordWrite(d,e,l,Array.prototype.slice.call(r,1))}return c}if("ReactCompositeComponent"!==t||"mountComponent"!==e&&"updateComponent"!==e&&"_renderValidatedComponent"!==e)return o.apply(this,r);if(this._currentElement.type===a.TopLevelWrapper)return o.apply(this,r);var _="mountComponent"===e?r[0]:this._rootNodeID,y="_renderValidatedComponent"===e,f="mountComponent"===e,v=p._mountStack,x=p._allMeasurements[p._allMeasurements.length-1];if(y?i(x.counts,_,1):f&&(x.created[_]=!0,v.push(0)),h=u(),c=o.apply(this,r),l=u()-h,y)i(x.render,_,l);else if(f){var g=v.pop();v[v.length-1]+=l,i(x.exclusive,_,l-g),i(x.inclusive,_,l)}else i(x.inclusive,_,l);return x.displayNames[_]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},c}}};t.exports=p},function(t,e,o){"use strict";function n(t){for(var e=0,o=0;o<t.length;o++){var n=t[o];e+=n.totalTime}return e}function i(t){var e=[];return t.forEach(function(t){Object.keys(t.writes).forEach(function(o){t.writes[o].forEach(function(t){e.push({id:o,type:p[t.type]||t.type,args:t.args})})})}),e}function r(t){for(var e,o={},n=0;n<t.length;n++){var i=t[n],r=l({},i.exclusive,i.inclusive);for(var s in r)e=i.displayNames[s].current,o[e]=o[e]||{componentName:e,inclusive:0,exclusive:0,render:0,count:0},i.render[s]&&(o[e].render+=i.render[s]),i.exclusive[s]&&(o[e].exclusive+=i.exclusive[s]),i.inclusive[s]&&(o[e].inclusive+=i.inclusive[s]),i.counts[s]&&(o[e].count+=i.counts[s])}var a=[];for(e in o)o[e].exclusive>=u&&a.push(o[e]);return a.sort(function(t,e){return e.exclusive-t.exclusive}),a}function s(t,e){for(var o,n={},i=0;i<t.length;i++){var r,s=t[i],p=l({},s.exclusive,s.inclusive);e&&(r=a(s));for(var c in p)if(!e||r[c]){var h=s.displayNames[c];o=h.owner+" > "+h.current,n[o]=n[o]||{componentName:o,time:0,count:0},s.inclusive[c]&&(n[o].time+=s.inclusive[c]),s.counts[c]&&(n[o].count+=s.counts[c])}}var m=[];for(o in n)n[o].time>=u&&m.push(n[o]);return m.sort(function(t,e){return e.time-t.time}),m}function a(t){var e={},o=Object.keys(t.writes),n=l({},t.exclusive,t.inclusive);for(var i in n){for(var r=!1,s=0;s<o.length;s++)if(0===o[s].indexOf(i)){r=!0;break}t.created[i]&&(r=!0),!r&&t.counts[i]>0&&(e[i]=!0)}return e}var l=o(39),u=1.2,p={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",setValueForStyles:"update styles",replaceNodeWithMarkup:"replace",updateTextContent:"set textContent"},c={getExclusiveSummary:r,getInclusiveSummary:s,getDOMSummary:i,getTotalTime:n};t.exports=c},function(t,e,o){"use strict";var n,i=o(145);n=i.now?function(){return i.now()}:function(){return Date.now()},t.exports=n},function(t,e,o){"use strict";var n,i=o(9);i.canUseDOM&&(n=window.performance||window.msPerformance||window.webkitPerformance),t.exports=n||{}},function(t,e){"use strict";t.exports="0.14.8"},function(t,e,o){"use strict";var n=o(28);t.exports=n.renderSubtreeIntoContainer},function(t,e,o){"use strict";var n=o(71),i=o(149),r=o(146);n.inject();var s={renderToString:i.renderToString,renderToStaticMarkup:i.renderToStaticMarkup,version:r};t.exports=s},function(t,e,o){"use strict";function n(t){s.isValidElement(t)?void 0:"production"!=={ENV:"production"}.NODE_ENV?d(!1,"renderToString(): You must pass a valid ReactElement."):d(!1);var e;try{c.injection.injectBatchingStrategy(u);var o=a.createReactRootID();return e=p.getPooled(!1),e.perform(function(){var n=m(t,null),i=n.mountComponent(o,e,h);return l.addChecksumToMarkup(i)},null)}finally{p.release(e),c.injection.injectBatchingStrategy(r)}}function i(t){s.isValidElement(t)?void 0:"production"!=={ENV:"production"}.NODE_ENV?d(!1,"renderToStaticMarkup(): You must pass a valid ReactElement."):d(!1);var e;try{c.injection.injectBatchingStrategy(u);var o=a.createReactRootID();return e=p.getPooled(!0),e.perform(function(){var n=m(t,null);return n.mountComponent(o,e,h)},null)}finally{p.release(e),c.injection.injectBatchingStrategy(r)}}var r=o(92),s=o(42),a=o(45),l=o(48),u=o(150),p=o(151),c=o(54),h=o(58),m=o(62),d=o(13);t.exports={renderToString:n,renderToStaticMarkup:i}},function(t,e){"use strict";var o={isBatchingUpdates:!1,batchedUpdates:function(t){}};t.exports=o},function(t,e,o){"use strict";function n(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.reactMountReady=r.getPooled(null),this.useCreateElement=!1}var i=o(56),r=o(55),s=o(57),a=o(39),l=o(15),u={initialize:function(){this.reactMountReady.reset()},close:l},p=[u],c={getTransactionWrappers:function(){return p},getReactMountReady:function(){return this.reactMountReady},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null}};a(n.prototype,s.Mixin,c),i.addPoolingTo(n),t.exports=n},function(t,e,o){"use strict";var n=o(110),i=o(123),r=o(122),s=o(153),a=o(42),l=o(154),u=o(107),p=o(146),c=o(39),h=o(156),m=a.createElement,d=a.createFactory,_=a.cloneElement;"production"!=={ENV:"production"}.NODE_ENV&&(m=l.createElement,d=l.createFactory,_=l.cloneElement);var y={Children:{map:n.map,forEach:n.forEach,count:n.count,toArray:n.toArray,only:h},Component:i,createElement:m,cloneElement:_,isValidElement:a.isValidElement,PropTypes:u,createClass:r.createClass,createFactory:d,createMixin:function(t){return t},DOM:s,version:p,__spread:c};t.exports=y},function(t,e,o){"use strict";function n(t){return"production"!=={ENV:"production"}.NODE_ENV?r.createFactory(t):i.createFactory(t)}var i=o(42),r=o(154),s=o(155),a=s({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},n);t.exports=a},function(t,e,o){"use strict";function n(){if(h.current){var t=h.current.getName();if(t)return" Check the render method of `"+t+"`."}return""}function i(t,e){if(t._store&&!t._store.validated&&null==t.key){t._store.validated=!0;var o=r("uniqueKey",t,e);null!==o&&("production"!=={ENV:"production"}.NODE_ENV?y(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s%s',o.parentOrOwner||"",o.childOwner||"",o.url||""):void 0)}}function r(t,e,o){var i=n();if(!i){var r="string"==typeof o?o:o.displayName||o.name;r&&(i=" Check the top-level render call using <"+r+">.")}var s=f[t]||(f[t]={});if(s[i])return null;s[i]=!0;var a={parentOrOwner:i,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return e&&e._owner&&e._owner!==h.current&&(a.childOwner=" It was passed a child from "+e._owner.getName()+"."),a}function s(t,e){if("object"==typeof t)if(Array.isArray(t))for(var o=0;o<t.length;o++){var n=t[o];u.isValidElement(n)&&i(n,e)}else if(u.isValidElement(t))t._store&&(t._store.validated=!0);else if(t){var r=d(t);if(r&&r!==t.entries)for(var s,a=r.call(t);!(s=a.next()).done;)u.isValidElement(s.value)&&i(s.value,e)}}function a(t,e,o,i){for(var r in e)if(e.hasOwnProperty(r)){var s;try{"function"!=typeof e[r]?"production"!=={ENV:"production"}.NODE_ENV?_(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",t||"React class",c[i],r):_(!1):void 0,s=e[r](o,r,t,i)}catch(a){s=a}if("production"!=={ENV:"production"}.NODE_ENV?y(!s||s instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",t||"React class",c[i],r,typeof s):void 0,s instanceof Error&&!(s.message in v)){v[s.message]=!0;var l=n();"production"!=={ENV:"production"}.NODE_ENV?y(!1,"Failed propType: %s%s",s.message,l):void 0}}}function l(t){var e=t.type;if("function"==typeof e){var o=e.displayName||e.name;e.propTypes&&a(o,e.propTypes,t.props,p.prop),"function"==typeof e.getDefaultProps&&("production"!=={ENV:"production"}.NODE_ENV?y(e.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead."):void 0)}}var u=o(42),p=o(65),c=o(66),h=o(5),m=o(43),d=o(108),_=o(13),y=o(25),f={},v={},x={createElement:function(t,e,o){var i="string"==typeof t||"function"==typeof t;"production"!=={ENV:"production"}.NODE_ENV?y(i,"React.createElement: type should not be null, undefined, boolean, or number. It should be a string (for DOM elements) or a ReactClass (for composite components).%s",n()):void 0;var r=u.createElement.apply(this,arguments);if(null==r)return r;if(i)for(var a=2;a<arguments.length;a++)s(arguments[a],t);return l(r),r},createFactory:function(t){var e=x.createElement.bind(null,t);return e.type=t,"production"!=={ENV:"production"}.NODE_ENV&&m&&Object.defineProperty(e,"type",{enumerable:!1,get:function(){return"production"!=={ENV:"production"}.NODE_ENV?y(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."):void 0,Object.defineProperty(this,"type",{value:t}),t}}),e},cloneElement:function(t,e,o){for(var n=u.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)s(arguments[i],n.type);return l(n),n}};t.exports=x},function(t,e){"use strict";function o(t,e,o){if(!t)return null;var i={};for(var r in t)n.call(t,r)&&(i[r]=e.call(o,t[r],r,t));return i}var n=Object.prototype.hasOwnProperty;t.exports=o},function(t,e,o){"use strict";function n(t){return i.isValidElement(t)?void 0:"production"!=={ENV:"production"}.NODE_ENV?r(!1,"onlyChild must be passed a children with exactly one child."):r(!1),t}var i=o(42),r=o(13);t.exports=n},function(t,e,o){"use strict";function n(t,e,o,n,s){var a=!1;if("production"!=={ENV:"production"}.NODE_ENV){var l=function(){return"production"!=={ENV:"production"}.NODE_ENV?r(a,"React.%s is deprecated. Please use %s.%s from require('%s') instead.",t,e,t,o):void 0,a=!0,s.apply(n,arguments)};return i(l,s)}return s}var i=o(39),r=o(25);t.exports=n},,,,,,,,,,,function(t,e,o){(function(t){"use strict";var n=t.poly2tri;e.noConflict=function(){return t.poly2tri=n,e},e.VERSION=o(169).version,e.PointError=o(170),e.Point=o(172),e.Triangle=o(173),e.SweepContext=o(174);var i=o(175);e.triangulate=i.triangulate,e.sweep={Triangulate:i.triangulate}}).call(e,function(){return this}())},function(t,e){t.exports={version:"1.3.5"}},function(t,e,o){"use strict";var n=o(171),i=function(t,e){this.name="PointError",this.points=e=e||[],this.message=t||"Invalid Points!";for(var o=0;o<e.length;o++)this.message+=" "+n.toString(e[o])};i.prototype=new Error,i.prototype.constructor=i,t.exports=i},function(t,e){"use strict";function o(t){return"("+t.x+";"+t.y+")"}function n(t){var e=t.toString();return"[object Object]"===e?o(t):e}function i(t,e){return t.y===e.y?t.x-e.x:t.y-e.y}function r(t,e){return t.x===e.x&&t.y===e.y}t.exports={toString:n,toStringBase:o,compare:i,equals:r}},function(t,e,o){"use strict";var n=o(171),i=function(t,e){this.x=+t||0,this.y=+e||0,this._p2t_edge_list=null};i.prototype.toString=function(){return n.toStringBase(this)},i.prototype.toJSON=function(){return{x:this.x,y:this.y}},i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.set_zero=function(){return this.x=0,this.y=0,this},i.prototype.set=function(t,e){return this.x=+t||0,this.y=+e||0,this},i.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},i.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},i.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},i.prototype.mul=function(t){return this.x*=t,this.y*=t,this},i.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},i.prototype.normalize=function(){var t=this.length();return this.x/=t,this.y/=t,t},i.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},i.negate=function(t){return new i((-t.x),(-t.y))},i.add=function(t,e){return new i(t.x+e.x,t.y+e.y)},i.sub=function(t,e){return new i(t.x-e.x,t.y-e.y)},i.mul=function(t,e){return new i(t*e.x,t*e.y)},i.cross=function(t,e){return"number"==typeof t?"number"==typeof e?t*e:new i(-t*e.y,t*e.x):"number"==typeof e?new i(e*t.y,-e*t.x):t.x*e.y-t.y*e.x},i.toString=n.toString,i.compare=n.compare,i.cmp=n.compare,i.equals=n.equals,i.dot=function(t,e){return t.x*e.x+t.y*e.y},t.exports=i},function(t,e,o){"use strict";var n=o(171),i=function(t,e,o){this.points_=[t,e,o],this.neighbors_=[null,null,null],this.interior_=!1,this.constrained_edge=[!1,!1,!1],this.delaunay_edge=[!1,!1,!1]},r=n.toString;i.prototype.toString=function(){return"["+r(this.points_[0])+r(this.points_[1])+r(this.points_[2])+"]"},i.prototype.getPoint=function(t){return this.points_[t]},i.prototype.GetPoint=i.prototype.getPoint,i.prototype.getPoints=function(){return this.points_},i.prototype.getNeighbor=function(t){return this.neighbors_[t]},i.prototype.containsPoint=function(t){var e=this.points_;return t===e[0]||t===e[1]||t===e[2]},i.prototype.containsEdge=function(t){return this.containsPoint(t.p)&&this.containsPoint(t.q)},i.prototype.containsPoints=function(t,e){return this.containsPoint(t)&&this.containsPoint(e)},i.prototype.isInterior=function(){return this.interior_},i.prototype.setInterior=function(t){return this.interior_=t,this},i.prototype.markNeighborPointers=function(t,e,o){var n=this.points_;if(t===n[2]&&e===n[1]||t===n[1]&&e===n[2])this.neighbors_[0]=o;else if(t===n[0]&&e===n[2]||t===n[2]&&e===n[0])this.neighbors_[1]=o;else{if(!(t===n[0]&&e===n[1]||t===n[1]&&e===n[0]))throw new Error("poly2tri Invalid Triangle.markNeighborPointers() call");this.neighbors_[2]=o}},i.prototype.markNeighbor=function(t){var e=this.points_;t.containsPoints(e[1],e[2])?(this.neighbors_[0]=t,t.markNeighborPointers(e[1],e[2],this)):t.containsPoints(e[0],e[2])?(this.neighbors_[1]=t,t.markNeighborPointers(e[0],e[2],this)):t.containsPoints(e[0],e[1])&&(this.neighbors_[2]=t,t.markNeighborPointers(e[0],e[1],this))},i.prototype.clearNeighbors=function(){this.neighbors_[0]=null,this.neighbors_[1]=null,this.neighbors_[2]=null},i.prototype.clearDelaunayEdges=function(){this.delaunay_edge[0]=!1,this.delaunay_edge[1]=!1,this.delaunay_edge[2]=!1},i.prototype.pointCW=function(t){var e=this.points_;return t===e[0]?e[2]:t===e[1]?e[0]:t===e[2]?e[1]:null},i.prototype.pointCCW=function(t){var e=this.points_;return t===e[0]?e[1]:t===e[1]?e[2]:t===e[2]?e[0]:null},i.prototype.neighborCW=function(t){return t===this.points_[0]?this.neighbors_[1]:t===this.points_[1]?this.neighbors_[2]:this.neighbors_[0]},i.prototype.neighborCCW=function(t){return t===this.points_[0]?this.neighbors_[2]:t===this.points_[1]?this.neighbors_[0]:this.neighbors_[1]},i.prototype.getConstrainedEdgeCW=function(t){return t===this.points_[0]?this.constrained_edge[1]:t===this.points_[1]?this.constrained_edge[2]:this.constrained_edge[0]},i.prototype.getConstrainedEdgeCCW=function(t){return t===this.points_[0]?this.constrained_edge[2]:t===this.points_[1]?this.constrained_edge[0]:this.constrained_edge[1]},i.prototype.getConstrainedEdgeAcross=function(t){return t===this.points_[0]?this.constrained_edge[0]:t===this.points_[1]?this.constrained_edge[1]:this.constrained_edge[2]},i.prototype.setConstrainedEdgeCW=function(t,e){t===this.points_[0]?this.constrained_edge[1]=e:t===this.points_[1]?this.constrained_edge[2]=e:this.constrained_edge[0]=e},i.prototype.setConstrainedEdgeCCW=function(t,e){t===this.points_[0]?this.constrained_edge[2]=e:t===this.points_[1]?this.constrained_edge[0]=e:this.constrained_edge[1]=e},i.prototype.getDelaunayEdgeCW=function(t){return t===this.points_[0]?this.delaunay_edge[1]:t===this.points_[1]?this.delaunay_edge[2]:this.delaunay_edge[0]},i.prototype.getDelaunayEdgeCCW=function(t){return t===this.points_[0]?this.delaunay_edge[2]:t===this.points_[1]?this.delaunay_edge[0]:this.delaunay_edge[1]},i.prototype.setDelaunayEdgeCW=function(t,e){t===this.points_[0]?this.delaunay_edge[1]=e:t===this.points_[1]?this.delaunay_edge[2]=e:this.delaunay_edge[0]=e},i.prototype.setDelaunayEdgeCCW=function(t,e){t===this.points_[0]?this.delaunay_edge[2]=e:t===this.points_[1]?this.delaunay_edge[0]=e:this.delaunay_edge[1]=e},i.prototype.neighborAcross=function(t){return t===this.points_[0]?this.neighbors_[0]:t===this.points_[1]?this.neighbors_[1]:this.neighbors_[2]},i.prototype.oppositePoint=function(t,e){var o=t.pointCW(e);return this.pointCW(o)},i.prototype.legalize=function(t,e){var o=this.points_;if(t===o[0])o[1]=o[0],o[0]=o[2],o[2]=e;else if(t===o[1])o[2]=o[1],o[1]=o[0],o[0]=e;else{if(t!==o[2])throw new Error("poly2tri Invalid Triangle.legalize() call");o[0]=o[2],o[2]=o[1],o[1]=e}},i.prototype.index=function(t){var e=this.points_;if(t===e[0])return 0;if(t===e[1])return 1;if(t===e[2])return 2;throw new Error("poly2tri Invalid Triangle.index() call")},i.prototype.edgeIndex=function(t,e){var o=this.points_;if(t===o[0]){if(e===o[1])return 2;if(e===o[2])return 1}else if(t===o[1]){if(e===o[2])return 0;if(e===o[0])return 2}else if(t===o[2]){if(e===o[0])return 1;if(e===o[1])return 0}return-1},i.prototype.markConstrainedEdgeByIndex=function(t){this.constrained_edge[t]=!0},i.prototype.markConstrainedEdgeByEdge=function(t){this.markConstrainedEdgeByPoints(t.p,t.q)},i.prototype.markConstrainedEdgeByPoints=function(t,e){var o=this.points_;e===o[0]&&t===o[1]||e===o[1]&&t===o[0]?this.constrained_edge[2]=!0:e===o[0]&&t===o[2]||e===o[2]&&t===o[0]?this.constrained_edge[1]=!0:(e===o[1]&&t===o[2]||e===o[2]&&t===o[1])&&(this.constrained_edge[0]=!0)},t.exports=i},function(t,e,o){"use strict";var n=o(170),i=o(172),r=o(173),s=o(175),a=o(177),l=a.Node,u=.3,p=function(t,e){if(this.p=t,this.q=e,t.y>e.y)this.q=t,this.p=e;else if(t.y===e.y)if(t.x>e.x)this.q=t,this.p=e;else if(t.x===e.x)throw new n("poly2tri Invalid Edge constructor: repeated points!",[t]);this.q._p2t_edge_list||(this.q._p2t_edge_list=[]),this.q._p2t_edge_list.push(this)},c=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};c.prototype.clear=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};var h=function(){this.constrained_edge=null,this.right=!1},m=function(t,e){e=e||{},this.triangles_=[],this.map_=[],this.points_=e.cloneArrays?t.slice(0):t,this.edge_list=[],this.pmin_=this.pmax_=null,this.front_=null,this.head_=null,this.tail_=null,this.af_head_=null,this.af_middle_=null,this.af_tail_=null,this.basin=new c,this.edge_event=new h,this.initEdges(this.points_)};m.prototype.addHole=function(t){this.initEdges(t);var e,o=t.length;for(e=0;e<o;e++)this.points_.push(t[e]);return this},m.prototype.AddHole=m.prototype.addHole,m.prototype.addHoles=function(t){var e,o=t.length;for(e=0;e<o;e++)this.initEdges(t[e]);return this.points_=this.points_.concat.apply(this.points_,t),this},m.prototype.addPoint=function(t){return this.points_.push(t),this},m.prototype.AddPoint=m.prototype.addPoint,m.prototype.addPoints=function(t){return this.points_=this.points_.concat(t),this},m.prototype.triangulate=function(){return s.triangulate(this),this},m.prototype.getBoundingBox=function(){return{min:this.pmin_,max:this.pmax_}},m.prototype.getTriangles=function(){return this.triangles_},m.prototype.GetTriangles=m.prototype.getTriangles,m.prototype.front=function(){return this.front_},m.prototype.pointCount=function(){return this.points_.length},m.prototype.head=function(){return this.head_},m.prototype.setHead=function(t){this.head_=t},m.prototype.tail=function(){return this.tail_},m.prototype.setTail=function(t){this.tail_=t},m.prototype.getMap=function(){return this.map_},m.prototype.initTriangulation=function(){var t,e=this.points_[0].x,o=this.points_[0].x,n=this.points_[0].y,r=this.points_[0].y,s=this.points_.length;for(t=1;t<s;t++){var a=this.points_[t];a.x>e&&(e=a.x),a.x<o&&(o=a.x),a.y>n&&(n=a.y),a.y<r&&(r=a.y)}this.pmin_=new i(o,r),this.pmax_=new i(e,n);var l=u*(e-o),p=u*(n-r);this.head_=new i(e+l,r-p),this.tail_=new i(o-l,r-p),this.points_.sort(i.compare)},m.prototype.initEdges=function(t){var e,o=t.length;for(e=0;e<o;++e)this.edge_list.push(new p(t[e],t[(e+1)%o]))},m.prototype.getPoint=function(t){return this.points_[t]},m.prototype.addToMap=function(t){this.map_.push(t)},m.prototype.locateNode=function(t){return this.front_.locateNode(t.x)},m.prototype.createAdvancingFront=function(){var t,e,o,n=new r(this.points_[0],this.tail_,this.head_);this.map_.push(n),t=new l(n.getPoint(1),n),e=new l(n.getPoint(0),n),o=new l(n.getPoint(2)),this.front_=new a(t,o),t.next=e,e.next=o,e.prev=t,o.prev=e},m.prototype.removeNode=function(t){},m.prototype.mapTriangleToNodes=function(t){for(var e=0;e<3;++e)if(!t.getNeighbor(e)){var o=this.front_.locatePoint(t.pointCW(t.getPoint(e)));o&&(o.triangle=t)}},m.prototype.removeFromMap=function(t){var e,o=this.map_,n=o.length;for(e=0;e<n;e++)if(o[e]===t){o.splice(e,1);break}},m.prototype.meshClean=function(t){for(var e,o,n=[t];e=n.pop();)if(!e.isInterior())for(e.setInterior(!0),this.triangles_.push(e),o=0;o<3;o++)e.constrained_edge[o]||n.push(e.getNeighbor(o))},t.exports=m},function(t,e,o){"use strict";function n(t){t.initTriangulation(),t.createAdvancingFront(),i(t),r(t)}function i(t){var e,o=t.pointCount();for(e=1;e<o;++e)for(var n=t.getPoint(e),i=s(t,n),r=n._p2t_edge_list,l=0;r&&l<r.length;++l)a(t,r[l],i)}function r(t){for(var e=t.front().head().next.triangle,o=t.front().head().next.point;!e.getConstrainedEdgeCW(o);)e=e.neighborCCW(o);t.meshClean(e)}function s(t,e){var o=t.locateNode(e),n=p(t,e,o);return e.x<=o.point.x+k&&c(t,o),h(t,n),n}function a(t,e,o){t.edge_event.constrained_edge=e,t.edge_event.right=e.p.x>e.q.x,u(o.triangle,e.p,e.q)||(g(t,e,o),l(t,e.p,e.q,o.triangle,e.q))}function l(t,e,o,n,i){if(!u(n,e,o)){var r=n.pointCCW(i),s=G(o,r,e);if(s===F.COLLINEAR)throw new B("poly2tri EdgeEvent: Collinear not supported!",[o,r,e]);var a=n.pointCW(i),p=G(o,a,e);if(p===F.COLLINEAR)throw new B("poly2tri EdgeEvent: Collinear not supported!",[o,a,e]);s===p?(n=s===F.CW?n.neighborCCW(i):n.neighborCW(i),l(t,e,o,n,i)):A(t,e,o,n,i)}}function u(t,e,o){var n=t.edgeIndex(e,o);if(n!==-1){t.markConstrainedEdgeByIndex(n);var i=t.getNeighbor(n);return i&&i.markConstrainedEdgeByPoints(e,o),!0}return!1}function p(t,e,o){var n=new O(e,o.point,o.next.point);n.markNeighbor(o.triangle),t.addToMap(n);var i=new L(e);return i.next=o.next,i.prev=o,o.next.prev=i,o.next=i,d(t,n)||t.mapTriangleToNodes(n),i}function c(t,e){var o=new O(e.prev.point,e.point,e.next.point);o.markNeighbor(e.prev.triangle),o.markNeighbor(e.triangle),t.addToMap(o),e.prev.next=e.next,e.next.prev=e.prev,d(t,o)||t.mapTriangleToNodes(o)}function h(t,e){for(var o=e.next;o.next&&!J(o.point,o.next.point,o.prev.point);)c(t,o),o=o.next;for(o=e.prev;o.prev&&!J(o.point,o.next.point,o.prev.point);)c(t,o),o=o.prev;e.next&&e.next.next&&m(e)&&f(t,e)}function m(t){var e=t.point.x-t.next.next.point.x,o=t.point.y-t.next.next.point.y;return T(o>=0,"unordered y"),e>=0||Math.abs(e)<o}function d(t,e){for(var o=0;o<3;++o)if(!e.delaunay_edge[o]){var n=e.getNeighbor(o);if(n){var i=e.getPoint(o),r=n.oppositePoint(e,i),s=n.index(r);if(n.constrained_edge[s]||n.delaunay_edge[s]){e.constrained_edge[o]=n.constrained_edge[s];continue}var a=_(i,e.pointCCW(i),e.pointCW(i),r);if(a){e.delaunay_edge[o]=!0,n.delaunay_edge[s]=!0,y(e,i,n,r);var l=!d(t,e);return l&&t.mapTriangleToNodes(e),l=!d(t,n),l&&t.mapTriangleToNodes(n),e.delaunay_edge[o]=!1,n.delaunay_edge[s]=!1,!0}}}return!1}function _(t,e,o,n){var i=t.x-n.x,r=t.y-n.y,s=e.x-n.x,a=e.y-n.y,l=i*a,u=s*r,p=l-u;if(p<=0)return!1;var c=o.x-n.x,h=o.y-n.y,m=c*r,d=i*h,_=m-d;if(_<=0)return!1;var y=s*h,f=c*a,v=i*i+r*r,x=s*s+a*a,g=c*c+h*h,b=v*(y-f)+x*_+g*p;return b>0}function y(t,e,o,n){var i,r,s,a;i=t.neighborCCW(e),r=t.neighborCW(e),s=o.neighborCCW(n),a=o.neighborCW(n);var l,u,p,c;l=t.getConstrainedEdgeCCW(e),u=t.getConstrainedEdgeCW(e),p=o.getConstrainedEdgeCCW(n),c=o.getConstrainedEdgeCW(n);var h,m,d,_;h=t.getDelaunayEdgeCCW(e),m=t.getDelaunayEdgeCW(e),d=o.getDelaunayEdgeCCW(n),_=o.getDelaunayEdgeCW(n),t.legalize(e,n),o.legalize(n,e),o.setDelaunayEdgeCCW(e,h),t.setDelaunayEdgeCW(e,m),t.setDelaunayEdgeCCW(n,d),o.setDelaunayEdgeCW(n,_),o.setConstrainedEdgeCCW(e,l),t.setConstrainedEdgeCW(e,u),t.setConstrainedEdgeCCW(n,p),o.setConstrainedEdgeCW(n,c),t.clearNeighbors(),o.clearNeighbors(),i&&o.markNeighbor(i),r&&t.markNeighbor(r),s&&t.markNeighbor(s),a&&o.markNeighbor(a),t.markNeighbor(o)}function f(t,e){for(G(e.point,e.next.point,e.next.next.point)===F.CCW?t.basin.left_node=e.next.next:t.basin.left_node=e.next,t.basin.bottom_node=t.basin.left_node;t.basin.bottom_node.next&&t.basin.bottom_node.point.y>=t.basin.bottom_node.next.point.y;)t.basin.bottom_node=t.basin.bottom_node.next;if(t.basin.bottom_node!==t.basin.left_node){for(t.basin.right_node=t.basin.bottom_node;t.basin.right_node.next&&t.basin.right_node.point.y<t.basin.right_node.next.point.y;)t.basin.right_node=t.basin.right_node.next;t.basin.right_node!==t.basin.bottom_node&&(t.basin.width=t.basin.right_node.point.x-t.basin.left_node.point.x,t.basin.left_highest=t.basin.left_node.point.y>t.basin.right_node.point.y,v(t,t.basin.bottom_node))}}function v(t,e){if(!x(t,e)){c(t,e);var o;if(e.prev!==t.basin.left_node||e.next!==t.basin.right_node){if(e.prev===t.basin.left_node){if(o=G(e.point,e.next.point,e.next.next.point),o===F.CW)return;e=e.next}else if(e.next===t.basin.right_node){if(o=G(e.point,e.prev.point,e.prev.prev.point),o===F.CCW)return;e=e.prev}else e=e.prev.point.y<e.next.point.y?e.prev:e.next;v(t,e)}}}function x(t,e){var o;return o=t.basin.left_highest?t.basin.left_node.point.y-e.point.y:t.basin.right_node.point.y-e.point.y,t.basin.width>o}function g(t,e,o){t.edge_event.right?b(t,e,o):D(t,e,o)}function b(t,e,o){for(;o.next.point.x<e.p.x;)G(e.q,o.next.point,e.p)===F.CCW?C(t,e,o):o=o.next}function C(t,e,o){o.point.x<e.p.x&&(G(o.point,o.next.point,o.next.next.point)===F.CCW?E(t,e,o):(P(t,e,o),
C(t,e,o)))}function E(t,e,o){c(t,o.next),o.next.point!==e.p&&G(e.q,o.next.point,e.p)===F.CCW&&G(o.point,o.next.point,o.next.next.point)===F.CCW&&E(t,e,o)}function P(t,e,o){G(o.next.point,o.next.next.point,o.next.next.next.point)===F.CCW?E(t,e,o.next):G(e.q,o.next.next.point,e.p)===F.CCW&&P(t,e,o.next)}function D(t,e,o){for(;o.prev.point.x>e.p.x;)G(e.q,o.prev.point,e.p)===F.CW?S(t,e,o):o=o.prev}function S(t,e,o){o.point.x>e.p.x&&(G(o.point,o.prev.point,o.prev.prev.point)===F.CW?w(t,e,o):(N(t,e,o),S(t,e,o)))}function N(t,e,o){G(o.prev.point,o.prev.prev.point,o.prev.prev.prev.point)===F.CW?w(t,e,o.prev):G(e.q,o.prev.prev.point,e.p)===F.CW&&N(t,e,o.prev)}function w(t,e,o){c(t,o.prev),o.prev.point!==e.p&&G(e.q,o.prev.point,e.p)===F.CW&&G(o.point,o.prev.point,o.prev.prev.point)===F.CW&&w(t,e,o)}function A(t,e,o,n,i){var r=n.neighborAcross(i);T(r,"FLIP failed due to missing triangle!");var s=r.oppositePoint(n,i);if(n.getConstrainedEdgeAcross(i)){var a=n.index(i);throw new B("poly2tri Intersecting Constraints",[i,s,n.getPoint((a+1)%3),n.getPoint((a+2)%3)])}if(X(i,n.pointCCW(i),n.pointCW(i),s))if(y(n,i,r,s),t.mapTriangleToNodes(n),t.mapTriangleToNodes(r),i===o&&s===e)o===t.edge_event.constrained_edge.q&&e===t.edge_event.constrained_edge.p&&(n.markConstrainedEdgeByPoints(e,o),r.markConstrainedEdgeByPoints(e,o),d(t,n),d(t,r));else{var u=G(o,s,e);n=I(t,u,n,r,i,s),A(t,e,o,n,i)}else{var p=M(e,o,r,s);V(t,e,o,n,r,p),l(t,e,o,n,i)}}function I(t,e,o,n,i,r){var s;return e===F.CCW?(s=n.edgeIndex(i,r),n.delaunay_edge[s]=!0,d(t,n),n.clearDelaunayEdges(),o):(s=o.edgeIndex(i,r),o.delaunay_edge[s]=!0,d(t,o),o.clearDelaunayEdges(),n)}function M(t,e,o,n){var i=G(e,n,t);if(i===F.CW)return o.pointCCW(n);if(i===F.CCW)return o.pointCW(n);throw new B("poly2tri [Unsupported] nextFlipPoint: opposing point on constrained edge!",[e,n,t])}function V(t,e,o,n,i,r){var s=i.neighborAcross(r);T(s,"FLIP failed due to missing triangle");var a=s.oppositePoint(i,r);if(X(o,n.pointCCW(o),n.pointCW(o),a))A(t,o,a,s,a);else{var l=M(e,o,s,a);V(t,e,o,n,s,l)}}var T=o(176),B=o(170),O=o(173),L=o(177).Node,R=o(178),k=R.EPSILON,F=R.Orientation,G=R.orient2d,X=R.inScanArea,J=R.isAngleObtuse;e.triangulate=n},function(t,e){"use strict";function o(t,e){if(!t)throw new Error(e||"Assert Failed")}t.exports=o},function(t,e){"use strict";var o=function(t,e){this.point=t,this.triangle=e||null,this.next=null,this.prev=null,this.value=t.x},n=function(t,e){this.head_=t,this.tail_=e,this.search_node_=t};n.prototype.head=function(){return this.head_},n.prototype.setHead=function(t){this.head_=t},n.prototype.tail=function(){return this.tail_},n.prototype.setTail=function(t){this.tail_=t},n.prototype.search=function(){return this.search_node_},n.prototype.setSearch=function(t){this.search_node_=t},n.prototype.findSearchNode=function(){return this.search_node_},n.prototype.locateNode=function(t){var e=this.search_node_;if(t<e.value){for(;e=e.prev;)if(t>=e.value)return this.search_node_=e,e}else for(;e=e.next;)if(t<e.value)return this.search_node_=e.prev,e.prev;return null},n.prototype.locatePoint=function(t){var e=t.x,o=this.findSearchNode(e),n=o.point.x;if(e===n){if(t!==o.point)if(t===o.prev.point)o=o.prev;else{if(t!==o.next.point)throw new Error("poly2tri Invalid AdvancingFront.locatePoint() call");o=o.next}}else if(e<n)for(;(o=o.prev)&&t!==o.point;);else for(;(o=o.next)&&t!==o.point;);return o&&(this.search_node_=o),o},t.exports=n,t.exports.Node=o},function(t,e){"use strict";function o(t,e,o){var n=(t.x-o.x)*(e.y-o.y),i=(t.y-o.y)*(e.x-o.x),a=n-i;return a>-1e-12&&a<r?s.COLLINEAR:a>0?s.CCW:s.CW}function n(t,e,o,n){var i=(t.x-e.x)*(n.y-e.y)-(n.x-e.x)*(t.y-e.y);if(i>=-1e-12)return!1;var s=(t.x-o.x)*(n.y-o.y)-(n.x-o.x)*(t.y-o.y);return!(s<=r)}function i(t,e,o){var n=e.x-t.x,i=e.y-t.y,r=o.x-t.x,s=o.y-t.y;return n*r+i*s<0}var r=1e-12;e.EPSILON=r;var s={CW:1,CCW:-1,COLLINEAR:0};e.Orientation=s,e.orient2d=o,e.inScanArea=n,e.isAngleObtuse=i},,,,,function(t,e,o){"use strict";window.Box2D=o(184),window.ClipperLib=o(185)},function(t,e){"use strict";var o={};t.exports=o,function(t,e){function o(){}t.inherit=function(t,e){var n=t;o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=n},t.generateCallback=function(t,e){return function(){e.apply(t,arguments)}},t.NVector=function(t){t===e&&(t=0);for(var o=new Array(t||0),n=0;n<t;++n)o[n]=0;return o},t.is=function(t,o){return null!==t&&(o instanceof Function&&t instanceof o||!(t.constructor.__implements==e||!t.constructor.__implements[o]))},t.parseUInt=function(t){return Math.abs(parseInt(t))}}(o);var n=Array,i=o.NVector;"undefined"==typeof o&&(o={}),"undefined"==typeof o.Collision&&(o.Collision={}),"undefined"==typeof o.Collision.Shapes&&(o.Collision.Shapes={}),"undefined"==typeof o.Common&&(o.Common={}),"undefined"==typeof o.Common.Math&&(o.Common.Math={}),"undefined"==typeof o.Dynamics&&(o.Dynamics={}),"undefined"==typeof o.Dynamics.Contacts&&(o.Dynamics.Contacts={}),"undefined"==typeof o.Dynamics.Controllers&&(o.Dynamics.Controllers={}),"undefined"==typeof o.Dynamics.Joints&&(o.Dynamics.Joints={}),function(){function t(){t.b2AABB.apply(this,arguments)}function e(){e.b2Bound.apply(this,arguments)}function n(){n.b2BoundValues.apply(this,arguments),this.constructor===n&&this.b2BoundValues.apply(this,arguments)}function i(){i.b2Collision.apply(this,arguments)}function r(){r.b2ContactID.apply(this,arguments),this.constructor===r&&this.b2ContactID.apply(this,arguments)}function s(){s.b2ContactPoint.apply(this,arguments)}function a(){a.b2Distance.apply(this,arguments)}function l(){l.b2DistanceInput.apply(this,arguments)}function u(){u.b2DistanceOutput.apply(this,arguments)}function p(){p.b2DistanceProxy.apply(this,arguments)}function c(){c.b2DynamicTree.apply(this,arguments),this.constructor===c&&this.b2DynamicTree.apply(this,arguments)}function h(){h.b2DynamicTreeBroadPhase.apply(this,arguments)}function m(){m.b2DynamicTreeNode.apply(this,arguments)}function d(){d.b2DynamicTreePair.apply(this,arguments)}function _(){_.b2Manifold.apply(this,arguments),this.constructor===_&&this.b2Manifold.apply(this,arguments)}function y(){y.b2ManifoldPoint.apply(this,arguments),this.constructor===y&&this.b2ManifoldPoint.apply(this,arguments)}function f(){f.b2Point.apply(this,arguments)}function v(){v.b2RayCastInput.apply(this,arguments),this.constructor===v&&this.b2RayCastInput.apply(this,arguments)}function x(){x.b2RayCastOutput.apply(this,arguments)}function g(){g.b2Segment.apply(this,arguments)}function b(){b.b2SeparationFunction.apply(this,arguments)}function C(){C.b2Simplex.apply(this,arguments),this.constructor===C&&this.b2Simplex.apply(this,arguments)}function E(){E.b2SimplexCache.apply(this,arguments)}function P(){P.b2SimplexVertex.apply(this,arguments)}function D(){D.b2TimeOfImpact.apply(this,arguments)}function S(){S.b2TOIInput.apply(this,arguments)}function N(){N.b2WorldManifold.apply(this,arguments),this.constructor===N&&this.b2WorldManifold.apply(this,arguments)}function w(){w.ClipVertex.apply(this,arguments)}function A(){A.Features.apply(this,arguments)}function I(){I.b2CircleShape.apply(this,arguments),this.constructor===I&&this.b2CircleShape.apply(this,arguments)}function M(){M.b2EdgeChainDef.apply(this,arguments),this.constructor===M&&this.b2EdgeChainDef.apply(this,arguments)}function V(){V.b2EdgeShape.apply(this,arguments),this.constructor===V&&this.b2EdgeShape.apply(this,arguments)}function T(){T.b2MassData.apply(this,arguments)}function B(){B.b2PolygonShape.apply(this,arguments),this.constructor===B&&this.b2PolygonShape.apply(this,arguments)}function O(){O.b2Shape.apply(this,arguments),this.constructor===O&&this.b2Shape.apply(this,arguments)}function L(){L.b2Color.apply(this,arguments),this.constructor===L&&this.b2Color.apply(this,arguments)}function R(){R.b2Settings.apply(this,arguments)}function k(){k.b2Mat22.apply(this,arguments),this.constructor===k&&this.b2Mat22.apply(this,arguments)}function F(){F.b2Mat33.apply(this,arguments),this.constructor===F&&this.b2Mat33.apply(this,arguments)}function G(){G.b2Math.apply(this,arguments)}function X(){X.b2Sweep.apply(this,arguments)}function J(){J.b2Transform.apply(this,arguments),this.constructor===J&&this.b2Transform.apply(this,arguments)}function Y(){Y.b2Vec2.apply(this,arguments),this.constructor===Y&&this.b2Vec2.apply(this,arguments)}function W(){W.b2Vec3.apply(this,arguments),this.constructor===W&&this.b2Vec3.apply(this,arguments)}function U(){U.b2Body.apply(this,arguments),this.constructor===U&&this.b2Body.apply(this,arguments)}function j(){j.b2BodyDef.apply(this,arguments),this.constructor===j&&this.b2BodyDef.apply(this,arguments)}function q(){q.b2ContactFilter.apply(this,arguments)}function z(){z.b2ContactImpulse.apply(this,arguments)}function K(){K.b2ContactListener.apply(this,arguments)}function H(){H.b2ContactManager.apply(this,arguments),this.constructor===H&&this.b2ContactManager.apply(this,arguments)}function Z(){Z.b2DebugDraw.apply(this,arguments),this.constructor===Z&&this.b2DebugDraw.apply(this,arguments)}function Q(){Q.b2DestructionListener.apply(this,arguments)}function $(){$.b2FilterData.apply(this,arguments)}function tt(){tt.b2Fixture.apply(this,arguments),this.constructor===tt&&this.b2Fixture.apply(this,arguments)}function et(){et.b2FixtureDef.apply(this,arguments),this.constructor===et&&this.b2FixtureDef.apply(this,arguments)}function ot(){ot.b2Island.apply(this,arguments),this.constructor===ot&&this.b2Island.apply(this,arguments)}function nt(){nt.b2TimeStep.apply(this,arguments)}function it(){it.b2World.apply(this,arguments),this.constructor===it&&this.b2World.apply(this,arguments)}function rt(){rt.b2CircleContact.apply(this,arguments)}function st(){st.b2Contact.apply(this,arguments),this.constructor===st&&this.b2Contact.apply(this,arguments)}function at(){at.b2ContactConstraint.apply(this,arguments),this.constructor===at&&this.b2ContactConstraint.apply(this,arguments)}function lt(){lt.b2ContactConstraintPoint.apply(this,arguments)}function ut(){ut.b2ContactEdge.apply(this,arguments)}function pt(){pt.b2ContactFactory.apply(this,arguments),this.constructor===pt&&this.b2ContactFactory.apply(this,arguments)}function ct(){ct.b2ContactRegister.apply(this,arguments)}function ht(){ht.b2ContactResult.apply(this,arguments)}function mt(){mt.b2ContactSolver.apply(this,arguments),this.constructor===mt&&this.b2ContactSolver.apply(this,arguments)}function dt(){dt.b2EdgeAndCircleContact.apply(this,arguments)}function _t(){_t.b2NullContact.apply(this,arguments),this.constructor===_t&&this.b2NullContact.apply(this,arguments)}function yt(){yt.b2PolyAndCircleContact.apply(this,arguments)}function ft(){ft.b2PolyAndEdgeContact.apply(this,arguments)}function vt(){vt.b2PolygonContact.apply(this,arguments)}function xt(){xt.b2PositionSolverManifold.apply(this,arguments),this.constructor===xt&&this.b2PositionSolverManifold.apply(this,arguments)}function gt(){gt.b2BuoyancyController.apply(this,arguments)}function bt(){bt.b2ConstantAccelController.apply(this,arguments)}function Ct(){Ct.b2ConstantForceController.apply(this,arguments)}function Et(){Et.b2Controller.apply(this,arguments)}function Pt(){Pt.b2ControllerEdge.apply(this,arguments)}function Dt(){Dt.b2GravityController.apply(this,arguments)}function St(){St.b2TensorDampingController.apply(this,arguments)}function Nt(){Nt.b2DistanceJoint.apply(this,arguments),this.constructor===Nt&&this.b2DistanceJoint.apply(this,arguments)}function wt(){wt.b2DistanceJointDef.apply(this,arguments),this.constructor===wt&&this.b2DistanceJointDef.apply(this,arguments)}function At(){At.b2FrictionJoint.apply(this,arguments),this.constructor===At&&this.b2FrictionJoint.apply(this,arguments)}function It(){It.b2FrictionJointDef.apply(this,arguments),this.constructor===It&&this.b2FrictionJointDef.apply(this,arguments)}function Mt(){Mt.b2GearJoint.apply(this,arguments),this.constructor===Mt&&this.b2GearJoint.apply(this,arguments)}function Vt(){Vt.b2GearJointDef.apply(this,arguments),this.constructor===Vt&&this.b2GearJointDef.apply(this,arguments)}function Tt(){Tt.b2Jacobian.apply(this,arguments)}function Bt(){Bt.b2Joint.apply(this,arguments),this.constructor===Bt&&this.b2Joint.apply(this,arguments)}function Ot(){Ot.b2JointDef.apply(this,arguments),this.constructor===Ot&&this.b2JointDef.apply(this,arguments)}function Lt(){Lt.b2JointEdge.apply(this,arguments)}function Rt(){Rt.b2LineJoint.apply(this,arguments),this.constructor===Rt&&this.b2LineJoint.apply(this,arguments)}function kt(){kt.b2LineJointDef.apply(this,arguments),this.constructor===kt&&this.b2LineJointDef.apply(this,arguments)}function Ft(){Ft.b2MouseJoint.apply(this,arguments),this.constructor===Ft&&this.b2MouseJoint.apply(this,arguments)}function Gt(){Gt.b2MouseJointDef.apply(this,arguments),this.constructor===Gt&&this.b2MouseJointDef.apply(this,arguments)}function Xt(){Xt.b2PrismaticJoint.apply(this,arguments),this.constructor===Xt&&this.b2PrismaticJoint.apply(this,arguments)}function Jt(){Jt.b2PrismaticJointDef.apply(this,arguments),this.constructor===Jt&&this.b2PrismaticJointDef.apply(this,arguments)}function Yt(){Yt.b2PulleyJoint.apply(this,arguments),this.constructor===Yt&&this.b2PulleyJoint.apply(this,arguments)}function Wt(){Wt.b2PulleyJointDef.apply(this,arguments),this.constructor===Wt&&this.b2PulleyJointDef.apply(this,arguments)}function Ut(){Ut.b2RevoluteJoint.apply(this,arguments),this.constructor===Ut&&this.b2RevoluteJoint.apply(this,arguments)}function jt(){jt.b2RevoluteJointDef.apply(this,arguments),this.constructor===jt&&this.b2RevoluteJointDef.apply(this,arguments)}function qt(){qt.b2WeldJoint.apply(this,arguments),this.constructor===qt&&this.b2WeldJoint.apply(this,arguments)}function zt(){zt.b2WeldJointDef.apply(this,arguments),this.constructor===zt&&this.b2WeldJointDef.apply(this,arguments)}o.Collision.IBroadPhase="Box2D.Collision.IBroadPhase",o.Collision.b2AABB=t,o.Collision.b2Bound=e,o.Collision.b2BoundValues=n,o.Collision.b2Collision=i,o.Collision.b2ContactID=r,o.Collision.b2ContactPoint=s,o.Collision.b2Distance=a,o.Collision.b2DistanceInput=l,o.Collision.b2DistanceOutput=u,o.Collision.b2DistanceProxy=p,o.Collision.b2DynamicTree=c,o.Collision.b2DynamicTreeBroadPhase=h,o.Collision.b2DynamicTreeNode=m,o.Collision.b2DynamicTreePair=d,o.Collision.b2Manifold=_,o.Collision.b2ManifoldPoint=y,o.Collision.b2Point=f,o.Collision.b2RayCastInput=v,o.Collision.b2RayCastOutput=x,o.Collision.b2Segment=g,o.Collision.b2SeparationFunction=b,o.Collision.b2Simplex=C,o.Collision.b2SimplexCache=E,o.Collision.b2SimplexVertex=P,o.Collision.b2TimeOfImpact=D,o.Collision.b2TOIInput=S,o.Collision.b2WorldManifold=N,o.Collision.ClipVertex=w,o.Collision.Features=A,o.Collision.Shapes.b2CircleShape=I,o.Collision.Shapes.b2EdgeChainDef=M,o.Collision.Shapes.b2EdgeShape=V,o.Collision.Shapes.b2MassData=T,o.Collision.Shapes.b2PolygonShape=B,o.Collision.Shapes.b2Shape=O,o.Common.b2internal="Box2D.Common.b2internal",o.Common.b2Color=L,o.Common.b2Settings=R,o.Common.Math.b2Mat22=k,o.Common.Math.b2Mat33=F,o.Common.Math.b2Math=G,o.Common.Math.b2Sweep=X,o.Common.Math.b2Transform=J,o.Common.Math.b2Vec2=Y,o.Common.Math.b2Vec3=W,o.Dynamics.b2Body=U,o.Dynamics.b2BodyDef=j,o.Dynamics.b2ContactFilter=q,o.Dynamics.b2ContactImpulse=z,o.Dynamics.b2ContactListener=K,o.Dynamics.b2ContactManager=H,o.Dynamics.b2DebugDraw=Z,o.Dynamics.b2DestructionListener=Q,o.Dynamics.b2FilterData=$,o.Dynamics.b2Fixture=tt,o.Dynamics.b2FixtureDef=et,o.Dynamics.b2Island=ot,o.Dynamics.b2TimeStep=nt,o.Dynamics.b2World=it,o.Dynamics.Contacts.b2CircleContact=rt,o.Dynamics.Contacts.b2Contact=st,o.Dynamics.Contacts.b2ContactConstraint=at,o.Dynamics.Contacts.b2ContactConstraintPoint=lt,o.Dynamics.Contacts.b2ContactEdge=ut,o.Dynamics.Contacts.b2ContactFactory=pt,o.Dynamics.Contacts.b2ContactRegister=ct,o.Dynamics.Contacts.b2ContactResult=ht,o.Dynamics.Contacts.b2ContactSolver=mt,o.Dynamics.Contacts.b2EdgeAndCircleContact=dt,o.Dynamics.Contacts.b2NullContact=_t,o.Dynamics.Contacts.b2PolyAndCircleContact=yt,o.Dynamics.Contacts.b2PolyAndEdgeContact=ft,o.Dynamics.Contacts.b2PolygonContact=vt,o.Dynamics.Contacts.b2PositionSolverManifold=xt,o.Dynamics.Controllers.b2BuoyancyController=gt,o.Dynamics.Controllers.b2ConstantAccelController=bt,o.Dynamics.Controllers.b2ConstantForceController=Ct,o.Dynamics.Controllers.b2Controller=Et,o.Dynamics.Controllers.b2ControllerEdge=Pt,o.Dynamics.Controllers.b2GravityController=Dt,o.Dynamics.Controllers.b2TensorDampingController=St,o.Dynamics.Joints.b2DistanceJoint=Nt,o.Dynamics.Joints.b2DistanceJointDef=wt,o.Dynamics.Joints.b2FrictionJoint=At,o.Dynamics.Joints.b2FrictionJointDef=It,o.Dynamics.Joints.b2GearJoint=Mt,o.Dynamics.Joints.b2GearJointDef=Vt,o.Dynamics.Joints.b2Jacobian=Tt,o.Dynamics.Joints.b2Joint=Bt,o.Dynamics.Joints.b2JointDef=Ot,o.Dynamics.Joints.b2JointEdge=Lt,o.Dynamics.Joints.b2LineJoint=Rt,o.Dynamics.Joints.b2LineJointDef=kt,o.Dynamics.Joints.b2MouseJoint=Ft,o.Dynamics.Joints.b2MouseJointDef=Gt,o.Dynamics.Joints.b2PrismaticJoint=Xt,o.Dynamics.Joints.b2PrismaticJointDef=Jt,o.Dynamics.Joints.b2PulleyJoint=Yt,o.Dynamics.Joints.b2PulleyJointDef=Wt,o.Dynamics.Joints.b2RevoluteJoint=Ut,o.Dynamics.Joints.b2RevoluteJointDef=jt,o.Dynamics.Joints.b2WeldJoint=qt,o.Dynamics.Joints.b2WeldJointDef=zt}(),o.postDefs=[],function(){var t=o.Collision.Shapes.b2CircleShape,e=(o.Collision.Shapes.b2EdgeChainDef,o.Collision.Shapes.b2EdgeShape,o.Collision.Shapes.b2MassData,o.Collision.Shapes.b2PolygonShape),r=o.Collision.Shapes.b2Shape,s=(o.Common.b2Color,o.Common.b2internal,o.Common.b2Settings),a=(o.Common.Math.b2Mat22,o.Common.Math.b2Mat33,o.Common.Math.b2Math),l=o.Common.Math.b2Sweep,u=o.Common.Math.b2Transform,p=o.Common.Math.b2Vec2,c=(o.Common.Math.b2Vec3,o.Collision.b2AABB),h=o.Collision.b2Bound,m=o.Collision.b2BoundValues,d=o.Collision.b2Collision,_=o.Collision.b2ContactID,y=o.Collision.b2ContactPoint,f=o.Collision.b2Distance,v=o.Collision.b2DistanceInput,x=o.Collision.b2DistanceOutput,g=o.Collision.b2DistanceProxy,b=o.Collision.b2DynamicTree,C=o.Collision.b2DynamicTreeBroadPhase,E=o.Collision.b2DynamicTreeNode,P=o.Collision.b2DynamicTreePair,D=o.Collision.b2Manifold,S=o.Collision.b2ManifoldPoint,N=o.Collision.b2Point,w=o.Collision.b2RayCastInput,A=o.Collision.b2RayCastOutput,I=o.Collision.b2Segment,M=o.Collision.b2SeparationFunction,V=o.Collision.b2Simplex,T=o.Collision.b2SimplexCache,B=o.Collision.b2SimplexVertex,O=o.Collision.b2TimeOfImpact,L=o.Collision.b2TOIInput,R=o.Collision.b2WorldManifold,k=o.Collision.ClipVertex,F=o.Collision.Features,G=o.Collision.IBroadPhase;c.b2AABB=function(){this.lowerBound=new p,this.upperBound=new p},c.prototype.IsValid=function(){var t=this.upperBound.x-this.lowerBound.x,e=this.upperBound.y-this.lowerBound.y,o=t>=0&&e>=0;return o=o&&this.lowerBound.IsValid()&&this.upperBound.IsValid()},c.prototype.GetCenter=function(){return new p((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)},c.prototype.GetExtents=function(){return new p((this.upperBound.x-this.lowerBound.x)/2,(this.upperBound.y-this.lowerBound.y)/2)},c.prototype.Contains=function(t){var e=!0;return e=e&&this.lowerBound.x<=t.lowerBound.x,e=e&&this.lowerBound.y<=t.lowerBound.y,e=e&&t.upperBound.x<=this.upperBound.x,e=e&&t.upperBound.y<=this.upperBound.y},c.prototype.RayCast=function(t,e){var o=-Number.MAX_VALUE,n=Number.MAX_VALUE,i=e.p1.x,r=e.p1.y,s=e.p2.x-e.p1.x,a=e.p2.y-e.p1.y,l=Math.abs(s),u=Math.abs(a),p=t.normal,c=0,h=0,m=0,d=0,_=0;if(l<Number.MIN_VALUE){if(i<this.lowerBound.x||this.upperBound.x<i)return!1}else if(c=1/s,h=(this.lowerBound.x-i)*c,m=(this.upperBound.x-i)*c,_=-1,h>m&&(d=h,h=m,m=d,_=1),h>o&&(p.x=_,p.y=0,o=h),n=Math.min(n,m),o>n)return!1;if(u<Number.MIN_VALUE){if(r<this.lowerBound.y||this.upperBound.y<r)return!1}else if(c=1/a,h=(this.lowerBound.y-r)*c,m=(this.upperBound.y-r)*c,_=-1,h>m&&(d=h,h=m,m=d,_=1),h>o&&(p.y=_,p.x=0,o=h),n=Math.min(n,m),o>n)return!1;return t.fraction=o,!0},c.prototype.TestOverlap=function(t){var e=t.lowerBound.x-this.upperBound.x,o=t.lowerBound.y-this.upperBound.y,n=this.lowerBound.x-t.upperBound.x,i=this.lowerBound.y-t.upperBound.y;return!(e>0||o>0)&&!(n>0||i>0)},c.Combine=function(t,e){var o=new c;return o.Combine(t,e),o},c.prototype.Combine=function(t,e){this.lowerBound.x=Math.min(t.lowerBound.x,e.lowerBound.x),this.lowerBound.y=Math.min(t.lowerBound.y,e.lowerBound.y),this.upperBound.x=Math.max(t.upperBound.x,e.upperBound.x),this.upperBound.y=Math.max(t.upperBound.y,e.upperBound.y)},h.b2Bound=function(){},h.prototype.IsLower=function(){return 0==(1&this.value)},h.prototype.IsUpper=function(){return 1==(1&this.value)},h.prototype.Swap=function(t){var e=this.value,o=this.proxy,n=this.stabbingCount;this.value=t.value,this.proxy=t.proxy,this.stabbingCount=t.stabbingCount,t.value=e,t.proxy=o,t.stabbingCount=n},m.b2BoundValues=function(){},m.prototype.b2BoundValues=function(){this.lowerValues=new i,this.lowerValues[0]=0,this.lowerValues[1]=0,this.upperValues=new i,this.upperValues[0]=0,this.upperValues[1]=0},d.b2Collision=function(){},d.ClipSegmentToLine=function(t,e,o,n){void 0===n&&(n=0);var i,r=0;i=e[0];var s=i.v;i=e[1];var a=i.v,l=o.x*s.x+o.y*s.y-n,u=o.x*a.x+o.y*a.y-n;if(l<=0&&t[r++].Set(e[0]),u<=0&&t[r++].Set(e[1]),l*u<0){var p=l/(l-u);i=t[r];var c=i.v;c.x=s.x+p*(a.x-s.x),c.y=s.y+p*(a.y-s.y),i=t[r];var h;l>0?(h=e[0],i.id=h.id):(h=e[1],i.id=h.id),++r}return r},d.EdgeSeparation=function(t,e,o,n,i){void 0===o&&(o=0);var r,s,a=(parseInt(t.m_vertexCount),t.m_vertices),l=t.m_normals,u=parseInt(n.m_vertexCount),p=n.m_vertices;r=e.R,s=l[o];var c=r.col1.x*s.x+r.col2.x*s.y,h=r.col1.y*s.x+r.col2.y*s.y;r=i.R;for(var m=r.col1.x*c+r.col1.y*h,d=r.col2.x*c+r.col2.y*h,_=0,y=Number.MAX_VALUE,f=0;f<u;++f){s=p[f];var v=s.x*m+s.y*d;v<y&&(y=v,_=f)}s=a[o],r=e.R;var x=e.position.x+(r.col1.x*s.x+r.col2.x*s.y),g=e.position.y+(r.col1.y*s.x+r.col2.y*s.y);s=p[_],r=i.R;var b=i.position.x+(r.col1.x*s.x+r.col2.x*s.y),C=i.position.y+(r.col1.y*s.x+r.col2.y*s.y);b-=x,C-=g;var E=b*c+C*h;return E},d.FindMaxSeparation=function(t,e,o,n,i){var r,s,a=parseInt(e.m_vertexCount),l=e.m_normals;s=i.R,r=n.m_centroid;var u=i.position.x+(s.col1.x*r.x+s.col2.x*r.y),p=i.position.y+(s.col1.y*r.x+s.col2.y*r.y);s=o.R,r=e.m_centroid,u-=o.position.x+(s.col1.x*r.x+s.col2.x*r.y),p-=o.position.y+(s.col1.y*r.x+s.col2.y*r.y);for(var c=u*o.R.col1.x+p*o.R.col1.y,h=u*o.R.col2.x+p*o.R.col2.y,m=0,_=-Number.MAX_VALUE,y=0;y<a;++y){r=l[y];var f=r.x*c+r.y*h;f>_&&(_=f,m=y)}var v=d.EdgeSeparation(e,o,m,n,i),x=parseInt(m-1>=0?m-1:a-1),g=d.EdgeSeparation(e,o,x,n,i),b=parseInt(m+1<a?m+1:0),C=d.EdgeSeparation(e,o,b,n,i),E=0,P=0,D=0;if(g>v&&g>C)D=-1,E=x,P=g;else{if(!(C>v))return t[0]=m,v;D=1,E=b,P=C}for(;;){if(m=D==-1?E-1>=0?E-1:a-1:E+1<a?E+1:0,v=d.EdgeSeparation(e,o,m,n,i),!(v>P))break;E=m,P=v}return t[0]=E,P},d.FindIncidentEdge=function(t,e,o,n,i,r){void 0===n&&(n=0);var s,a,l=(parseInt(e.m_vertexCount),e.m_normals),u=parseInt(i.m_vertexCount),p=i.m_vertices,c=i.m_normals;s=o.R,a=l[n];var h=s.col1.x*a.x+s.col2.x*a.y,m=s.col1.y*a.x+s.col2.y*a.y;s=r.R;var d=s.col1.x*h+s.col1.y*m;m=s.col2.x*h+s.col2.y*m,h=d;for(var _=0,y=Number.MAX_VALUE,f=0;f<u;++f){a=c[f];var v=h*a.x+m*a.y;v<y&&(y=v,_=f)}var x,g=parseInt(_),b=parseInt(g+1<u?g+1:0);x=t[0],a=p[g],s=r.R,x.v.x=r.position.x+(s.col1.x*a.x+s.col2.x*a.y),x.v.y=r.position.y+(s.col1.y*a.x+s.col2.y*a.y),x.id.features.referenceEdge=n,x.id.features.incidentEdge=g,x.id.features.incidentVertex=0,x=t[1],a=p[b],s=r.R,x.v.x=r.position.x+(s.col1.x*a.x+s.col2.x*a.y),x.v.y=r.position.y+(s.col1.y*a.x+s.col2.y*a.y),x.id.features.referenceEdge=n,x.id.features.incidentEdge=b,x.id.features.incidentVertex=1},d.MakeClipPointVector=function(){var t=new n(2);return t[0]=new k,t[1]=new k,t},d.CollidePolygons=function(t,e,o,n,i){var r;t.m_pointCount=0;var a=e.m_radius+n.m_radius,l=0;d.s_edgeAO[0]=l;var u=d.FindMaxSeparation(d.s_edgeAO,e,o,n,i);if(l=d.s_edgeAO[0],!(u>a)){var p=0;d.s_edgeBO[0]=p;var c=d.FindMaxSeparation(d.s_edgeBO,n,i,e,o);if(p=d.s_edgeBO[0],!(c>a)){var h,m,_,y,f,v=0,x=0,g=.98,b=.001;c>g*u+b?(h=n,m=e,_=i,y=o,v=p,t.m_type=D.e_faceB,x=1):(h=e,m=n,_=o,y=i,v=l,t.m_type=D.e_faceA,x=0);var C=d.s_incidentEdge;d.FindIncidentEdge(C,h,_,v,m,y);var E,P=parseInt(h.m_vertexCount),S=h.m_vertices,N=S[v];E=v+1<P?S[parseInt(v+1)]:S[0];var w=d.s_localTangent;w.Set(E.x-N.x,E.y-N.y),w.Normalize();var A=d.s_localNormal;A.x=w.y,A.y=-w.x;var I=d.s_planePoint;I.Set(.5*(N.x+E.x),.5*(N.y+E.y));var M=d.s_tangent;f=_.R,M.x=f.col1.x*w.x+f.col2.x*w.y,M.y=f.col1.y*w.x+f.col2.y*w.y;var V=d.s_tangent2;V.x=-M.x,V.y=-M.y;var T=d.s_normal;T.x=M.y,T.y=-M.x;var B=d.s_v11,O=d.s_v12;B.x=_.position.x+(f.col1.x*N.x+f.col2.x*N.y),B.y=_.position.y+(f.col1.y*N.x+f.col2.y*N.y),O.x=_.position.x+(f.col1.x*E.x+f.col2.x*E.y),O.y=_.position.y+(f.col1.y*E.x+f.col2.y*E.y);var L=T.x*B.x+T.y*B.y,R=-M.x*B.x-M.y*B.y+a,k=M.x*O.x+M.y*O.y+a,F=d.s_clipPoints1,G=d.s_clipPoints2,X=0;if(X=d.ClipSegmentToLine(F,C,V,R),!(X<2||(X=d.ClipSegmentToLine(G,F,M,k),X<2))){t.m_localPlaneNormal.SetV(A),t.m_localPoint.SetV(I);for(var J=0,Y=0;Y<s.b2_maxManifoldPoints;++Y){r=G[Y];var W=T.x*r.v.x+T.y*r.v.y-L;if(W<=a){var U=t.m_points[J];f=y.R;var j=r.v.x-y.position.x,q=r.v.y-y.position.y;U.m_localPoint.x=j*f.col1.x+q*f.col1.y,U.m_localPoint.y=j*f.col2.x+q*f.col2.y,U.m_id.Set(r.id),U.m_id.features.flip=x,++J}}t.m_pointCount=J}}}},d.CollideCircles=function(t,e,o,n,i){t.m_pointCount=0;var r,s;r=o.R,s=e.m_p;var a=o.position.x+(r.col1.x*s.x+r.col2.x*s.y),l=o.position.y+(r.col1.y*s.x+r.col2.y*s.y);r=i.R,s=n.m_p;var u=i.position.x+(r.col1.x*s.x+r.col2.x*s.y),p=i.position.y+(r.col1.y*s.x+r.col2.y*s.y),c=u-a,h=p-l,m=c*c+h*h,d=e.m_radius+n.m_radius;m>d*d||(t.m_type=D.e_circles,t.m_localPoint.SetV(e.m_p),t.m_localPlaneNormal.SetZero(),t.m_pointCount=1,t.m_points[0].m_localPoint.SetV(n.m_p),t.m_points[0].m_id.key=0)},d.CollidePolygonAndCircle=function(t,e,o,n,i){t.m_pointCount=0;var r,s,a=0,l=0;s=i.R,r=n.m_p;var u=i.position.x+(s.col1.x*r.x+s.col2.x*r.y),p=i.position.y+(s.col1.y*r.x+s.col2.y*r.y);a=u-o.position.x,l=p-o.position.y,s=o.R;for(var c=a*s.col1.x+l*s.col1.y,h=a*s.col2.x+l*s.col2.y,m=0,d=-Number.MAX_VALUE,_=e.m_radius+n.m_radius,y=parseInt(e.m_vertexCount),f=e.m_vertices,v=e.m_normals,x=0;x<y;++x){r=f[x],a=c-r.x,l=h-r.y,r=v[x];var g=r.x*a+r.y*l;if(g>_)return;g>d&&(d=g,m=x)}var b=parseInt(m),C=parseInt(b+1<y?b+1:0),E=f[b],P=f[C];if(d<Number.MIN_VALUE)return t.m_pointCount=1,t.m_type=D.e_faceA,t.m_localPlaneNormal.SetV(v[m]),t.m_localPoint.x=.5*(E.x+P.x),t.m_localPoint.y=.5*(E.y+P.y),t.m_points[0].m_localPoint.SetV(n.m_p),void(t.m_points[0].m_id.key=0);var S=(c-E.x)*(P.x-E.x)+(h-E.y)*(P.y-E.y),N=(c-P.x)*(E.x-P.x)+(h-P.y)*(E.y-P.y);if(S<=0){if((c-E.x)*(c-E.x)+(h-E.y)*(h-E.y)>_*_)return;t.m_pointCount=1,t.m_type=D.e_faceA,t.m_localPlaneNormal.x=c-E.x,t.m_localPlaneNormal.y=h-E.y,t.m_localPlaneNormal.Normalize(),t.m_localPoint.SetV(E),t.m_points[0].m_localPoint.SetV(n.m_p),t.m_points[0].m_id.key=0}else if(N<=0){if((c-P.x)*(c-P.x)+(h-P.y)*(h-P.y)>_*_)return;t.m_pointCount=1,t.m_type=D.e_faceA,t.m_localPlaneNormal.x=c-P.x,t.m_localPlaneNormal.y=h-P.y,t.m_localPlaneNormal.Normalize(),t.m_localPoint.SetV(P),t.m_points[0].m_localPoint.SetV(n.m_p),t.m_points[0].m_id.key=0}else{var w=.5*(E.x+P.x),A=.5*(E.y+P.y);if(d=(c-w)*v[b].x+(h-A)*v[b].y,d>_)return;t.m_pointCount=1,t.m_type=D.e_faceA,t.m_localPlaneNormal.x=v[b].x,t.m_localPlaneNormal.y=v[b].y,t.m_localPlaneNormal.Normalize(),t.m_localPoint.Set(w,A),t.m_points[0].m_localPoint.SetV(n.m_p),t.m_points[0].m_id.key=0}},d.TestOverlap=function(t,e){var o=e.lowerBound,n=t.upperBound,i=o.x-n.x,r=o.y-n.y;o=t.lowerBound,n=e.upperBound;var s=o.x-n.x,a=o.y-n.y;return!(i>0||r>0)&&!(s>0||a>0)},o.postDefs.push(function(){o.Collision.b2Collision.s_incidentEdge=d.MakeClipPointVector(),o.Collision.b2Collision.s_clipPoints1=d.MakeClipPointVector(),o.Collision.b2Collision.s_clipPoints2=d.MakeClipPointVector(),o.Collision.b2Collision.s_edgeAO=new i(1),o.Collision.b2Collision.s_edgeBO=new i(1),o.Collision.b2Collision.s_localTangent=new p,o.Collision.b2Collision.s_localNormal=new p,o.Collision.b2Collision.s_planePoint=new p,o.Collision.b2Collision.s_normal=new p,o.Collision.b2Collision.s_tangent=new p,o.Collision.b2Collision.s_tangent2=new p,o.Collision.b2Collision.s_v11=new p,o.Collision.b2Collision.s_v12=new p,o.Collision.b2Collision.b2CollidePolyTempVec=new p,o.Collision.b2Collision.b2_nullFeature=255}),_.b2ContactID=function(){this.features=new F},_.prototype.b2ContactID=function(){this.features._m_id=this},_.prototype.Set=function(t){this.key=t._key},_.prototype.Copy=function(){var t=new _;return t.key=this.key,t},Object.defineProperty(_.prototype,"key",{enumerable:!1,configurable:!0,get:function(){return this._key}}),Object.defineProperty(_.prototype,"key",{enumerable:!1,configurable:!0,set:function(t){void 0===t&&(t=0),this._key=t,this.features._referenceEdge=255&this._key,this.features._incidentEdge=(65280&this._key)>>8&255,this.features._incidentVertex=(16711680&this._key)>>16&255,this.features._flip=(4278190080&this._key)>>24&255}}),y.b2ContactPoint=function(){this.position=new p,this.velocity=new p,this.normal=new p,this.id=new _},f.b2Distance=function(){},f.Distance=function(t,e,o){++f.b2_gjkCalls;var n=o.proxyA,i=o.proxyB,r=o.transformA,l=o.transformB,u=f.s_simplex;u.ReadCache(e,n,r,i,l);for(var c,h=u.m_vertices,m=20,d=f.s_saveA,_=f.s_saveB,y=0,v=u.GetClosestPoint(),x=v.LengthSquared(),g=x,b=0,C=0;C<m;){for(y=u.m_count,b=0;b<y;b++)d[b]=h[b].indexA,_[b]=h[b].indexB;switch(u.m_count){case 1:break;case 2:u.Solve2();break;case 3:u.Solve3();break;default:s.b2Assert(!1)}if(3==u.m_count)break;c=u.GetClosestPoint(),g=c.LengthSquared(),x=g;var E=u.GetSearchDirection();if(E.LengthSquared()<Number.MIN_VALUE*Number.MIN_VALUE)break;var P=h[u.m_count];P.indexA=n.GetSupport(a.MulTMV(r.R,E.GetNegative())),P.wA=a.MulX(r,n.GetVertex(P.indexA)),P.indexB=i.GetSupport(a.MulTMV(l.R,E)),P.wB=a.MulX(l,i.GetVertex(P.indexB)),P.w=a.SubtractVV(P.wB,P.wA),++C,++f.b2_gjkIters;var D=!1;for(b=0;b<y;b++)if(P.indexA==d[b]&&P.indexB==_[b]){D=!0;break}if(D)break;++u.m_count}if(f.b2_gjkMaxIters=a.Max(f.b2_gjkMaxIters,C),u.GetWitnessPoints(t.pointA,t.pointB),t.distance=a.SubtractVV(t.pointA,t.pointB).Length(),t.iterations=C,u.WriteCache(e),o.useRadii){var S=n.m_radius,N=i.m_radius;if(t.distance>S+N&&t.distance>Number.MIN_VALUE){t.distance-=S+N;var w=a.SubtractVV(t.pointB,t.pointA);w.Normalize(),t.pointA.x+=S*w.x,t.pointA.y+=S*w.y,t.pointB.x-=N*w.x,t.pointB.y-=N*w.y}else c=new p,c.x=.5*(t.pointA.x+t.pointB.x),c.y=.5*(t.pointA.y+t.pointB.y),t.pointA.x=t.pointB.x=c.x,t.pointA.y=t.pointB.y=c.y,t.distance=0}},o.postDefs.push(function(){o.Collision.b2Distance.s_simplex=new V,o.Collision.b2Distance.s_saveA=new i(3),o.Collision.b2Distance.s_saveB=new i(3)}),v.b2DistanceInput=function(){},x.b2DistanceOutput=function(){this.pointA=new p,this.pointB=new p},g.b2DistanceProxy=function(){},g.prototype.Set=function(o){switch(o.GetType()){case r.e_circleShape:var i=o instanceof t?o:null;this.m_vertices=new n(1,(!0)),this.m_vertices[0]=i.m_p,this.m_count=1,this.m_radius=i.m_radius;break;case r.e_polygonShape:var a=o instanceof e?o:null;this.m_vertices=a.m_vertices,this.m_count=a.m_vertexCount,this.m_radius=a.m_radius;break;default:s.b2Assert(!1)}},g.prototype.GetSupport=function(t){for(var e=0,o=this.m_vertices[0].x*t.x+this.m_vertices[0].y*t.y,n=1;n<this.m_count;++n){var i=this.m_vertices[n].x*t.x+this.m_vertices[n].y*t.y;i>o&&(e=n,o=i)}return e},g.prototype.GetSupportVertex=function(t){for(var e=0,o=this.m_vertices[0].x*t.x+this.m_vertices[0].y*t.y,n=1;n<this.m_count;++n){var i=this.m_vertices[n].x*t.x+this.m_vertices[n].y*t.y;i>o&&(e=n,o=i)}return this.m_vertices[e]},g.prototype.GetVertexCount=function(){return this.m_count},g.prototype.GetVertex=function(t){return void 0===t&&(t=0),s.b2Assert(0<=t&&t<this.m_count),this.m_vertices[t]},b.b2DynamicTree=function(){},b.prototype.b2DynamicTree=function(){this.m_root=null,this.m_freeList=null,this.m_path=0,this.m_insertionCount=0},b.prototype.CreateProxy=function(t,e){var o=this.AllocateNode(),n=s.b2_aabbExtension,i=s.b2_aabbExtension;return o.aabb.lowerBound.x=t.lowerBound.x-n,
o.aabb.lowerBound.y=t.lowerBound.y-i,o.aabb.upperBound.x=t.upperBound.x+n,o.aabb.upperBound.y=t.upperBound.y+i,o.userData=e,this.InsertLeaf(o),o},b.prototype.DestroyProxy=function(t){this.RemoveLeaf(t),this.FreeNode(t)},b.prototype.MoveProxy=function(t,e,o){if(s.b2Assert(t.IsLeaf()),t.aabb.Contains(e))return!1;this.RemoveLeaf(t);var n=s.b2_aabbExtension+s.b2_aabbMultiplier*(o.x>0?o.x:-o.x),i=s.b2_aabbExtension+s.b2_aabbMultiplier*(o.y>0?o.y:-o.y);return t.aabb.lowerBound.x=e.lowerBound.x-n,t.aabb.lowerBound.y=e.lowerBound.y-i,t.aabb.upperBound.x=e.upperBound.x+n,t.aabb.upperBound.y=e.upperBound.y+i,this.InsertLeaf(t),!0},b.prototype.Rebalance=function(t){if(void 0===t&&(t=0),null!=this.m_root)for(var e=0;e<t;e++){for(var o=this.m_root,n=0;0==o.IsLeaf();)o=this.m_path>>n&1?o.child2:o.child1,n=n+1&31;++this.m_path,this.RemoveLeaf(o),this.InsertLeaf(o)}},b.prototype.GetFatAABB=function(t){return t.aabb},b.prototype.GetUserData=function(t){return t.userData},b.prototype.Query=function(t,e){if(null!=this.m_root){var o=new n,i=0;for(o[i++]=this.m_root;i>0;){var r=o[--i];if(r.aabb.TestOverlap(e))if(r.IsLeaf()){var s=t(r);if(!s)return}else o[i++]=r.child1,o[i++]=r.child2}}},b.prototype.RayCast=function(t,e){if(null!=this.m_root){var o=e.p1,i=e.p2,r=a.SubtractVV(o,i);r.Normalize();var s=a.CrossFV(1,r),l=a.AbsV(s),u=e.maxFraction,p=new c,h=0,m=0;h=o.x+u*(i.x-o.x),m=o.y+u*(i.y-o.y),p.lowerBound.x=Math.min(o.x,h),p.lowerBound.y=Math.min(o.y,m),p.upperBound.x=Math.max(o.x,h),p.upperBound.y=Math.max(o.y,m);var d=new n,_=0;for(d[_++]=this.m_root;_>0;){var y=d[--_];if(0!=y.aabb.TestOverlap(p)){var f=y.aabb.GetCenter(),v=y.aabb.GetExtents(),x=Math.abs(s.x*(o.x-f.x)+s.y*(o.y-f.y))-l.x*v.x-l.y*v.y;if(!(x>0))if(y.IsLeaf()){var g=new w;if(g.p1=e.p1,g.p2=e.p2,g.maxFraction=e.maxFraction,u=t(g,y),0==u)return;u>0&&(h=o.x+u*(i.x-o.x),m=o.y+u*(i.y-o.y),p.lowerBound.x=Math.min(o.x,h),p.lowerBound.y=Math.min(o.y,m),p.upperBound.x=Math.max(o.x,h),p.upperBound.y=Math.max(o.y,m))}else d[_++]=y.child1,d[_++]=y.child2}}}},b.prototype.AllocateNode=function(){if(this.m_freeList){var t=this.m_freeList;return this.m_freeList=t.parent,t.parent=null,t.child1=null,t.child2=null,t}return new E},b.prototype.FreeNode=function(t){t.parent=this.m_freeList,this.m_freeList=t},b.prototype.InsertLeaf=function(t){if(++this.m_insertionCount,null==this.m_root)return this.m_root=t,void(this.m_root.parent=null);var e=t.aabb.GetCenter(),o=this.m_root;if(0==o.IsLeaf())do{var n=o.child1,i=o.child2,r=Math.abs((n.aabb.lowerBound.x+n.aabb.upperBound.x)/2-e.x)+Math.abs((n.aabb.lowerBound.y+n.aabb.upperBound.y)/2-e.y),s=Math.abs((i.aabb.lowerBound.x+i.aabb.upperBound.x)/2-e.x)+Math.abs((i.aabb.lowerBound.y+i.aabb.upperBound.y)/2-e.y);o=r<s?n:i}while(0==o.IsLeaf());var a=o.parent,l=this.AllocateNode();if(l.parent=a,l.userData=null,l.aabb.Combine(t.aabb,o.aabb),a){o.parent.child1==o?a.child1=l:a.child2=l,l.child1=o,l.child2=t,o.parent=l,t.parent=l;do{if(a.aabb.Contains(l.aabb))break;a.aabb.Combine(a.child1.aabb,a.child2.aabb),l=a,a=a.parent}while(a)}else l.child1=o,l.child2=t,o.parent=l,t.parent=l,this.m_root=l},b.prototype.RemoveLeaf=function(t){if(t==this.m_root)return void(this.m_root=null);var e,o=t.parent,n=o.parent;if(e=o.child1==t?o.child2:o.child1,n)for(n.child1==o?n.child1=e:n.child2=e,e.parent=n,this.FreeNode(o);n;){var i=n.aabb;if(n.aabb=c.Combine(n.child1.aabb,n.child2.aabb),i.Contains(n.aabb))break;n=n.parent}else this.m_root=e,e.parent=null,this.FreeNode(o)},C.b2DynamicTreeBroadPhase=function(){this.m_tree=new b,this.m_moveBuffer=new n,this.m_pairBuffer=new n,this.m_pairCount=0},C.prototype.CreateProxy=function(t,e){var o=this.m_tree.CreateProxy(t,e);return++this.m_proxyCount,this.BufferMove(o),o},C.prototype.DestroyProxy=function(t){this.UnBufferMove(t),--this.m_proxyCount,this.m_tree.DestroyProxy(t)},C.prototype.MoveProxy=function(t,e,o){var n=this.m_tree.MoveProxy(t,e,o);n&&this.BufferMove(t)},C.prototype.TestOverlap=function(t,e){var o=this.m_tree.GetFatAABB(t),n=this.m_tree.GetFatAABB(e);return o.TestOverlap(n)},C.prototype.GetUserData=function(t){return this.m_tree.GetUserData(t)},C.prototype.GetFatAABB=function(t){return this.m_tree.GetFatAABB(t)},C.prototype.GetProxyCount=function(){return this.m_proxyCount},C.prototype.UpdatePairs=function(t){var e=this;e.m_pairCount=0;var o,n=0,i=function(){function t(t){if(t==o)return!0;e.m_pairCount==e.m_pairBuffer.length&&(e.m_pairBuffer[e.m_pairCount]=new P);var n=e.m_pairBuffer[e.m_pairCount];return n.proxyA=t<o?t:o,n.proxyB=t>=o?t:o,++e.m_pairCount,!0}o=e.m_moveBuffer[n],r=e.m_tree.GetFatAABB(o),e.m_tree.Query(t,r)};for(n=0;n<e.m_moveBuffer.length;++n){var r;i()}e.m_moveBuffer.length=0;for(var n=0;n<e.m_pairCount;){var s=e.m_pairBuffer[n],a=e.m_tree.GetUserData(s.proxyA),l=e.m_tree.GetUserData(s.proxyB);for(t(a,l),++n;n<e.m_pairCount;){var u=e.m_pairBuffer[n];if(u.proxyA!=s.proxyA||u.proxyB!=s.proxyB)break;++n}}},C.prototype.Query=function(t,e){this.m_tree.Query(t,e)},C.prototype.RayCast=function(t,e){this.m_tree.RayCast(t,e)},C.prototype.Validate=function(){},C.prototype.Rebalance=function(t){void 0===t&&(t=0),this.m_tree.Rebalance(t)},C.prototype.BufferMove=function(t){this.m_moveBuffer[this.m_moveBuffer.length]=t},C.prototype.UnBufferMove=function(t){var e=parseInt(this.m_moveBuffer.indexOf(t));this.m_moveBuffer.splice(e,1)},C.prototype.ComparePairs=function(t,e){return 0},C.__implements={},C.__implements[G]=!0,E.b2DynamicTreeNode=function(){this.aabb=new c},E.prototype.IsLeaf=function(){return null==this.child1},P.b2DynamicTreePair=function(){},D.b2Manifold=function(){this.m_pointCount=0},D.prototype.b2Manifold=function(){this.m_points=new n(s.b2_maxManifoldPoints);for(var t=0;t<s.b2_maxManifoldPoints;t++)this.m_points[t]=new S;this.m_localPlaneNormal=new p,this.m_localPoint=new p},D.prototype.Reset=function(){for(var t=0;t<s.b2_maxManifoldPoints;t++)(this.m_points[t]instanceof S?this.m_points[t]:null).Reset();this.m_localPlaneNormal.SetZero(),this.m_localPoint.SetZero(),this.m_type=0,this.m_pointCount=0},D.prototype.Set=function(t){this.m_pointCount=t.m_pointCount;for(var e=0;e<s.b2_maxManifoldPoints;e++)(this.m_points[e]instanceof S?this.m_points[e]:null).Set(t.m_points[e]);this.m_localPlaneNormal.SetV(t.m_localPlaneNormal),this.m_localPoint.SetV(t.m_localPoint),this.m_type=t.m_type},D.prototype.Copy=function(){var t=new D;return t.Set(this),t},o.postDefs.push(function(){o.Collision.b2Manifold.e_circles=1,o.Collision.b2Manifold.e_faceA=2,o.Collision.b2Manifold.e_faceB=4}),S.b2ManifoldPoint=function(){this.m_localPoint=new p,this.m_id=new _},S.prototype.b2ManifoldPoint=function(){this.Reset()},S.prototype.Reset=function(){this.m_localPoint.SetZero(),this.m_normalImpulse=0,this.m_tangentImpulse=0,this.m_id.key=0},S.prototype.Set=function(t){this.m_localPoint.SetV(t.m_localPoint),this.m_normalImpulse=t.m_normalImpulse,this.m_tangentImpulse=t.m_tangentImpulse,this.m_id.Set(t.m_id)},N.b2Point=function(){this.p=new p},N.prototype.Support=function(t,e,o){return void 0===e&&(e=0),void 0===o&&(o=0),this.p},N.prototype.GetFirstVertex=function(t){return this.p},w.b2RayCastInput=function(){this.p1=new p,this.p2=new p},w.prototype.b2RayCastInput=function(t,e,o){void 0===t&&(t=null),void 0===e&&(e=null),void 0===o&&(o=1),t&&this.p1.SetV(t),e&&this.p2.SetV(e),this.maxFraction=o},A.b2RayCastOutput=function(){this.normal=new p},I.b2Segment=function(){this.p1=new p,this.p2=new p},I.prototype.TestSegment=function(t,e,o,n){void 0===n&&(n=0);var i=o.p1,r=o.p2.x-i.x,s=o.p2.y-i.y,a=this.p2.x-this.p1.x,l=this.p2.y-this.p1.y,u=l,p=-a,c=100*Number.MIN_VALUE,h=-(r*u+s*p);if(h>c){var m=i.x-this.p1.x,d=i.y-this.p1.y,_=m*u+d*p;if(0<=_&&_<=n*h){var y=-r*d+s*m;if(-c*h<=y&&y<=h*(1+c)){_/=h;var f=Math.sqrt(u*u+p*p);return u/=f,p/=f,t[0]=_,e.Set(u,p),!0}}}return!1},I.prototype.Extend=function(t){this.ExtendForward(t),this.ExtendBackward(t)},I.prototype.ExtendForward=function(t){var e=this.p2.x-this.p1.x,o=this.p2.y-this.p1.y,n=Math.min(e>0?(t.upperBound.x-this.p1.x)/e:e<0?(t.lowerBound.x-this.p1.x)/e:Number.POSITIVE_INFINITY,o>0?(t.upperBound.y-this.p1.y)/o:o<0?(t.lowerBound.y-this.p1.y)/o:Number.POSITIVE_INFINITY);this.p2.x=this.p1.x+e*n,this.p2.y=this.p1.y+o*n},I.prototype.ExtendBackward=function(t){var e=-this.p2.x+this.p1.x,o=-this.p2.y+this.p1.y,n=Math.min(e>0?(t.upperBound.x-this.p2.x)/e:e<0?(t.lowerBound.x-this.p2.x)/e:Number.POSITIVE_INFINITY,o>0?(t.upperBound.y-this.p2.y)/o:o<0?(t.lowerBound.y-this.p2.y)/o:Number.POSITIVE_INFINITY);this.p1.x=this.p2.x+e*n,this.p1.y=this.p2.y+o*n},M.b2SeparationFunction=function(){this.m_localPoint=new p,this.m_axis=new p},M.prototype.Initialize=function(t,e,o,n,i){this.m_proxyA=e,this.m_proxyB=n;var r=parseInt(t.count);s.b2Assert(0<r&&r<3);var l,u,c,h,m,d,_,y,f=0,v=0,x=0,g=0,b=0,C=0,E=0,P=0;if(1==r)this.m_type=M.e_points,l=this.m_proxyA.GetVertex(t.indexA[0]),h=this.m_proxyB.GetVertex(t.indexB[0]),y=l,_=o.R,f=o.position.x+(_.col1.x*y.x+_.col2.x*y.y),v=o.position.y+(_.col1.y*y.x+_.col2.y*y.y),y=h,_=i.R,x=i.position.x+(_.col1.x*y.x+_.col2.x*y.y),g=i.position.y+(_.col1.y*y.x+_.col2.y*y.y),this.m_axis.x=x-f,this.m_axis.y=g-v,this.m_axis.Normalize();else if(t.indexB[0]==t.indexB[1])this.m_type=M.e_faceA,u=this.m_proxyA.GetVertex(t.indexA[0]),c=this.m_proxyA.GetVertex(t.indexA[1]),h=this.m_proxyB.GetVertex(t.indexB[0]),this.m_localPoint.x=.5*(u.x+c.x),this.m_localPoint.y=.5*(u.y+c.y),this.m_axis=a.CrossVF(a.SubtractVV(c,u),1),this.m_axis.Normalize(),y=this.m_axis,_=o.R,b=_.col1.x*y.x+_.col2.x*y.y,C=_.col1.y*y.x+_.col2.y*y.y,y=this.m_localPoint,_=o.R,f=o.position.x+(_.col1.x*y.x+_.col2.x*y.y),v=o.position.y+(_.col1.y*y.x+_.col2.y*y.y),y=h,_=i.R,x=i.position.x+(_.col1.x*y.x+_.col2.x*y.y),g=i.position.y+(_.col1.y*y.x+_.col2.y*y.y),E=(x-f)*b+(g-v)*C,E<0&&this.m_axis.NegativeSelf();else if(t.indexA[0]==t.indexA[0])this.m_type=M.e_faceB,m=this.m_proxyB.GetVertex(t.indexB[0]),d=this.m_proxyB.GetVertex(t.indexB[1]),l=this.m_proxyA.GetVertex(t.indexA[0]),this.m_localPoint.x=.5*(m.x+d.x),this.m_localPoint.y=.5*(m.y+d.y),this.m_axis=a.CrossVF(a.SubtractVV(d,m),1),this.m_axis.Normalize(),y=this.m_axis,_=i.R,b=_.col1.x*y.x+_.col2.x*y.y,C=_.col1.y*y.x+_.col2.y*y.y,y=this.m_localPoint,_=i.R,x=i.position.x+(_.col1.x*y.x+_.col2.x*y.y),g=i.position.y+(_.col1.y*y.x+_.col2.y*y.y),y=l,_=o.R,f=o.position.x+(_.col1.x*y.x+_.col2.x*y.y),v=o.position.y+(_.col1.y*y.x+_.col2.y*y.y),E=(f-x)*b+(v-g)*C,E<0&&this.m_axis.NegativeSelf();else{u=this.m_proxyA.GetVertex(t.indexA[0]),c=this.m_proxyA.GetVertex(t.indexA[1]),m=this.m_proxyB.GetVertex(t.indexB[0]),d=this.m_proxyB.GetVertex(t.indexB[1]);var D=(a.MulX(o,l),a.MulMV(o.R,a.SubtractVV(c,u))),S=(a.MulX(i,h),a.MulMV(i.R,a.SubtractVV(d,m))),N=D.x*D.x+D.y*D.y,w=S.x*S.x+S.y*S.y,A=a.SubtractVV(S,D),I=D.x*A.x+D.y*A.y,V=S.x*A.x+S.y*A.y,T=D.x*S.x+D.y*S.y,B=N*w-T*T;E=0,0!=B&&(E=a.Clamp((T*V-I*w)/B,0,1));var O=(T*E+V)/w;O<0&&(O=0,E=a.Clamp((T-I)/N,0,1)),l=new p,l.x=u.x+E*(c.x-u.x),l.y=u.y+E*(c.y-u.y),h=new p,h.x=m.x+E*(d.x-m.x),h.y=m.y+E*(d.y-m.y),0==E||1==E?(this.m_type=M.e_faceB,this.m_axis=a.CrossVF(a.SubtractVV(d,m),1),this.m_axis.Normalize(),this.m_localPoint=h,y=this.m_axis,_=i.R,b=_.col1.x*y.x+_.col2.x*y.y,C=_.col1.y*y.x+_.col2.y*y.y,y=this.m_localPoint,_=i.R,x=i.position.x+(_.col1.x*y.x+_.col2.x*y.y),g=i.position.y+(_.col1.y*y.x+_.col2.y*y.y),y=l,_=o.R,f=o.position.x+(_.col1.x*y.x+_.col2.x*y.y),v=o.position.y+(_.col1.y*y.x+_.col2.y*y.y),P=(f-x)*b+(v-g)*C,E<0&&this.m_axis.NegativeSelf()):(this.m_type=M.e_faceA,this.m_axis=a.CrossVF(a.SubtractVV(c,u),1),this.m_localPoint=l,y=this.m_axis,_=o.R,b=_.col1.x*y.x+_.col2.x*y.y,C=_.col1.y*y.x+_.col2.y*y.y,y=this.m_localPoint,_=o.R,f=o.position.x+(_.col1.x*y.x+_.col2.x*y.y),v=o.position.y+(_.col1.y*y.x+_.col2.y*y.y),y=h,_=i.R,x=i.position.x+(_.col1.x*y.x+_.col2.x*y.y),g=i.position.y+(_.col1.y*y.x+_.col2.y*y.y),P=(x-f)*b+(g-v)*C,E<0&&this.m_axis.NegativeSelf())}},M.prototype.Evaluate=function(t,e){var o,n,i,r,l,u,p,c=0;switch(this.m_type){case M.e_points:return o=a.MulTMV(t.R,this.m_axis),n=a.MulTMV(e.R,this.m_axis.GetNegative()),i=this.m_proxyA.GetSupportVertex(o),r=this.m_proxyB.GetSupportVertex(n),l=a.MulX(t,i),u=a.MulX(e,r),c=(u.x-l.x)*this.m_axis.x+(u.y-l.y)*this.m_axis.y;case M.e_faceA:return p=a.MulMV(t.R,this.m_axis),l=a.MulX(t,this.m_localPoint),n=a.MulTMV(e.R,p.GetNegative()),r=this.m_proxyB.GetSupportVertex(n),u=a.MulX(e,r),c=(u.x-l.x)*p.x+(u.y-l.y)*p.y;case M.e_faceB:return p=a.MulMV(e.R,this.m_axis),u=a.MulX(e,this.m_localPoint),o=a.MulTMV(t.R,p.GetNegative()),i=this.m_proxyA.GetSupportVertex(o),l=a.MulX(t,i),c=(l.x-u.x)*p.x+(l.y-u.y)*p.y;default:return s.b2Assert(!1),0}},o.postDefs.push(function(){o.Collision.b2SeparationFunction.e_points=1,o.Collision.b2SeparationFunction.e_faceA=2,o.Collision.b2SeparationFunction.e_faceB=4}),V.b2Simplex=function(){this.m_v1=new B,this.m_v2=new B,this.m_v3=new B,this.m_vertices=new n(3)},V.prototype.b2Simplex=function(){this.m_vertices[0]=this.m_v1,this.m_vertices[1]=this.m_v2,this.m_vertices[2]=this.m_v3},V.prototype.ReadCache=function(t,e,o,n,i){s.b2Assert(0<=t.count&&t.count<=3);var r,l;this.m_count=t.count;for(var u=this.m_vertices,p=0;p<this.m_count;p++){var c=u[p];c.indexA=t.indexA[p],c.indexB=t.indexB[p],r=e.GetVertex(c.indexA),l=n.GetVertex(c.indexB),c.wA=a.MulX(o,r),c.wB=a.MulX(i,l),c.w=a.SubtractVV(c.wB,c.wA),c.a=0}if(this.m_count>1){var h=t.metric,m=this.GetMetric();(m<.5*h||2*h<m||m<Number.MIN_VALUE)&&(this.m_count=0)}0==this.m_count&&(c=u[0],c.indexA=0,c.indexB=0,r=e.GetVertex(0),l=n.GetVertex(0),c.wA=a.MulX(o,r),c.wB=a.MulX(i,l),c.w=a.SubtractVV(c.wB,c.wA),this.m_count=1)},V.prototype.WriteCache=function(t){t.metric=this.GetMetric(),t.count=o.parseUInt(this.m_count);for(var e=this.m_vertices,n=0;n<this.m_count;n++)t.indexA[n]=o.parseUInt(e[n].indexA),t.indexB[n]=o.parseUInt(e[n].indexB)},V.prototype.GetSearchDirection=function(){switch(this.m_count){case 1:return this.m_v1.w.GetNegative();case 2:var t=a.SubtractVV(this.m_v2.w,this.m_v1.w),e=a.CrossVV(t,this.m_v1.w.GetNegative());return e>0?a.CrossFV(1,t):a.CrossVF(t,1);default:return s.b2Assert(!1),new p}},V.prototype.GetClosestPoint=function(){switch(this.m_count){case 0:return s.b2Assert(!1),new p;case 1:return this.m_v1.w;case 2:return new p(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);default:return s.b2Assert(!1),new p}},V.prototype.GetWitnessPoints=function(t,e){switch(this.m_count){case 0:s.b2Assert(!1);break;case 1:t.SetV(this.m_v1.wA),e.SetV(this.m_v1.wB);break;case 2:t.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x,t.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y,e.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x,e.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:e.x=t.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x,e.y=t.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:s.b2Assert(!1)}},V.prototype.GetMetric=function(){switch(this.m_count){case 0:return s.b2Assert(!1),0;case 1:return 0;case 2:return a.SubtractVV(this.m_v1.w,this.m_v2.w).Length();case 3:return a.CrossVV(a.SubtractVV(this.m_v2.w,this.m_v1.w),a.SubtractVV(this.m_v3.w,this.m_v1.w));default:return s.b2Assert(!1),0}},V.prototype.Solve2=function(){var t=this.m_v1.w,e=this.m_v2.w,o=a.SubtractVV(e,t),n=-(t.x*o.x+t.y*o.y);if(n<=0)return this.m_v1.a=1,void(this.m_count=1);var i=e.x*o.x+e.y*o.y;if(i<=0)return this.m_v2.a=1,this.m_count=1,void this.m_v1.Set(this.m_v2);var r=1/(i+n);this.m_v1.a=i*r,this.m_v2.a=n*r,this.m_count=2},V.prototype.Solve3=function(){var t=this.m_v1.w,e=this.m_v2.w,o=this.m_v3.w,n=a.SubtractVV(e,t),i=a.Dot(t,n),r=a.Dot(e,n),s=r,l=-i,u=a.SubtractVV(o,t),p=a.Dot(t,u),c=a.Dot(o,u),h=c,m=-p,d=a.SubtractVV(o,e),_=a.Dot(e,d),y=a.Dot(o,d),f=y,v=-_,x=a.CrossVV(n,u),g=x*a.CrossVV(e,o),b=x*a.CrossVV(o,t),C=x*a.CrossVV(t,e);if(l<=0&&m<=0)return this.m_v1.a=1,void(this.m_count=1);if(s>0&&l>0&&C<=0){var E=1/(s+l);return this.m_v1.a=s*E,this.m_v2.a=l*E,void(this.m_count=2)}if(h>0&&m>0&&b<=0){var P=1/(h+m);return this.m_v1.a=h*P,this.m_v3.a=m*P,this.m_count=2,void this.m_v2.Set(this.m_v3)}if(s<=0&&v<=0)return this.m_v2.a=1,this.m_count=1,void this.m_v1.Set(this.m_v2);if(h<=0&&f<=0)return this.m_v3.a=1,this.m_count=1,void this.m_v1.Set(this.m_v3);if(f>0&&v>0&&g<=0){var D=1/(f+v);return this.m_v2.a=f*D,this.m_v3.a=v*D,this.m_count=2,void this.m_v1.Set(this.m_v3)}var S=1/(g+b+C);this.m_v1.a=g*S,this.m_v2.a=b*S,this.m_v3.a=C*S,this.m_count=3},T.b2SimplexCache=function(){this.indexA=new i(3),this.indexB=new i(3)},B.b2SimplexVertex=function(){},B.prototype.Set=function(t){this.wA.SetV(t.wA),this.wB.SetV(t.wB),this.w.SetV(t.w),this.a=t.a,this.indexA=t.indexA,this.indexB=t.indexB},O.b2TimeOfImpact=function(){},O.TimeOfImpact=function(t){++O.b2_toiCalls;var e=t.proxyA,o=t.proxyB,n=t.sweepA,i=t.sweepB;s.b2Assert(n.t0==i.t0),s.b2Assert(1-n.t0>Number.MIN_VALUE);var r=e.m_radius+o.m_radius,l=t.tolerance,u=0,p=1e3,c=0,h=0;for(O.s_cache.count=0,O.s_distanceInput.useRadii=!1;;){if(n.GetTransform(O.s_xfA,u),i.GetTransform(O.s_xfB,u),O.s_distanceInput.proxyA=e,O.s_distanceInput.proxyB=o,O.s_distanceInput.transformA=O.s_xfA,O.s_distanceInput.transformB=O.s_xfB,f.Distance(O.s_distanceOutput,O.s_cache,O.s_distanceInput),O.s_distanceOutput.distance<=0){u=1;break}O.s_fcn.Initialize(O.s_cache,e,O.s_xfA,o,O.s_xfB);var m=O.s_fcn.Evaluate(O.s_xfA,O.s_xfB);if(m<=0){u=1;break}if(0==c&&(h=m>r?a.Max(r-l,.75*r):a.Max(m-l,.02*r)),m-h<.5*l){if(0==c){u=1;break}break}var d=u,_=u,y=1,v=m;n.GetTransform(O.s_xfA,y),i.GetTransform(O.s_xfB,y);var x=O.s_fcn.Evaluate(O.s_xfA,O.s_xfB);if(x>=h){u=1;break}for(var g=0;;){var b=0;b=1&g?_+(h-v)*(y-_)/(x-v):.5*(_+y),n.GetTransform(O.s_xfA,b),i.GetTransform(O.s_xfB,b);var C=O.s_fcn.Evaluate(O.s_xfA,O.s_xfB);if(a.Abs(C-h)<.025*l){d=b;break}if(C>h?(_=b,v=C):(y=b,x=C),++g,++O.b2_toiRootIters,50==g)break}if(O.b2_toiMaxRootIters=a.Max(O.b2_toiMaxRootIters,g),d<(1+100*Number.MIN_VALUE)*u)break;if(u=d,c++,++O.b2_toiIters,c==p)break}return O.b2_toiMaxIters=a.Max(O.b2_toiMaxIters,c),u},o.postDefs.push(function(){o.Collision.b2TimeOfImpact.b2_toiCalls=0,o.Collision.b2TimeOfImpact.b2_toiIters=0,o.Collision.b2TimeOfImpact.b2_toiMaxIters=0,o.Collision.b2TimeOfImpact.b2_toiRootIters=0,o.Collision.b2TimeOfImpact.b2_toiMaxRootIters=0,o.Collision.b2TimeOfImpact.s_cache=new T,o.Collision.b2TimeOfImpact.s_distanceInput=new v,o.Collision.b2TimeOfImpact.s_xfA=new u,o.Collision.b2TimeOfImpact.s_xfB=new u,o.Collision.b2TimeOfImpact.s_fcn=new M,o.Collision.b2TimeOfImpact.s_distanceOutput=new x}),L.b2TOIInput=function(){this.proxyA=new g,this.proxyB=new g,this.sweepA=new l,this.sweepB=new l},R.b2WorldManifold=function(){this.m_normal=new p},R.prototype.b2WorldManifold=function(){this.m_points=new n(s.b2_maxManifoldPoints);for(var t=0;t<s.b2_maxManifoldPoints;t++)this.m_points[t]=new p},R.prototype.Initialize=function(t,e,o,n,i){if(void 0===o&&(o=0),void 0===i&&(i=0),0!=t.m_pointCount){var r,s,a=0,l=0,u=0,p=0,c=0,h=0,m=0;switch(t.m_type){case D.e_circles:s=e.R,r=t.m_localPoint;var d=e.position.x+s.col1.x*r.x+s.col2.x*r.y,_=e.position.y+s.col1.y*r.x+s.col2.y*r.y;s=n.R,r=t.m_points[0].m_localPoint;var y=n.position.x+s.col1.x*r.x+s.col2.x*r.y,f=n.position.y+s.col1.y*r.x+s.col2.y*r.y,v=y-d,x=f-_,g=v*v+x*x;if(g>Number.MIN_VALUE*Number.MIN_VALUE){var b=Math.sqrt(g);this.m_normal.x=v/b,this.m_normal.y=x/b}else this.m_normal.x=1,this.m_normal.y=0;var C=d+o*this.m_normal.x,E=_+o*this.m_normal.y,P=y-i*this.m_normal.x,S=f-i*this.m_normal.y;this.m_points[0].x=.5*(C+P),this.m_points[0].y=.5*(E+S);break;case D.e_faceA:for(s=e.R,r=t.m_localPlaneNormal,l=s.col1.x*r.x+s.col2.x*r.y,u=s.col1.y*r.x+s.col2.y*r.y,s=e.R,r=t.m_localPoint,p=e.position.x+s.col1.x*r.x+s.col2.x*r.y,c=e.position.y+s.col1.y*r.x+s.col2.y*r.y,this.m_normal.x=l,this.m_normal.y=u,a=0;a<t.m_pointCount;a++)s=n.R,r=t.m_points[a].m_localPoint,h=n.position.x+s.col1.x*r.x+s.col2.x*r.y,m=n.position.y+s.col1.y*r.x+s.col2.y*r.y,this.m_points[a].x=h+.5*(o-(h-p)*l-(m-c)*u-i)*l,this.m_points[a].y=m+.5*(o-(h-p)*l-(m-c)*u-i)*u;break;case D.e_faceB:for(s=n.R,r=t.m_localPlaneNormal,l=s.col1.x*r.x+s.col2.x*r.y,u=s.col1.y*r.x+s.col2.y*r.y,s=n.R,r=t.m_localPoint,p=n.position.x+s.col1.x*r.x+s.col2.x*r.y,c=n.position.y+s.col1.y*r.x+s.col2.y*r.y,this.m_normal.x=-l,this.m_normal.y=-u,a=0;a<t.m_pointCount;a++)s=e.R,r=t.m_points[a].m_localPoint,h=e.position.x+s.col1.x*r.x+s.col2.x*r.y,m=e.position.y+s.col1.y*r.x+s.col2.y*r.y,this.m_points[a].x=h+.5*(i-(h-p)*l-(m-c)*u-o)*l,this.m_points[a].y=m+.5*(i-(h-p)*l-(m-c)*u-o)*u}}},k.ClipVertex=function(){this.v=new p,this.id=new _},k.prototype.Set=function(t){this.v.SetV(t.v),this.id.Set(t.id)},F.Features=function(){},Object.defineProperty(F.prototype,"referenceEdge",{enumerable:!1,configurable:!0,get:function(){return this._referenceEdge}}),Object.defineProperty(F.prototype,"referenceEdge",{enumerable:!1,configurable:!0,set:function(t){void 0===t&&(t=0),this._referenceEdge=t,this._m_id._key=4294967040&this._m_id._key|255&this._referenceEdge}}),Object.defineProperty(F.prototype,"incidentEdge",{enumerable:!1,configurable:!0,get:function(){return this._incidentEdge}}),Object.defineProperty(F.prototype,"incidentEdge",{enumerable:!1,configurable:!0,set:function(t){void 0===t&&(t=0),this._incidentEdge=t,this._m_id._key=4294902015&this._m_id._key|this._incidentEdge<<8&65280}}),Object.defineProperty(F.prototype,"incidentVertex",{enumerable:!1,configurable:!0,get:function(){return this._incidentVertex}}),Object.defineProperty(F.prototype,"incidentVertex",{enumerable:!1,configurable:!0,set:function(t){void 0===t&&(t=0),this._incidentVertex=t,this._m_id._key=4278255615&this._m_id._key|this._incidentVertex<<16&16711680}}),Object.defineProperty(F.prototype,"flip",{enumerable:!1,configurable:!0,get:function(){return this._flip}}),Object.defineProperty(F.prototype,"flip",{enumerable:!1,configurable:!0,set:function(t){void 0===t&&(t=0),this._flip=t,this._m_id._key=16777215&this._m_id._key|this._flip<<24&4278190080}})}(),function(){var t=(o.Common.b2Color,o.Common.b2internal,o.Common.b2Settings),e=o.Collision.Shapes.b2CircleShape,r=o.Collision.Shapes.b2EdgeChainDef,s=o.Collision.Shapes.b2EdgeShape,a=o.Collision.Shapes.b2MassData,l=o.Collision.Shapes.b2PolygonShape,u=o.Collision.Shapes.b2Shape,p=o.Common.Math.b2Mat22,c=(o.Common.Math.b2Mat33,o.Common.Math.b2Math),h=(o.Common.Math.b2Sweep,o.Common.Math.b2Transform),m=o.Common.Math.b2Vec2,d=(o.Common.Math.b2Vec3,o.Dynamics.b2Body,o.Dynamics.b2BodyDef,o.Dynamics.b2ContactFilter,o.Dynamics.b2ContactImpulse,o.Dynamics.b2ContactListener,o.Dynamics.b2ContactManager,o.Dynamics.b2DebugDraw,o.Dynamics.b2DestructionListener,o.Dynamics.b2FilterData,o.Dynamics.b2Fixture,o.Dynamics.b2FixtureDef,o.Dynamics.b2Island,o.Dynamics.b2TimeStep,o.Dynamics.b2World,o.Collision.b2AABB,o.Collision.b2Bound,o.Collision.b2BoundValues,o.Collision.b2Collision,o.Collision.b2ContactID,o.Collision.b2ContactPoint,o.Collision.b2Distance),_=o.Collision.b2DistanceInput,y=o.Collision.b2DistanceOutput,f=o.Collision.b2DistanceProxy,v=(o.Collision.b2DynamicTree,o.Collision.b2DynamicTreeBroadPhase,o.Collision.b2DynamicTreeNode,o.Collision.b2DynamicTreePair,o.Collision.b2Manifold,o.Collision.b2ManifoldPoint,o.Collision.b2Point,o.Collision.b2RayCastInput,o.Collision.b2RayCastOutput,o.Collision.b2Segment,o.Collision.b2SeparationFunction,o.Collision.b2Simplex,o.Collision.b2SimplexCache);o.Collision.b2SimplexVertex,o.Collision.b2TimeOfImpact,o.Collision.b2TOIInput,o.Collision.b2WorldManifold,o.Collision.ClipVertex,o.Collision.Features,o.Collision.IBroadPhase;o.inherit(e,o.Collision.Shapes.b2Shape),e.prototype.__super=o.Collision.Shapes.b2Shape.prototype,e.b2CircleShape=function(){o.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments),this.m_p=new m},e.prototype.Copy=function(){var t=new e;return t.Set(this),t},e.prototype.Set=function(t){if(this.__super.Set.call(this,t),o.is(t,e)){var n=t instanceof e?t:null;this.m_p.SetV(n.m_p)}},e.prototype.TestPoint=function(t,e){var o=t.R,n=t.position.x+(o.col1.x*this.m_p.x+o.col2.x*this.m_p.y),i=t.position.y+(o.col1.y*this.m_p.x+o.col2.y*this.m_p.y);return n=e.x-n,i=e.y-i,n*n+i*i<=this.m_radius*this.m_radius},e.prototype.RayCast=function(t,e,o){var n=o.R,i=o.position.x+(n.col1.x*this.m_p.x+n.col2.x*this.m_p.y),r=o.position.y+(n.col1.y*this.m_p.x+n.col2.y*this.m_p.y),s=e.p1.x-i,a=e.p1.y-r,l=s*s+a*a-this.m_radius*this.m_radius,u=e.p2.x-e.p1.x,p=e.p2.y-e.p1.y,c=s*u+a*p,h=u*u+p*p,m=c*c-h*l;if(m<0||h<Number.MIN_VALUE)return!1;var d=-(c+Math.sqrt(m));return 0<=d&&d<=e.maxFraction*h&&(d/=h,t.fraction=d,t.normal.x=s+d*u,t.normal.y=a+d*p,t.normal.Normalize(),!0)},e.prototype.ComputeAABB=function(t,e){var o=e.R,n=e.position.x+(o.col1.x*this.m_p.x+o.col2.x*this.m_p.y),i=e.position.y+(o.col1.y*this.m_p.x+o.col2.y*this.m_p.y);t.lowerBound.Set(n-this.m_radius,i-this.m_radius),t.upperBound.Set(n+this.m_radius,i+this.m_radius)},e.prototype.ComputeMass=function(e,o){void 0===o&&(o=0),e.mass=o*t.b2_pi*this.m_radius*this.m_radius,e.center.SetV(this.m_p),e.I=e.mass*(.5*this.m_radius*this.m_radius+(this.m_p.x*this.m_p.x+this.m_p.y*this.m_p.y))},e.prototype.ComputeSubmergedArea=function(t,e,o,n){void 0===e&&(e=0);var i=c.MulX(o,this.m_p),r=-(c.Dot(t,i)-e);if(r<-this.m_radius+Number.MIN_VALUE)return 0;if(r>this.m_radius)return n.SetV(i),Math.PI*this.m_radius*this.m_radius;var s=this.m_radius*this.m_radius,a=r*r,l=s*(Math.asin(r/this.m_radius)+Math.PI/2)+r*Math.sqrt(s-a),u=-2/3*Math.pow(s-a,1.5)/l;return n.x=i.x+t.x*u,n.y=i.y+t.y*u,l},e.prototype.GetLocalPosition=function(){return this.m_p},e.prototype.SetLocalPosition=function(t){this.m_p.SetV(t)},e.prototype.GetRadius=function(){return this.m_radius},e.prototype.SetRadius=function(t){void 0===t&&(t=0),this.m_radius=t},e.prototype.b2CircleShape=function(t){void 0===t&&(t=0),this.__super.b2Shape.call(this),this.m_type=u.e_circleShape,this.m_radius=t},r.b2EdgeChainDef=function(){},r.prototype.b2EdgeChainDef=function(){this.vertexCount=0,this.isALoop=!0,this.vertices=[]},o.inherit(s,o.Collision.Shapes.b2Shape),s.prototype.__super=o.Collision.Shapes.b2Shape.prototype,s.b2EdgeShape=function(){o.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments),this.s_supportVec=new m,this.m_v1=new m,this.m_v2=new m,this.m_coreV1=new m,this.m_coreV2=new m,this.m_normal=new m,this.m_direction=new m,this.m_cornerDir1=new m,this.m_cornerDir2=new m},s.prototype.TestPoint=function(t,e){return!1},s.prototype.RayCast=function(t,e,o){var n,i=e.p2.x-e.p1.x,r=e.p2.y-e.p1.y;n=o.R;var s=o.position.x+(n.col1.x*this.m_v1.x+n.col2.x*this.m_v1.y),a=o.position.y+(n.col1.y*this.m_v1.x+n.col2.y*this.m_v1.y),l=o.position.y+(n.col1.y*this.m_v2.x+n.col2.y*this.m_v2.y)-a,u=-(o.position.x+(n.col1.x*this.m_v2.x+n.col2.x*this.m_v2.y)-s),p=100*Number.MIN_VALUE,c=-(i*l+r*u);if(c>p){var h=e.p1.x-s,m=e.p1.y-a,d=h*l+m*u;if(0<=d&&d<=e.maxFraction*c){var _=-i*m+r*h;if(-p*c<=_&&_<=c*(1+p)){d/=c,t.fraction=d;var y=Math.sqrt(l*l+u*u);return t.normal.x=l/y,t.normal.y=u/y,!0}}}return!1},s.prototype.ComputeAABB=function(t,e){var o=e.R,n=e.position.x+(o.col1.x*this.m_v1.x+o.col2.x*this.m_v1.y),i=e.position.y+(o.col1.y*this.m_v1.x+o.col2.y*this.m_v1.y),r=e.position.x+(o.col1.x*this.m_v2.x+o.col2.x*this.m_v2.y),s=e.position.y+(o.col1.y*this.m_v2.x+o.col2.y*this.m_v2.y);n<r?(t.lowerBound.x=n,t.upperBound.x=r):(t.lowerBound.x=r,t.upperBound.x=n),i<s?(t.lowerBound.y=i,t.upperBound.y=s):(t.lowerBound.y=s,t.upperBound.y=i)},s.prototype.ComputeMass=function(t,e){void 0===e&&(e=0),t.mass=0,t.center.SetV(this.m_v1),t.I=0},s.prototype.ComputeSubmergedArea=function(t,e,o,n){void 0===e&&(e=0);var i=new m(t.x*e,t.y*e),r=c.MulX(o,this.m_v1),s=c.MulX(o,this.m_v2),a=c.Dot(t,r)-e,l=c.Dot(t,s)-e;if(a>0){if(l>0)return 0;r.x=-l/(a-l)*r.x+a/(a-l)*s.x,r.y=-l/(a-l)*r.y+a/(a-l)*s.y}else l>0&&(s.x=-l/(a-l)*r.x+a/(a-l)*s.x,s.y=-l/(a-l)*r.y+a/(a-l)*s.y);return n.x=(i.x+r.x+s.x)/3,n.y=(i.y+r.y+s.y)/3,.5*((r.x-i.x)*(s.y-i.y)-(r.y-i.y)*(s.x-i.x))},s.prototype.GetLength=function(){return this.m_length},s.prototype.GetVertex1=function(){return this.m_v1},s.prototype.GetVertex2=function(){return this.m_v2},s.prototype.GetCoreVertex1=function(){return this.m_coreV1},s.prototype.GetCoreVertex2=function(){return this.m_coreV2},s.prototype.GetNormalVector=function(){return this.m_normal},s.prototype.GetDirectionVector=function(){return this.m_direction},s.prototype.GetCorner1Vector=function(){return this.m_cornerDir1},s.prototype.GetCorner2Vector=function(){return this.m_cornerDir2},s.prototype.Corner1IsConvex=function(){return this.m_cornerConvex1},s.prototype.Corner2IsConvex=function(){return this.m_cornerConvex2},s.prototype.GetFirstVertex=function(t){var e=t.R;return new m(t.position.x+(e.col1.x*this.m_coreV1.x+e.col2.x*this.m_coreV1.y),t.position.y+(e.col1.y*this.m_coreV1.x+e.col2.y*this.m_coreV1.y))},s.prototype.GetNextEdge=function(){return this.m_nextEdge},s.prototype.GetPrevEdge=function(){return this.m_prevEdge},s.prototype.Support=function(t,e,o){void 0===e&&(e=0),void 0===o&&(o=0);var n=t.R,i=t.position.x+(n.col1.x*this.m_coreV1.x+n.col2.x*this.m_coreV1.y),r=t.position.y+(n.col1.y*this.m_coreV1.x+n.col2.y*this.m_coreV1.y),s=t.position.x+(n.col1.x*this.m_coreV2.x+n.col2.x*this.m_coreV2.y),a=t.position.y+(n.col1.y*this.m_coreV2.x+n.col2.y*this.m_coreV2.y);return i*e+r*o>s*e+a*o?(this.s_supportVec.x=i,this.s_supportVec.y=r):(this.s_supportVec.x=s,this.s_supportVec.y=a),this.s_supportVec},s.prototype.b2EdgeShape=function(e,o){this.__super.b2Shape.call(this),this.m_type=u.e_edgeShape,this.m_prevEdge=null,this.m_nextEdge=null,this.m_v1=e,this.m_v2=o,this.m_direction.Set(this.m_v2.x-this.m_v1.x,this.m_v2.y-this.m_v1.y),this.m_length=this.m_direction.Normalize(),this.m_normal.Set(this.m_direction.y,-this.m_direction.x),this.m_coreV1.Set(-t.b2_toiSlop*(this.m_normal.x-this.m_direction.x)+this.m_v1.x,-t.b2_toiSlop*(this.m_normal.y-this.m_direction.y)+this.m_v1.y),this.m_coreV2.Set(-t.b2_toiSlop*(this.m_normal.x+this.m_direction.x)+this.m_v2.x,-t.b2_toiSlop*(this.m_normal.y+this.m_direction.y)+this.m_v2.y),this.m_cornerDir1=this.m_normal,this.m_cornerDir2.Set(-this.m_normal.x,-this.m_normal.y)},s.prototype.SetPrevEdge=function(t,e,o,n){this.m_prevEdge=t,this.m_coreV1=e,this.m_cornerDir1=o,this.m_cornerConvex1=n},s.prototype.SetNextEdge=function(t,e,o,n){this.m_nextEdge=t,this.m_coreV2=e,this.m_cornerDir2=o,this.m_cornerConvex2=n},a.b2MassData=function(){this.mass=0,this.center=new m(0,0),this.I=0},o.inherit(l,o.Collision.Shapes.b2Shape),l.prototype.__super=o.Collision.Shapes.b2Shape.prototype,l.b2PolygonShape=function(){o.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments)},l.prototype.Copy=function(){var t=new l;return t.Set(this),t},l.prototype.Set=function(t){if(this.__super.Set.call(this,t),o.is(t,l)){var e=t instanceof l?t:null;this.m_centroid.SetV(e.m_centroid),this.m_vertexCount=e.m_vertexCount,this.Reserve(this.m_vertexCount);for(var n=0;n<this.m_vertexCount;n++)this.m_vertices[n].SetV(e.m_vertices[n]),this.m_normals[n].SetV(e.m_normals[n])}},l.prototype.SetAsArray=function(t,e){void 0===e&&(e=0);var o,i=new n,r=0;for(r=0;r<t.length;++r)o=t[r],i.push(o);this.SetAsVector(i,e)},l.AsArray=function(t,e){void 0===e&&(e=0);var o=new l;return o.SetAsArray(t,e),o},l.prototype.SetAsVector=function(e,o){void 0===o&&(o=0),0==o&&(o=e.length),t.b2Assert(2<=o),this.m_vertexCount=o,this.Reserve(o);var n=0;for(n=0;n<this.m_vertexCount;n++)this.m_vertices[n].SetV(e[n]);for(n=0;n<this.m_vertexCount;++n){var i=parseInt(n),r=parseInt(n+1<this.m_vertexCount?n+1:0),s=c.SubtractVV(this.m_vertices[r],this.m_vertices[i]);t.b2Assert(s.LengthSquared()>Number.MIN_VALUE),this.m_normals[n].SetV(c.CrossVF(s,1)),this.m_normals[n].Normalize()}this.m_centroid=l.ComputeCentroid(this.m_vertices,this.m_vertexCount)},l.AsVector=function(t,e){void 0===e&&(e=0);var o=new l;return o.SetAsVector(t,e),o},l.prototype.SetAsBox=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.m_vertexCount=4,this.Reserve(4),this.m_vertices[0].Set(-t,-e),this.m_vertices[1].Set(t,-e),this.m_vertices[2].Set(t,e),
this.m_vertices[3].Set(-t,e),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),this.m_centroid.SetZero()},l.AsBox=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var o=new l;return o.SetAsBox(t,e),o},l.prototype.SetAsOrientedBox=function(t,e,o,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===o&&(o=null),void 0===n&&(n=0),this.m_vertexCount=4,this.Reserve(4),this.m_vertices[0].Set(-t,-e),this.m_vertices[1].Set(t,-e),this.m_vertices[2].Set(t,e),this.m_vertices[3].Set(-t,e),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),this.m_centroid=o;var i=new h;i.position=o,i.R.Set(n);for(var r=0;r<this.m_vertexCount;++r)this.m_vertices[r]=c.MulX(i,this.m_vertices[r]),this.m_normals[r]=c.MulMV(i.R,this.m_normals[r])},l.AsOrientedBox=function(t,e,o,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===o&&(o=null),void 0===n&&(n=0);var i=new l;return i.SetAsOrientedBox(t,e,o,n),i},l.prototype.SetAsEdge=function(t,e){this.m_vertexCount=2,this.Reserve(2),this.m_vertices[0].SetV(t),this.m_vertices[1].SetV(e),this.m_centroid.x=.5*(t.x+e.x),this.m_centroid.y=.5*(t.y+e.y),this.m_normals[0]=c.CrossVF(c.SubtractVV(e,t),1),this.m_normals[0].Normalize(),this.m_normals[1].x=-this.m_normals[0].x,this.m_normals[1].y=-this.m_normals[0].y},l.AsEdge=function(t,e){var o=new l;return o.SetAsEdge(t,e),o},l.prototype.TestPoint=function(t,e){for(var o,n=t.R,i=e.x-t.position.x,r=e.y-t.position.y,s=i*n.col1.x+r*n.col1.y,a=i*n.col2.x+r*n.col2.y,l=0;l<this.m_vertexCount;++l){o=this.m_vertices[l],i=s-o.x,r=a-o.y,o=this.m_normals[l];var u=o.x*i+o.y*r;if(u>0)return!1}return!0},l.prototype.RayCast=function(t,e,o){var n,i,r=0,s=e.maxFraction,a=0,l=0;a=e.p1.x-o.position.x,l=e.p1.y-o.position.y,n=o.R;var u=a*n.col1.x+l*n.col1.y,p=a*n.col2.x+l*n.col2.y;a=e.p2.x-o.position.x,l=e.p2.y-o.position.y,n=o.R;for(var c=a*n.col1.x+l*n.col1.y,h=a*n.col2.x+l*n.col2.y,m=c-u,d=h-p,_=parseInt(-1),y=0;y<this.m_vertexCount;++y){i=this.m_vertices[y],a=i.x-u,l=i.y-p,i=this.m_normals[y];var f=i.x*a+i.y*l,v=i.x*m+i.y*d;if(0==v){if(f<0)return!1}else v<0&&f<r*v?(r=f/v,_=y):v>0&&f<s*v&&(s=f/v);if(s<r-Number.MIN_VALUE)return!1}return _>=0&&(t.fraction=r,n=o.R,i=this.m_normals[_],t.normal.x=n.col1.x*i.x+n.col2.x*i.y,t.normal.y=n.col1.y*i.x+n.col2.y*i.y,!0)},l.prototype.ComputeAABB=function(t,e){for(var o=e.R,n=this.m_vertices[0],i=e.position.x+(o.col1.x*n.x+o.col2.x*n.y),r=e.position.y+(o.col1.y*n.x+o.col2.y*n.y),s=i,a=r,l=1;l<this.m_vertexCount;++l){n=this.m_vertices[l];var u=e.position.x+(o.col1.x*n.x+o.col2.x*n.y),p=e.position.y+(o.col1.y*n.x+o.col2.y*n.y);i=i<u?i:u,r=r<p?r:p,s=s>u?s:u,a=a>p?a:p}t.lowerBound.x=i-this.m_radius,t.lowerBound.y=r-this.m_radius,t.upperBound.x=s+this.m_radius,t.upperBound.y=a+this.m_radius},l.prototype.ComputeMass=function(t,e){if(void 0===e&&(e=0),2==this.m_vertexCount)return t.center.x=.5*(this.m_vertices[0].x+this.m_vertices[1].x),t.center.y=.5*(this.m_vertices[0].y+this.m_vertices[1].y),t.mass=0,void(t.I=0);for(var o=0,n=0,i=0,r=0,s=0,a=0,l=1/3,u=0;u<this.m_vertexCount;++u){var p=this.m_vertices[u],c=u+1<this.m_vertexCount?this.m_vertices[parseInt(u+1)]:this.m_vertices[0],h=p.x-s,m=p.y-a,d=c.x-s,_=c.y-a,y=h*_-m*d,f=.5*y;i+=f,o+=f*l*(s+p.x+c.x),n+=f*l*(a+p.y+c.y);var v=s,x=a,g=h,b=m,C=d,E=_,P=l*(.25*(g*g+C*g+C*C)+(v*g+v*C))+.5*v*v,D=l*(.25*(b*b+E*b+E*E)+(x*b+x*E))+.5*x*x;r+=y*(P+D)}t.mass=e*i,o*=1/i,n*=1/i,t.center.Set(o,n),t.I=e*r},l.prototype.ComputeSubmergedArea=function(t,e,o,n){void 0===e&&(e=0);var r=c.MulTMV(o.R,t),s=e-c.Dot(t,o.position),l=new i,u=0,p=parseInt(-1),h=parseInt(-1),d=!1,_=0;for(_=0;_<this.m_vertexCount;++_){l[_]=c.Dot(r,this.m_vertices[_])-s;var y=l[_]<-Number.MIN_VALUE;_>0&&(y?d||(p=_-1,u++):d&&(h=_-1,u++)),d=y}switch(u){case 0:if(d){var f=new a;return this.ComputeMass(f,1),n.SetV(c.MulX(o,f.center)),f.mass}return 0;case 1:p==-1?p=this.m_vertexCount-1:h=this.m_vertexCount-1}var v,x=parseInt((p+1)%this.m_vertexCount),g=parseInt((h+1)%this.m_vertexCount),b=(0-l[p])/(l[x]-l[p]),C=(0-l[h])/(l[g]-l[h]),E=new m(this.m_vertices[p].x*(1-b)+this.m_vertices[x].x*b,this.m_vertices[p].y*(1-b)+this.m_vertices[x].y*b),P=new m(this.m_vertices[h].x*(1-C)+this.m_vertices[g].x*C,this.m_vertices[h].y*(1-C)+this.m_vertices[g].y*C),D=0,S=new m,N=this.m_vertices[x];for(_=x;_!=g;){_=(_+1)%this.m_vertexCount,v=_==g?P:this.m_vertices[_];var w=.5*((N.x-E.x)*(v.y-E.y)-(N.y-E.y)*(v.x-E.x));D+=w,S.x+=w*(E.x+N.x+v.x)/3,S.y+=w*(E.y+N.y+v.y)/3,N=v}return S.Multiply(1/D),n.SetV(c.MulX(o,S)),D},l.prototype.GetVertexCount=function(){return this.m_vertexCount},l.prototype.GetVertices=function(){return this.m_vertices},l.prototype.GetNormals=function(){return this.m_normals},l.prototype.GetSupport=function(t){for(var e=0,o=this.m_vertices[0].x*t.x+this.m_vertices[0].y*t.y,n=1;n<this.m_vertexCount;++n){var i=this.m_vertices[n].x*t.x+this.m_vertices[n].y*t.y;i>o&&(e=n,o=i)}return e},l.prototype.GetSupportVertex=function(t){for(var e=0,o=this.m_vertices[0].x*t.x+this.m_vertices[0].y*t.y,n=1;n<this.m_vertexCount;++n){var i=this.m_vertices[n].x*t.x+this.m_vertices[n].y*t.y;i>o&&(e=n,o=i)}return this.m_vertices[e]},l.prototype.Validate=function(){return!1},l.prototype.b2PolygonShape=function(){this.__super.b2Shape.call(this),this.m_type=u.e_polygonShape,this.m_centroid=new m,this.m_vertices=new n,this.m_normals=new n},l.prototype.Reserve=function(t){void 0===t&&(t=0);for(var e=parseInt(this.m_vertices.length);e<t;e++)this.m_vertices[e]=new m,this.m_normals[e]=new m},l.ComputeCentroid=function(t,e){void 0===e&&(e=0);for(var o=new m,n=0,i=0,r=0,s=1/3,a=0;a<e;++a){var l=t[a],u=a+1<e?t[parseInt(a+1)]:t[0],p=l.x-i,c=l.y-r,h=u.x-i,d=u.y-r,_=p*d-c*h,y=.5*_;n+=y,o.x+=y*s*(i+l.x+u.x),o.y+=y*s*(r+l.y+u.y)}return o.x*=1/n,o.y*=1/n,o},l.ComputeOBB=function(t,e,o){void 0===o&&(o=0);var i=0,r=new n(o+1);for(i=0;i<o;++i)r[i]=e[i];r[o]=r[0];var s=Number.MAX_VALUE;for(i=1;i<=o;++i){var a=r[parseInt(i-1)],l=r[i].x-a.x,u=r[i].y-a.y,p=Math.sqrt(l*l+u*u);l/=p,u/=p;for(var c=-u,h=l,m=Number.MAX_VALUE,d=Number.MAX_VALUE,_=-Number.MAX_VALUE,y=-Number.MAX_VALUE,f=0;f<o;++f){var v=r[f].x-a.x,x=r[f].y-a.y,g=l*v+u*x,b=c*v+h*x;g<m&&(m=g),b<d&&(d=b),g>_&&(_=g),b>y&&(y=b)}var C=(_-m)*(y-d);if(C<.95*s){s=C,t.R.col1.x=l,t.R.col1.y=u,t.R.col2.x=c,t.R.col2.y=h;var E=.5*(m+_),P=.5*(d+y),D=t.R;t.center.x=a.x+(D.col1.x*E+D.col2.x*P),t.center.y=a.y+(D.col1.y*E+D.col2.y*P),t.extents.x=.5*(_-m),t.extents.y=.5*(y-d)}}},o.postDefs.push(function(){o.Collision.Shapes.b2PolygonShape.s_mat=new p}),u.b2Shape=function(){},u.prototype.Copy=function(){return null},u.prototype.Set=function(t){this.m_radius=t.m_radius},u.prototype.GetType=function(){return this.m_type},u.prototype.TestPoint=function(t,e){return!1},u.prototype.RayCast=function(t,e,o){return!1},u.prototype.ComputeAABB=function(t,e){},u.prototype.ComputeMass=function(t,e){void 0===e&&(e=0)},u.prototype.ComputeSubmergedArea=function(t,e,o,n){return void 0===e&&(e=0),0},u.TestOverlap=function(t,e,o,n){var i=new _;i.proxyA=new f,i.proxyA.Set(t),i.proxyB=new f,i.proxyB.Set(o),i.transformA=e,i.transformB=n,i.useRadii=!0;var r=new v;r.count=0;var s=new y;return d.Distance(s,r,i),s.distance<10*Number.MIN_VALUE},u.prototype.b2Shape=function(){this.m_type=u.e_unknownShape,this.m_radius=t.b2_linearSlop},o.postDefs.push(function(){o.Collision.Shapes.b2Shape.e_unknownShape=parseInt(-1),o.Collision.Shapes.b2Shape.e_circleShape=0,o.Collision.Shapes.b2Shape.e_polygonShape=1,o.Collision.Shapes.b2Shape.e_edgeShape=2,o.Collision.Shapes.b2Shape.e_shapeTypeCount=3,o.Collision.Shapes.b2Shape.e_hitCollide=1,o.Collision.Shapes.b2Shape.e_missCollide=0,o.Collision.Shapes.b2Shape.e_startsInsideCollide=parseInt(-1)})}(),function(){var t=o.Common.b2Color,e=(o.Common.b2internal,o.Common.b2Settings),n=(o.Common.Math.b2Mat22,o.Common.Math.b2Mat33,o.Common.Math.b2Math);o.Common.Math.b2Sweep,o.Common.Math.b2Transform,o.Common.Math.b2Vec2,o.Common.Math.b2Vec3;t.b2Color=function(){this._r=0,this._g=0,this._b=0},t.prototype.b2Color=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this._r=o.parseUInt(255*n.Clamp(t,0,1)),this._g=o.parseUInt(255*n.Clamp(e,0,1)),this._b=o.parseUInt(255*n.Clamp(i,0,1))},t.prototype.Set=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this._r=o.parseUInt(255*n.Clamp(t,0,1)),this._g=o.parseUInt(255*n.Clamp(e,0,1)),this._b=o.parseUInt(255*n.Clamp(i,0,1))},Object.defineProperty(t.prototype,"r",{enumerable:!1,configurable:!0,set:function(t){void 0===t&&(t=0),this._r=o.parseUInt(255*n.Clamp(t,0,1))}}),Object.defineProperty(t.prototype,"g",{enumerable:!1,configurable:!0,set:function(t){void 0===t&&(t=0),this._g=o.parseUInt(255*n.Clamp(t,0,1))}}),Object.defineProperty(t.prototype,"b",{enumerable:!1,configurable:!0,set:function(t){void 0===t&&(t=0),this._b=o.parseUInt(255*n.Clamp(t,0,1))}}),Object.defineProperty(t.prototype,"color",{enumerable:!1,configurable:!0,get:function(){return this._r<<16|this._g<<8|this._b}}),e.b2Settings=function(){},e.b2MixFriction=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),Math.sqrt(t*e)},e.b2MixRestitution=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),t>e?t:e},e.b2Assert=function(t){if(!t)throw"Assertion Failed"},o.postDefs.push(function(){o.Common.b2Settings.VERSION="2.1alpha",o.Common.b2Settings.USHRT_MAX=65535,o.Common.b2Settings.b2_pi=Math.PI,o.Common.b2Settings.b2_maxManifoldPoints=2,o.Common.b2Settings.b2_aabbExtension=.1,o.Common.b2Settings.b2_aabbMultiplier=2,o.Common.b2Settings.b2_polygonRadius=2*e.b2_linearSlop,o.Common.b2Settings.b2_linearSlop=.005,o.Common.b2Settings.b2_angularSlop=2/180*e.b2_pi,o.Common.b2Settings.b2_toiSlop=8*e.b2_linearSlop,o.Common.b2Settings.b2_maxTOIContactsPerIsland=32,o.Common.b2Settings.b2_maxTOIJointsPerIsland=32,o.Common.b2Settings.b2_velocityThreshold=1,o.Common.b2Settings.b2_maxLinearCorrection=.2,o.Common.b2Settings.b2_maxAngularCorrection=8/180*e.b2_pi,o.Common.b2Settings.b2_maxTranslation=2,o.Common.b2Settings.b2_maxTranslationSquared=e.b2_maxTranslation*e.b2_maxTranslation,o.Common.b2Settings.b2_maxRotation=.5*e.b2_pi,o.Common.b2Settings.b2_maxRotationSquared=e.b2_maxRotation*e.b2_maxRotation,o.Common.b2Settings.b2_contactBaumgarte=.2,o.Common.b2Settings.b2_timeToSleep=.5,o.Common.b2Settings.b2_linearSleepTolerance=.01,o.Common.b2Settings.b2_angularSleepTolerance=2/180*e.b2_pi})}(),function(){var t=(o.Collision.b2AABB,o.Common.b2Color,o.Common.b2internal,o.Common.b2Settings,o.Common.Math.b2Mat22),e=o.Common.Math.b2Mat33,n=o.Common.Math.b2Math,i=o.Common.Math.b2Sweep,r=o.Common.Math.b2Transform,s=o.Common.Math.b2Vec2,a=o.Common.Math.b2Vec3;t.b2Mat22=function(){this.col1=new s,this.col2=new s},t.prototype.b2Mat22=function(){this.SetIdentity()},t.FromAngle=function(e){void 0===e&&(e=0);var o=new t;return o.Set(e),o},t.FromVV=function(e,o){var n=new t;return n.SetVV(e,o),n},t.prototype.Set=function(t){void 0===t&&(t=0);var e=Math.cos(t),o=Math.sin(t);this.col1.x=e,this.col2.x=-o,this.col1.y=o,this.col2.y=e},t.prototype.SetVV=function(t,e){this.col1.SetV(t),this.col2.SetV(e)},t.prototype.Copy=function(){var e=new t;return e.SetM(this),e},t.prototype.SetM=function(t){this.col1.SetV(t.col1),this.col2.SetV(t.col2)},t.prototype.AddM=function(t){this.col1.x+=t.col1.x,this.col1.y+=t.col1.y,this.col2.x+=t.col2.x,this.col2.y+=t.col2.y},t.prototype.SetIdentity=function(){this.col1.x=1,this.col2.x=0,this.col1.y=0,this.col2.y=1},t.prototype.SetZero=function(){this.col1.x=0,this.col2.x=0,this.col1.y=0,this.col2.y=0},t.prototype.GetAngle=function(){return Math.atan2(this.col1.y,this.col1.x)},t.prototype.GetInverse=function(t){var e=this.col1.x,o=this.col2.x,n=this.col1.y,i=this.col2.y,r=e*i-o*n;return 0!=r&&(r=1/r),t.col1.x=r*i,t.col2.x=-r*o,t.col1.y=-r*n,t.col2.y=r*e,t},t.prototype.Solve=function(t,e,o){void 0===e&&(e=0),void 0===o&&(o=0);var n=this.col1.x,i=this.col2.x,r=this.col1.y,s=this.col2.y,a=n*s-i*r;return 0!=a&&(a=1/a),t.x=a*(s*e-i*o),t.y=a*(n*o-r*e),t},t.prototype.Abs=function(){this.col1.Abs(),this.col2.Abs()},e.b2Mat33=function(){this.col1=new a,this.col2=new a,this.col3=new a},e.prototype.b2Mat33=function(t,e,o){void 0===t&&(t=null),void 0===e&&(e=null),void 0===o&&(o=null),t||e||o?(this.col1.SetV(t),this.col2.SetV(e),this.col3.SetV(o)):(this.col1.SetZero(),this.col2.SetZero(),this.col3.SetZero())},e.prototype.SetVVV=function(t,e,o){this.col1.SetV(t),this.col2.SetV(e),this.col3.SetV(o)},e.prototype.Copy=function(){return new e(this.col1,this.col2,this.col3)},e.prototype.SetM=function(t){this.col1.SetV(t.col1),this.col2.SetV(t.col2),this.col3.SetV(t.col3)},e.prototype.AddM=function(t){this.col1.x+=t.col1.x,this.col1.y+=t.col1.y,this.col1.z+=t.col1.z,this.col2.x+=t.col2.x,this.col2.y+=t.col2.y,this.col2.z+=t.col2.z,this.col3.x+=t.col3.x,this.col3.y+=t.col3.y,this.col3.z+=t.col3.z},e.prototype.SetIdentity=function(){this.col1.x=1,this.col2.x=0,this.col3.x=0,this.col1.y=0,this.col2.y=1,this.col3.y=0,this.col1.z=0,this.col2.z=0,this.col3.z=1},e.prototype.SetZero=function(){this.col1.x=0,this.col2.x=0,this.col3.x=0,this.col1.y=0,this.col2.y=0,this.col3.y=0,this.col1.z=0,this.col2.z=0,this.col3.z=0},e.prototype.Solve22=function(t,e,o){void 0===e&&(e=0),void 0===o&&(o=0);var n=this.col1.x,i=this.col2.x,r=this.col1.y,s=this.col2.y,a=n*s-i*r;return 0!=a&&(a=1/a),t.x=a*(s*e-i*o),t.y=a*(n*o-r*e),t},e.prototype.Solve33=function(t,e,o,n){void 0===e&&(e=0),void 0===o&&(o=0),void 0===n&&(n=0);var i=this.col1.x,r=this.col1.y,s=this.col1.z,a=this.col2.x,l=this.col2.y,u=this.col2.z,p=this.col3.x,c=this.col3.y,h=this.col3.z,m=i*(l*h-u*c)+r*(u*p-a*h)+s*(a*c-l*p);return 0!=m&&(m=1/m),t.x=m*(e*(l*h-u*c)+o*(u*p-a*h)+n*(a*c-l*p)),t.y=m*(i*(o*h-n*c)+r*(n*p-e*h)+s*(e*c-o*p)),t.z=m*(i*(l*n-u*o)+r*(u*e-a*n)+s*(a*o-l*e)),t},n.b2Math=function(){},n.IsValid=function(t){return void 0===t&&(t=0),isFinite(t)},n.Dot=function(t,e){return t.x*e.x+t.y*e.y},n.CrossVV=function(t,e){return t.x*e.y-t.y*e.x},n.CrossVF=function(t,e){void 0===e&&(e=0);var o=new s(e*t.y,-e*t.x);return o},n.CrossFV=function(t,e){void 0===t&&(t=0);var o=new s(-t*e.y,t*e.x);return o},n.MulMV=function(t,e){var o=new s(t.col1.x*e.x+t.col2.x*e.y,t.col1.y*e.x+t.col2.y*e.y);return o},n.MulTMV=function(t,e){var o=new s(n.Dot(e,t.col1),n.Dot(e,t.col2));return o},n.MulX=function(t,e){var o=n.MulMV(t.R,e);return o.x+=t.position.x,o.y+=t.position.y,o},n.MulXT=function(t,e){var o=n.SubtractVV(e,t.position),i=o.x*t.R.col1.x+o.y*t.R.col1.y;return o.y=o.x*t.R.col2.x+o.y*t.R.col2.y,o.x=i,o},n.AddVV=function(t,e){var o=new s(t.x+e.x,t.y+e.y);return o},n.SubtractVV=function(t,e){var o=new s(t.x-e.x,t.y-e.y);return o},n.Distance=function(t,e){var o=t.x-e.x,n=t.y-e.y;return Math.sqrt(o*o+n*n)},n.DistanceSquared=function(t,e){var o=t.x-e.x,n=t.y-e.y;return o*o+n*n},n.MulFV=function(t,e){void 0===t&&(t=0);var o=new s(t*e.x,t*e.y);return o},n.AddMM=function(e,o){var i=t.FromVV(n.AddVV(e.col1,o.col1),n.AddVV(e.col2,o.col2));return i},n.MulMM=function(e,o){var i=t.FromVV(n.MulMV(e,o.col1),n.MulMV(e,o.col2));return i},n.MulTMM=function(e,o){var i=new s(n.Dot(e.col1,o.col1),n.Dot(e.col2,o.col1)),r=new s(n.Dot(e.col1,o.col2),n.Dot(e.col2,o.col2)),a=t.FromVV(i,r);return a},n.Abs=function(t){return void 0===t&&(t=0),t>0?t:-t},n.AbsV=function(t){var e=new s(n.Abs(t.x),n.Abs(t.y));return e},n.AbsM=function(e){var o=t.FromVV(n.AbsV(e.col1),n.AbsV(e.col2));return o},n.Min=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),t<e?t:e},n.MinV=function(t,e){var o=new s(n.Min(t.x,e.x),n.Min(t.y,e.y));return o},n.Max=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),t>e?t:e},n.MaxV=function(t,e){var o=new s(n.Max(t.x,e.x),n.Max(t.y,e.y));return o},n.Clamp=function(t,e,o){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===o&&(o=0),t<e?e:t>o?o:t},n.ClampV=function(t,e,o){return n.MaxV(e,n.MinV(t,o))},n.Swap=function(t,e){var o=t[0];t[0]=e[0],e[0]=o},n.Random=function(){return 2*Math.random()-1},n.RandomRange=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var o=Math.random();return o=(e-t)*o+t},n.NextPowerOfTwo=function(t){return void 0===t&&(t=0),t|=t>>1&2147483647,t|=t>>2&1073741823,t|=t>>4&268435455,t|=t>>8&16777215,t|=t>>16&65535,t+1},n.IsPowerOfTwo=function(t){void 0===t&&(t=0);var e=t>0&&0==(t&t-1);return e},o.postDefs.push(function(){o.Common.Math.b2Math.b2Vec2_zero=new s(0,0),o.Common.Math.b2Math.b2Mat22_identity=t.FromVV(new s(1,0),new s(0,1)),o.Common.Math.b2Math.b2Transform_identity=new r(n.b2Vec2_zero,n.b2Mat22_identity)}),i.b2Sweep=function(){this.localCenter=new s,this.c0=new s,this.c=new s},i.prototype.Set=function(t){this.localCenter.SetV(t.localCenter),this.c0.SetV(t.c0),this.c.SetV(t.c),this.a0=t.a0,this.a=t.a,this.t0=t.t0},i.prototype.Copy=function(){var t=new i;return t.localCenter.SetV(this.localCenter),t.c0.SetV(this.c0),t.c.SetV(this.c),t.a0=this.a0,t.a=this.a,t.t0=this.t0,t},i.prototype.GetTransform=function(t,e){void 0===e&&(e=0),t.position.x=(1-e)*this.c0.x+e*this.c.x,t.position.y=(1-e)*this.c0.y+e*this.c.y;var o=(1-e)*this.a0+e*this.a;t.R.Set(o);var n=t.R;t.position.x-=n.col1.x*this.localCenter.x+n.col2.x*this.localCenter.y,t.position.y-=n.col1.y*this.localCenter.x+n.col2.y*this.localCenter.y},i.prototype.Advance=function(t){if(void 0===t&&(t=0),this.t0<t&&1-this.t0>Number.MIN_VALUE){var e=(t-this.t0)/(1-this.t0);this.c0.x=(1-e)*this.c0.x+e*this.c.x,this.c0.y=(1-e)*this.c0.y+e*this.c.y,this.a0=(1-e)*this.a0+e*this.a,this.t0=t}},r.b2Transform=function(){this.position=new s,this.R=new t},r.prototype.b2Transform=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),t&&(this.position.SetV(t),this.R.SetM(e))},r.prototype.Initialize=function(t,e){this.position.SetV(t),this.R.SetM(e)},r.prototype.SetIdentity=function(){this.position.SetZero(),this.R.SetIdentity()},r.prototype.Set=function(t){this.position.SetV(t.position),this.R.SetM(t.R)},r.prototype.GetAngle=function(){return Math.atan2(this.R.col1.y,this.R.col1.x)},s.b2Vec2=function(){},s.prototype.b2Vec2=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e},s.prototype.SetZero=function(){this.x=0,this.y=0},s.prototype.Set=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e},s.prototype.SetV=function(t){this.x=t.x,this.y=t.y},s.prototype.GetNegative=function(){return new s((-this.x),(-this.y))},s.prototype.NegativeSelf=function(){this.x=-this.x,this.y=-this.y},s.Make=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),new s(t,e)},s.prototype.Copy=function(){return new s(this.x,this.y)},s.prototype.Add=function(t){this.x+=t.x,this.y+=t.y},s.prototype.Subtract=function(t){this.x-=t.x,this.y-=t.y},s.prototype.Multiply=function(t){void 0===t&&(t=0),this.x*=t,this.y*=t},s.prototype.MulM=function(t){var e=this.x;this.x=t.col1.x*e+t.col2.x*this.y,this.y=t.col1.y*e+t.col2.y*this.y},s.prototype.MulTM=function(t){var e=n.Dot(this,t.col1);this.y=n.Dot(this,t.col2),this.x=e},s.prototype.CrossVF=function(t){void 0===t&&(t=0);var e=this.x;this.x=t*this.y,this.y=-t*e},s.prototype.CrossFV=function(t){void 0===t&&(t=0);var e=this.x;this.x=-t*this.y,this.y=t*e},s.prototype.MinV=function(t){this.x=this.x<t.x?this.x:t.x,this.y=this.y<t.y?this.y:t.y},s.prototype.MaxV=function(t){this.x=this.x>t.x?this.x:t.x,this.y=this.y>t.y?this.y:t.y},s.prototype.Abs=function(){this.x<0&&(this.x=-this.x),this.y<0&&(this.y=-this.y)},s.prototype.Length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},s.prototype.LengthSquared=function(){return this.x*this.x+this.y*this.y},s.prototype.Normalize=function(){var t=Math.sqrt(this.x*this.x+this.y*this.y);if(t<Number.MIN_VALUE)return 0;var e=1/t;return this.x*=e,this.y*=e,t},s.prototype.IsValid=function(){return n.IsValid(this.x)&&n.IsValid(this.y)},a.b2Vec3=function(){},a.prototype.b2Vec3=function(t,e,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===o&&(o=0),this.x=t,this.y=e,this.z=o},a.prototype.SetZero=function(){this.x=this.y=this.z=0},a.prototype.Set=function(t,e,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===o&&(o=0),this.x=t,this.y=e,this.z=o},a.prototype.SetV=function(t){this.x=t.x,this.y=t.y,this.z=t.z},a.prototype.GetNegative=function(){return new a((-this.x),(-this.y),(-this.z))},a.prototype.NegativeSelf=function(){this.x=-this.x,this.y=-this.y,this.z=-this.z},a.prototype.Copy=function(){return new a(this.x,this.y,this.z)},a.prototype.Add=function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},a.prototype.Subtract=function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},a.prototype.Multiply=function(t){void 0===t&&(t=0),this.x*=t,this.y*=t,this.z*=t}}(),function(){var t=(o.Dynamics.Controllers.b2ControllerEdge,o.Common.Math.b2Mat22,o.Common.Math.b2Mat33,o.Common.Math.b2Math),e=o.Common.Math.b2Sweep,r=o.Common.Math.b2Transform,s=o.Common.Math.b2Vec2,a=(o.Common.Math.b2Vec3,o.Common.b2Color),l=(o.Common.b2internal,o.Common.b2Settings),u=o.Collision.b2AABB,p=(o.Collision.b2Bound,o.Collision.b2BoundValues,o.Collision.b2Collision,o.Collision.b2ContactID,o.Collision.b2ContactPoint),c=(o.Collision.b2Distance,o.Collision.b2DistanceInput,o.Collision.b2DistanceOutput,o.Collision.b2DistanceProxy,o.Collision.b2DynamicTree,o.Collision.b2DynamicTreeBroadPhase),h=(o.Collision.b2DynamicTreeNode,o.Collision.b2DynamicTreePair,o.Collision.b2Manifold,o.Collision.b2ManifoldPoint,o.Collision.b2Point,o.Collision.b2RayCastInput),m=o.Collision.b2RayCastOutput,d=(o.Collision.b2Segment,o.Collision.b2SeparationFunction,o.Collision.b2Simplex,o.Collision.b2SimplexCache,o.Collision.b2SimplexVertex,o.Collision.b2TimeOfImpact,o.Collision.b2TOIInput,o.Collision.b2WorldManifold,o.Collision.ClipVertex,o.Collision.Features,o.Collision.IBroadPhase,o.Collision.Shapes.b2CircleShape),_=(o.Collision.Shapes.b2EdgeChainDef,o.Collision.Shapes.b2EdgeShape),y=o.Collision.Shapes.b2MassData,f=o.Collision.Shapes.b2PolygonShape,v=o.Collision.Shapes.b2Shape,x=o.Dynamics.b2Body,g=o.Dynamics.b2BodyDef,b=o.Dynamics.b2ContactFilter,C=o.Dynamics.b2ContactImpulse,E=o.Dynamics.b2ContactListener,P=o.Dynamics.b2ContactManager,D=o.Dynamics.b2DebugDraw,S=o.Dynamics.b2DestructionListener,N=o.Dynamics.b2FilterData,w=o.Dynamics.b2Fixture,A=o.Dynamics.b2FixtureDef,I=o.Dynamics.b2Island,M=o.Dynamics.b2TimeStep,V=o.Dynamics.b2World,T=(o.Dynamics.Contacts.b2CircleContact,o.Dynamics.Contacts.b2Contact),B=(o.Dynamics.Contacts.b2ContactConstraint,o.Dynamics.Contacts.b2ContactConstraintPoint,o.Dynamics.Contacts.b2ContactEdge,o.Dynamics.Contacts.b2ContactFactory),O=(o.Dynamics.Contacts.b2ContactRegister,o.Dynamics.Contacts.b2ContactResult,o.Dynamics.Contacts.b2ContactSolver),L=(o.Dynamics.Contacts.b2EdgeAndCircleContact,o.Dynamics.Contacts.b2NullContact,o.Dynamics.Contacts.b2PolyAndCircleContact,o.Dynamics.Contacts.b2PolyAndEdgeContact,o.Dynamics.Contacts.b2PolygonContact,o.Dynamics.Contacts.b2PositionSolverManifold,o.Dynamics.Controllers.b2Controller,o.Dynamics.Joints.b2DistanceJoint,o.Dynamics.Joints.b2DistanceJointDef,o.Dynamics.Joints.b2FrictionJoint,o.Dynamics.Joints.b2FrictionJointDef,o.Dynamics.Joints.b2GearJoint,o.Dynamics.Joints.b2GearJointDef,o.Dynamics.Joints.b2Jacobian,o.Dynamics.Joints.b2Joint),R=(o.Dynamics.Joints.b2JointDef,o.Dynamics.Joints.b2JointEdge,o.Dynamics.Joints.b2LineJoint,o.Dynamics.Joints.b2LineJointDef,o.Dynamics.Joints.b2MouseJoint,o.Dynamics.Joints.b2MouseJointDef,o.Dynamics.Joints.b2PrismaticJoint,o.Dynamics.Joints.b2PrismaticJointDef,o.Dynamics.Joints.b2PulleyJoint);o.Dynamics.Joints.b2PulleyJointDef,o.Dynamics.Joints.b2RevoluteJoint,o.Dynamics.Joints.b2RevoluteJointDef,o.Dynamics.Joints.b2WeldJoint,o.Dynamics.Joints.b2WeldJointDef;x.b2Body=function(){this.m_xf=new r,this.m_sweep=new e,this.m_linearVelocity=new s,this.m_force=new s},x.prototype.connectEdges=function(e,o,n){void 0===n&&(n=0);var i=Math.atan2(o.GetDirectionVector().y,o.GetDirectionVector().x),r=Math.tan(.5*(i-n)),s=t.MulFV(r,o.GetDirectionVector());s=t.SubtractVV(s,o.GetNormalVector()),s=t.MulFV(l.b2_toiSlop,s),s=t.AddVV(s,o.GetVertex1());var a=t.AddVV(e.GetDirectionVector(),o.GetDirectionVector());a.Normalize();var u=t.Dot(e.GetDirectionVector(),o.GetNormalVector())>0;return e.SetNextEdge(o,s,a,u),o.SetPrevEdge(e,s,a,u),i},x.prototype.CreateFixture=function(t){if(1==this.m_world.IsLocked())return null;var e=new w;if(e.Create(this,this.m_xf,t),this.m_flags&x.e_activeFlag){var o=this.m_world.m_contactManager.m_broadPhase;e.CreateProxy(o,this.m_xf)}return e.m_next=this.m_fixtureList,this.m_fixtureList=e,++this.m_fixtureCount,e.m_body=this,e.m_density>0&&this.ResetMassData(),this.m_world.m_flags|=V.e_newFixture,e},x.prototype.CreateFixture2=function(t,e){void 0===e&&(e=0);var o=new A;return o.shape=t,o.density=e,this.CreateFixture(o)},x.prototype.DestroyFixture=function(t){if(1!=this.m_world.IsLocked()){for(var e=this.m_fixtureList,o=null,n=!1;null!=e;){if(e==t){o?o.m_next=t.m_next:this.m_fixtureList=t.m_next,n=!0;break}o=e,e=e.m_next}for(var i=this.m_contactList;i;){var r=i.contact;i=i.next;var s=r.GetFixtureA(),a=r.GetFixtureB();t!=s&&t!=a||this.m_world.m_contactManager.Destroy(r)}if(this.m_flags&x.e_activeFlag){var l=this.m_world.m_contactManager.m_broadPhase;t.DestroyProxy(l)}t.Destroy(),t.m_body=null,t.m_next=null,--this.m_fixtureCount,this.ResetMassData()}},x.prototype.SetPositionAndAngle=function(t,e){void 0===e&&(e=0);var o;if(1!=this.m_world.IsLocked()){this.m_xf.R.Set(e),this.m_xf.position.SetV(t);var n=this.m_xf.R,i=this.m_sweep.localCenter;this.m_sweep.c.x=n.col1.x*i.x+n.col2.x*i.y,this.m_sweep.c.y=n.col1.y*i.x+n.col2.y*i.y,this.m_sweep.c.x+=this.m_xf.position.x,this.m_sweep.c.y+=this.m_xf.position.y,this.m_sweep.c0.SetV(this.m_sweep.c),this.m_sweep.a0=this.m_sweep.a=e;var r=this.m_world.m_contactManager.m_broadPhase;for(o=this.m_fixtureList;o;o=o.m_next)o.Synchronize(r,this.m_xf,this.m_xf);this.m_world.m_contactManager.FindNewContacts()}},x.prototype.SetTransform=function(t){this.SetPositionAndAngle(t.position,t.GetAngle())},x.prototype.GetTransform=function(){return this.m_xf},x.prototype.GetPosition=function(){return this.m_xf.position},x.prototype.SetPosition=function(t){this.SetPositionAndAngle(t,this.GetAngle())},x.prototype.GetAngle=function(){return this.m_sweep.a},x.prototype.SetAngle=function(t){void 0===t&&(t=0),this.SetPositionAndAngle(this.GetPosition(),t)},x.prototype.GetWorldCenter=function(){return this.m_sweep.c},x.prototype.GetLocalCenter=function(){return this.m_sweep.localCenter},x.prototype.SetLinearVelocity=function(t){this.m_type!=x.b2_staticBody&&this.m_linearVelocity.SetV(t)},x.prototype.GetLinearVelocity=function(){return this.m_linearVelocity},x.prototype.SetAngularVelocity=function(t){void 0===t&&(t=0),this.m_type!=x.b2_staticBody&&(this.m_angularVelocity=t)},x.prototype.GetAngularVelocity=function(){return this.m_angularVelocity},x.prototype.GetDefinition=function(){var t=new g;return t.type=this.GetType(),t.allowSleep=(this.m_flags&x.e_allowSleepFlag)==x.e_allowSleepFlag,t.angle=this.GetAngle(),t.angularDamping=this.m_angularDamping,t.angularVelocity=this.m_angularVelocity,t.fixedRotation=(this.m_flags&x.e_fixedRotationFlag)==x.e_fixedRotationFlag,t.bullet=(this.m_flags&x.e_bulletFlag)==x.e_bulletFlag,t.awake=(this.m_flags&x.e_awakeFlag)==x.e_awakeFlag,t.linearDamping=this.m_linearDamping,t.linearVelocity.SetV(this.GetLinearVelocity()),t.position=this.GetPosition(),t.userData=this.GetUserData(),t},x.prototype.ApplyForce=function(t,e){this.m_type==x.b2_dynamicBody&&(0==this.IsAwake()&&this.SetAwake(!0),this.m_force.x+=t.x,this.m_force.y+=t.y,this.m_torque+=(e.x-this.m_sweep.c.x)*t.y-(e.y-this.m_sweep.c.y)*t.x)},x.prototype.ApplyTorque=function(t){void 0===t&&(t=0),this.m_type==x.b2_dynamicBody&&(0==this.IsAwake()&&this.SetAwake(!0),this.m_torque+=t)},x.prototype.ApplyImpulse=function(t,e){this.m_type==x.b2_dynamicBody&&(0==this.IsAwake()&&this.SetAwake(!0),this.m_linearVelocity.x+=this.m_invMass*t.x,this.m_linearVelocity.y+=this.m_invMass*t.y,this.m_angularVelocity+=this.m_invI*((e.x-this.m_sweep.c.x)*t.y-(e.y-this.m_sweep.c.y)*t.x))},x.prototype.Split=function(e){for(var o,n=this.GetLinearVelocity().Copy(),i=this.GetAngularVelocity(),r=this.GetWorldCenter(),s=this,a=this.m_world.CreateBody(this.GetDefinition()),l=s.m_fixtureList;l;)if(e(l)){var u=l.m_next;o?o.m_next=u:s.m_fixtureList=u,s.m_fixtureCount--,l.m_next=a.m_fixtureList,a.m_fixtureList=l,a.m_fixtureCount++,l.m_body=a,l=u}else o=l,l=l.m_next;s.ResetMassData(),a.ResetMassData();var p=s.GetWorldCenter(),c=a.GetWorldCenter(),h=t.AddVV(n,t.CrossFV(i,t.SubtractVV(p,r))),m=t.AddVV(n,t.CrossFV(i,t.SubtractVV(c,r)));return s.SetLinearVelocity(h),a.SetLinearVelocity(m),s.SetAngularVelocity(i),a.SetAngularVelocity(i),s.SynchronizeFixtures(),a.SynchronizeFixtures(),a},x.prototype.Merge=function(t){var e;for(e=t.m_fixtureList;e;){var o=e.m_next;t.m_fixtureCount--,e.m_next=this.m_fixtureList,this.m_fixtureList=e,this.m_fixtureCount++,e.m_body=i,e=o}n.m_fixtureCount=0;var n=this,i=t;n.GetWorldCenter(),i.GetWorldCenter(),n.GetLinearVelocity().Copy(),i.GetLinearVelocity().Copy(),n.GetAngularVelocity(),i.GetAngularVelocity();n.ResetMassData(),this.SynchronizeFixtures()},x.prototype.GetMass=function(){return this.m_mass},x.prototype.GetInertia=function(){return this.m_I},x.prototype.GetMassData=function(t){t.mass=this.m_mass,t.I=this.m_I,t.center.SetV(this.m_sweep.localCenter)},x.prototype.SetMassData=function(e){if(l.b2Assert(0==this.m_world.IsLocked()),1!=this.m_world.IsLocked()&&this.m_type==x.b2_dynamicBody){this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_mass=e.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,e.I>0&&0==(this.m_flags&x.e_fixedRotationFlag)&&(this.m_I=e.I-this.m_mass*(e.center.x*e.center.x+e.center.y*e.center.y),this.m_invI=1/this.m_I);var o=this.m_sweep.c.Copy();this.m_sweep.localCenter.SetV(e.center),this.m_sweep.c0.SetV(t.MulX(this.m_xf,this.m_sweep.localCenter)),this.m_sweep.c.SetV(this.m_sweep.c0),this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-o.y),this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-o.x)}},x.prototype.ResetMassData=function(){if(this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_sweep.localCenter.SetZero(),this.m_type!=x.b2_staticBody&&this.m_type!=x.b2_kinematicBody){for(var e=s.Make(0,0),o=this.m_fixtureList;o;o=o.m_next)if(0!=o.m_density){var n=o.GetMassData();this.m_mass+=n.mass,e.x+=n.center.x*n.mass,e.y+=n.center.y*n.mass,this.m_I+=n.I}this.m_mass>0?(this.m_invMass=1/this.m_mass,e.x*=this.m_invMass,e.y*=this.m_invMass):(this.m_mass=1,this.m_invMass=1),this.m_I>0&&0==(this.m_flags&x.e_fixedRotationFlag)?(this.m_I-=this.m_mass*(e.x*e.x+e.y*e.y),this.m_I*=this.m_inertiaScale,l.b2Assert(this.m_I>0),this.m_invI=1/this.m_I):(this.m_I=0,this.m_invI=0);var i=this.m_sweep.c.Copy();this.m_sweep.localCenter.SetV(e),this.m_sweep.c0.SetV(t.MulX(this.m_xf,this.m_sweep.localCenter)),this.m_sweep.c.SetV(this.m_sweep.c0),this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-i.y),this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-i.x)}},x.prototype.GetWorldPoint=function(t){var e=this.m_xf.R,o=new s(e.col1.x*t.x+e.col2.x*t.y,e.col1.y*t.x+e.col2.y*t.y);return o.x+=this.m_xf.position.x,o.y+=this.m_xf.position.y,o},x.prototype.GetWorldVector=function(e){return t.MulMV(this.m_xf.R,e)},x.prototype.GetLocalPoint=function(e){return t.MulXT(this.m_xf,e)},x.prototype.GetLocalVector=function(e){return t.MulTMV(this.m_xf.R,e)},x.prototype.GetLinearVelocityFromWorldPoint=function(t){return new s(this.m_linearVelocity.x-this.m_angularVelocity*(t.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(t.x-this.m_sweep.c.x))},x.prototype.GetLinearVelocityFromLocalPoint=function(t){var e=this.m_xf.R,o=new s(e.col1.x*t.x+e.col2.x*t.y,e.col1.y*t.x+e.col2.y*t.y);return o.x+=this.m_xf.position.x,o.y+=this.m_xf.position.y,new s(this.m_linearVelocity.x-this.m_angularVelocity*(o.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(o.x-this.m_sweep.c.x))},x.prototype.GetLinearDamping=function(){return this.m_linearDamping},x.prototype.SetLinearDamping=function(t){void 0===t&&(t=0),this.m_linearDamping=t},x.prototype.GetAngularDamping=function(){
return this.m_angularDamping},x.prototype.SetAngularDamping=function(t){void 0===t&&(t=0),this.m_angularDamping=t},x.prototype.SetType=function(t){if(void 0===t&&(t=0),this.m_type!=t){this.m_type=t,this.ResetMassData(),this.m_type==x.b2_staticBody&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0;for(var e=this.m_contactList;e;e=e.next)e.contact.FlagForFiltering()}},x.prototype.GetType=function(){return this.m_type},x.prototype.SetBullet=function(t){t?this.m_flags|=x.e_bulletFlag:this.m_flags&=~x.e_bulletFlag},x.prototype.IsBullet=function(){return(this.m_flags&x.e_bulletFlag)==x.e_bulletFlag},x.prototype.SetSleepingAllowed=function(t){t?this.m_flags|=x.e_allowSleepFlag:(this.m_flags&=~x.e_allowSleepFlag,this.SetAwake(!0))},x.prototype.SetAwake=function(t){t?(this.m_flags|=x.e_awakeFlag,this.m_sleepTime=0):(this.m_flags&=~x.e_awakeFlag,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0)},x.prototype.IsAwake=function(){return(this.m_flags&x.e_awakeFlag)==x.e_awakeFlag},x.prototype.SetFixedRotation=function(t){t?this.m_flags|=x.e_fixedRotationFlag:this.m_flags&=~x.e_fixedRotationFlag,this.ResetMassData()},x.prototype.IsFixedRotation=function(){return(this.m_flags&x.e_fixedRotationFlag)==x.e_fixedRotationFlag},x.prototype.SetActive=function(t){if(t!=this.IsActive()){var e,o;if(t)for(this.m_flags|=x.e_activeFlag,e=this.m_world.m_contactManager.m_broadPhase,o=this.m_fixtureList;o;o=o.m_next)o.CreateProxy(e,this.m_xf);else{for(this.m_flags&=~x.e_activeFlag,e=this.m_world.m_contactManager.m_broadPhase,o=this.m_fixtureList;o;o=o.m_next)o.DestroyProxy(e);for(var n=this.m_contactList;n;){var i=n;n=n.next,this.m_world.m_contactManager.Destroy(i.contact)}this.m_contactList=null}}},x.prototype.IsActive=function(){return(this.m_flags&x.e_activeFlag)==x.e_activeFlag},x.prototype.IsSleepingAllowed=function(){return(this.m_flags&x.e_allowSleepFlag)==x.e_allowSleepFlag},x.prototype.GetFixtureList=function(){return this.m_fixtureList},x.prototype.GetJointList=function(){return this.m_jointList},x.prototype.GetControllerList=function(){return this.m_controllerList},x.prototype.GetContactList=function(){return this.m_contactList},x.prototype.GetNext=function(){return this.m_next},x.prototype.GetUserData=function(){return this.m_userData},x.prototype.SetUserData=function(t){this.m_userData=t},x.prototype.GetWorld=function(){return this.m_world},x.prototype.b2Body=function(t,e){this.m_flags=0,t.bullet&&(this.m_flags|=x.e_bulletFlag),t.fixedRotation&&(this.m_flags|=x.e_fixedRotationFlag),t.allowSleep&&(this.m_flags|=x.e_allowSleepFlag),t.awake&&(this.m_flags|=x.e_awakeFlag),t.active&&(this.m_flags|=x.e_activeFlag),this.m_world=e,this.m_xf.position.SetV(t.position),this.m_xf.R.Set(t.angle),this.m_sweep.localCenter.SetZero(),this.m_sweep.t0=1,this.m_sweep.a0=this.m_sweep.a=t.angle;var o=this.m_xf.R,n=this.m_sweep.localCenter;this.m_sweep.c.x=o.col1.x*n.x+o.col2.x*n.y,this.m_sweep.c.y=o.col1.y*n.x+o.col2.y*n.y,this.m_sweep.c.x+=this.m_xf.position.x,this.m_sweep.c.y+=this.m_xf.position.y,this.m_sweep.c0.SetV(this.m_sweep.c),this.m_jointList=null,this.m_controllerList=null,this.m_contactList=null,this.m_controllerCount=0,this.m_prev=null,this.m_next=null,this.m_linearVelocity.SetV(t.linearVelocity),this.m_angularVelocity=t.angularVelocity,this.m_linearDamping=t.linearDamping,this.m_angularDamping=t.angularDamping,this.m_force.Set(0,0),this.m_torque=0,this.m_sleepTime=0,this.m_type=t.type,this.m_type==x.b2_dynamicBody?(this.m_mass=1,this.m_invMass=1):(this.m_mass=0,this.m_invMass=0),this.m_I=0,this.m_invI=0,this.m_inertiaScale=t.inertiaScale,this.m_userData=t.userData,this.m_fixtureList=null,this.m_fixtureCount=0},x.prototype.SynchronizeFixtures=function(){var t=x.s_xf1;t.R.Set(this.m_sweep.a0);var e=t.R,o=this.m_sweep.localCenter;t.position.x=this.m_sweep.c0.x-(e.col1.x*o.x+e.col2.x*o.y),t.position.y=this.m_sweep.c0.y-(e.col1.y*o.x+e.col2.y*o.y);var n,i=this.m_world.m_contactManager.m_broadPhase;for(n=this.m_fixtureList;n;n=n.m_next)n.Synchronize(i,t,this.m_xf)},x.prototype.SynchronizeTransform=function(){this.m_xf.R.Set(this.m_sweep.a);var t=this.m_xf.R,e=this.m_sweep.localCenter;this.m_xf.position.x=this.m_sweep.c.x-(t.col1.x*e.x+t.col2.x*e.y),this.m_xf.position.y=this.m_sweep.c.y-(t.col1.y*e.x+t.col2.y*e.y)},x.prototype.ShouldCollide=function(t){if(this.m_type!=x.b2_dynamicBody&&t.m_type!=x.b2_dynamicBody)return!1;for(var e=this.m_jointList;e;e=e.next)if(e.other==t&&0==e.joint.m_collideConnected)return!1;return!0},x.prototype.Advance=function(t){void 0===t&&(t=0),this.m_sweep.Advance(t),this.m_sweep.c.SetV(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.SynchronizeTransform()},o.postDefs.push(function(){o.Dynamics.b2Body.s_xf1=new r,o.Dynamics.b2Body.e_islandFlag=1,o.Dynamics.b2Body.e_awakeFlag=2,o.Dynamics.b2Body.e_allowSleepFlag=4,o.Dynamics.b2Body.e_bulletFlag=8,o.Dynamics.b2Body.e_fixedRotationFlag=16,o.Dynamics.b2Body.e_activeFlag=32,o.Dynamics.b2Body.b2_staticBody=0,o.Dynamics.b2Body.b2_kinematicBody=1,o.Dynamics.b2Body.b2_dynamicBody=2}),g.b2BodyDef=function(){this.position=new s,this.linearVelocity=new s},g.prototype.b2BodyDef=function(){this.userData=null,this.position.Set(0,0),this.angle=0,this.linearVelocity.Set(0,0),this.angularVelocity=0,this.linearDamping=0,this.angularDamping=0,this.allowSleep=!0,this.awake=!0,this.fixedRotation=!1,this.bullet=!1,this.type=x.b2_staticBody,this.active=!0,this.inertiaScale=1},b.b2ContactFilter=function(){},b.prototype.ShouldCollide=function(t,e){var o=t.GetFilterData(),n=e.GetFilterData();if(o.groupIndex==n.groupIndex&&0!=o.groupIndex)return o.groupIndex>0;var i=0!=(o.maskBits&n.categoryBits)&&0!=(o.categoryBits&n.maskBits);return i},b.prototype.RayCollide=function(t,e){return!t||this.ShouldCollide(t instanceof w?t:null,e)},o.postDefs.push(function(){o.Dynamics.b2ContactFilter.b2_defaultFilter=new b}),C.b2ContactImpulse=function(){this.normalImpulses=new i(l.b2_maxManifoldPoints),this.tangentImpulses=new i(l.b2_maxManifoldPoints)},E.b2ContactListener=function(){},E.prototype.BeginContact=function(t){},E.prototype.EndContact=function(t){},E.prototype.PreSolve=function(t,e){},E.prototype.PostSolve=function(t,e){},o.postDefs.push(function(){o.Dynamics.b2ContactListener.b2_defaultListener=new E}),P.b2ContactManager=function(){},P.prototype.b2ContactManager=function(){this.m_world=null,this.m_contactCount=0,this.m_contactFilter=b.b2_defaultFilter,this.m_contactListener=E.b2_defaultListener,this.m_contactFactory=new B(this.m_allocator),this.m_broadPhase=new c},P.prototype.AddPair=function(t,e){var o=t instanceof w?t:null,n=e instanceof w?e:null,i=o.GetBody(),r=n.GetBody();if(i!=r){for(var s=r.GetContactList();s;){if(s.other==i){var a=s.contact.GetFixtureA(),l=s.contact.GetFixtureB();if(a==o&&l==n)return;if(a==n&&l==o)return}s=s.next}if(0!=r.ShouldCollide(i)&&0!=this.m_contactFilter.ShouldCollide(o,n)){var u=this.m_contactFactory.Create(o,n);o=u.GetFixtureA(),n=u.GetFixtureB(),i=o.m_body,r=n.m_body,u.m_prev=null,u.m_next=this.m_world.m_contactList,null!=this.m_world.m_contactList&&(this.m_world.m_contactList.m_prev=u),this.m_world.m_contactList=u,u.m_nodeA.contact=u,u.m_nodeA.other=r,u.m_nodeA.prev=null,u.m_nodeA.next=i.m_contactList,null!=i.m_contactList&&(i.m_contactList.prev=u.m_nodeA),i.m_contactList=u.m_nodeA,u.m_nodeB.contact=u,u.m_nodeB.other=i,u.m_nodeB.prev=null,u.m_nodeB.next=r.m_contactList,null!=r.m_contactList&&(r.m_contactList.prev=u.m_nodeB),r.m_contactList=u.m_nodeB,++this.m_world.m_contactCount}}},P.prototype.FindNewContacts=function(){this.m_broadPhase.UpdatePairs(o.generateCallback(this,this.AddPair))},P.prototype.Destroy=function(t){var e=t.GetFixtureA(),o=t.GetFixtureB(),n=e.GetBody(),i=o.GetBody();t.IsTouching()&&this.m_contactListener.EndContact(t),t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t==this.m_world.m_contactList&&(this.m_world.m_contactList=t.m_next),t.m_nodeA.prev&&(t.m_nodeA.prev.next=t.m_nodeA.next),t.m_nodeA.next&&(t.m_nodeA.next.prev=t.m_nodeA.prev),t.m_nodeA==n.m_contactList&&(n.m_contactList=t.m_nodeA.next),t.m_nodeB.prev&&(t.m_nodeB.prev.next=t.m_nodeB.next),t.m_nodeB.next&&(t.m_nodeB.next.prev=t.m_nodeB.prev),t.m_nodeB==i.m_contactList&&(i.m_contactList=t.m_nodeB.next),this.m_contactFactory.Destroy(t),--this.m_contactCount},P.prototype.Collide=function(){for(var t=this.m_world.m_contactList;t;){var e=t.GetFixtureA(),o=t.GetFixtureB(),n=e.GetBody(),i=o.GetBody();if(0!=n.IsAwake()||0!=i.IsAwake()){if(t.m_flags&T.e_filterFlag){if(0==i.ShouldCollide(n)){var r=t;t=r.GetNext(),this.Destroy(r);continue}if(0==this.m_contactFilter.ShouldCollide(e,o)){r=t,t=r.GetNext(),this.Destroy(r);continue}t.m_flags&=~T.e_filterFlag}var s=e.m_proxy,a=o.m_proxy,l=this.m_broadPhase.TestOverlap(s,a);0!=l?(t.Update(this.m_contactListener),t=t.GetNext()):(r=t,t=r.GetNext(),this.Destroy(r))}else t=t.GetNext()}},o.postDefs.push(function(){o.Dynamics.b2ContactManager.s_evalCP=new p}),D.b2DebugDraw=function(){},D.prototype.b2DebugDraw=function(){},D.prototype.SetFlags=function(t){void 0===t&&(t=0)},D.prototype.GetFlags=function(){},D.prototype.AppendFlags=function(t){void 0===t&&(t=0)},D.prototype.ClearFlags=function(t){void 0===t&&(t=0)},D.prototype.SetSprite=function(t){},D.prototype.GetSprite=function(){},D.prototype.SetDrawScale=function(t){void 0===t&&(t=0)},D.prototype.GetDrawScale=function(){},D.prototype.SetLineThickness=function(t){void 0===t&&(t=0)},D.prototype.GetLineThickness=function(){},D.prototype.SetAlpha=function(t){void 0===t&&(t=0)},D.prototype.GetAlpha=function(){},D.prototype.SetFillAlpha=function(t){void 0===t&&(t=0)},D.prototype.GetFillAlpha=function(){},D.prototype.SetXFormScale=function(t){void 0===t&&(t=0)},D.prototype.GetXFormScale=function(){},D.prototype.DrawPolygon=function(t,e,o){void 0===e&&(e=0)},D.prototype.DrawSolidPolygon=function(t,e,o){void 0===e&&(e=0)},D.prototype.DrawCircle=function(t,e,o){void 0===e&&(e=0)},D.prototype.DrawSolidCircle=function(t,e,o,n){void 0===e&&(e=0)},D.prototype.DrawSegment=function(t,e,o){},D.prototype.DrawTransform=function(t){},o.postDefs.push(function(){o.Dynamics.b2DebugDraw.e_shapeBit=1,o.Dynamics.b2DebugDraw.e_jointBit=2,o.Dynamics.b2DebugDraw.e_aabbBit=4,o.Dynamics.b2DebugDraw.e_pairBit=8,o.Dynamics.b2DebugDraw.e_centerOfMassBit=16,o.Dynamics.b2DebugDraw.e_controllerBit=32}),S.b2DestructionListener=function(){},S.prototype.SayGoodbyeJoint=function(t){},S.prototype.SayGoodbyeFixture=function(t){},N.b2FilterData=function(){this.categoryBits=1,this.maskBits=65535,this.groupIndex=0},N.prototype.Copy=function(){var t=new N;return t.categoryBits=this.categoryBits,t.maskBits=this.maskBits,t.groupIndex=this.groupIndex,t},w.b2Fixture=function(){this.m_filter=new N},w.prototype.GetType=function(){return this.m_shape.GetType()},w.prototype.GetShape=function(){return this.m_shape},w.prototype.SetSensor=function(t){if(this.m_isSensor!=t&&(this.m_isSensor=t,null!=this.m_body))for(var e=this.m_body.GetContactList();e;){var o=e.contact,n=o.GetFixtureA(),i=o.GetFixtureB();n!=this&&i!=this||o.SetSensor(n.IsSensor()||i.IsSensor()),e=e.next}},w.prototype.IsSensor=function(){return this.m_isSensor},w.prototype.SetFilterData=function(t){if(this.m_filter=t.Copy(),!this.m_body)for(var e=this.m_body.GetContactList();e;){var o=e.contact,n=o.GetFixtureA(),i=o.GetFixtureB();n!=this&&i!=this||o.FlagForFiltering(),e=e.next}},w.prototype.GetFilterData=function(){return this.m_filter.Copy()},w.prototype.GetBody=function(){return this.m_body},w.prototype.GetNext=function(){return this.m_next},w.prototype.GetUserData=function(){return this.m_userData},w.prototype.SetUserData=function(t){this.m_userData=t},w.prototype.TestPoint=function(t){return this.m_shape.TestPoint(this.m_body.GetTransform(),t)},w.prototype.RayCast=function(t,e){return this.m_shape.RayCast(t,e,this.m_body.GetTransform())},w.prototype.GetMassData=function(t){return void 0===t&&(t=null),null==t&&(t=new y),this.m_shape.ComputeMass(t,this.m_density),t},w.prototype.SetDensity=function(t){void 0===t&&(t=0),this.m_density=t},w.prototype.GetDensity=function(){return this.m_density},w.prototype.GetFriction=function(){return this.m_friction},w.prototype.SetFriction=function(t){void 0===t&&(t=0),this.m_friction=t},w.prototype.GetRestitution=function(){return this.m_restitution},w.prototype.SetRestitution=function(t){void 0===t&&(t=0),this.m_restitution=t},w.prototype.GetAABB=function(){return this.m_aabb},w.prototype.b2Fixture=function(){this.m_aabb=new u,this.m_userData=null,this.m_body=null,this.m_next=null,this.m_shape=null,this.m_density=0,this.m_friction=0,this.m_restitution=0},w.prototype.Create=function(t,e,o){this.m_userData=o.userData,this.m_friction=o.friction,this.m_restitution=o.restitution,this.m_body=t,this.m_next=null,this.m_filter=o.filter.Copy(),this.m_isSensor=o.isSensor,this.m_shape=o.shape.Copy(),this.m_density=o.density},w.prototype.Destroy=function(){this.m_shape=null},w.prototype.CreateProxy=function(t,e){this.m_shape.ComputeAABB(this.m_aabb,e),this.m_proxy=t.CreateProxy(this.m_aabb,this)},w.prototype.DestroyProxy=function(t){null!=this.m_proxy&&(t.DestroyProxy(this.m_proxy),this.m_proxy=null)},w.prototype.Synchronize=function(e,o,n){if(this.m_proxy){var i=new u,r=new u;this.m_shape.ComputeAABB(i,o),this.m_shape.ComputeAABB(r,n),this.m_aabb.Combine(i,r);var s=t.SubtractVV(n.position,o.position);e.MoveProxy(this.m_proxy,this.m_aabb,s)}},A.b2FixtureDef=function(){this.filter=new N},A.prototype.b2FixtureDef=function(){this.shape=null,this.userData=null,this.friction=.2,this.restitution=0,this.density=0,this.filter.categoryBits=1,this.filter.maskBits=65535,this.filter.groupIndex=0,this.isSensor=!1},I.b2Island=function(){},I.prototype.b2Island=function(){this.m_bodies=new n,this.m_contacts=new n,this.m_joints=new n},I.prototype.Initialize=function(t,e,o,n,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===o&&(o=0);var s=0;for(this.m_bodyCapacity=t,this.m_contactCapacity=e,this.m_jointCapacity=o,this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0,this.m_allocator=n,this.m_listener=i,this.m_contactSolver=r,s=this.m_bodies.length;s<t;s++)this.m_bodies[s]=null;for(s=this.m_contacts.length;s<e;s++)this.m_contacts[s]=null;for(s=this.m_joints.length;s<o;s++)this.m_joints[s]=null},I.prototype.Clear=function(){this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0},I.prototype.Solve=function(e,o,n){var i,r,s=0,a=0;for(s=0;s<this.m_bodyCount;++s)i=this.m_bodies[s],i.GetType()==x.b2_dynamicBody&&(i.m_linearVelocity.x+=e.dt*(o.x+i.m_invMass*i.m_force.x),i.m_linearVelocity.y+=e.dt*(o.y+i.m_invMass*i.m_force.y),i.m_angularVelocity+=e.dt*i.m_invI*i.m_torque,i.m_linearVelocity.Multiply(t.Clamp(1-e.dt*i.m_linearDamping,0,1)),i.m_angularVelocity*=t.Clamp(1-e.dt*i.m_angularDamping,0,1));this.m_contactSolver.Initialize(e,this.m_contacts,this.m_contactCount,this.m_allocator);var u=this.m_contactSolver;for(u.InitVelocityConstraints(e),s=0;s<this.m_jointCount;++s)r=this.m_joints[s],r.InitVelocityConstraints(e);for(s=0;s<e.velocityIterations;++s){for(a=0;a<this.m_jointCount;++a)r=this.m_joints[a],r.SolveVelocityConstraints(e);u.SolveVelocityConstraints()}for(s=0;s<this.m_jointCount;++s)r=this.m_joints[s],r.FinalizeVelocityConstraints();for(u.FinalizeVelocityConstraints(),s=0;s<this.m_bodyCount;++s)if(i=this.m_bodies[s],i.GetType()!=x.b2_staticBody){var p=e.dt*i.m_linearVelocity.x,c=e.dt*i.m_linearVelocity.y;p*p+c*c>l.b2_maxTranslationSquared&&(i.m_linearVelocity.Normalize(),i.m_linearVelocity.x*=l.b2_maxTranslation*e.inv_dt,i.m_linearVelocity.y*=l.b2_maxTranslation*e.inv_dt);var h=e.dt*i.m_angularVelocity;h*h>l.b2_maxRotationSquared&&(i.m_angularVelocity<0?i.m_angularVelocity=-l.b2_maxRotation*e.inv_dt:i.m_angularVelocity=l.b2_maxRotation*e.inv_dt),i.m_sweep.c0.SetV(i.m_sweep.c),i.m_sweep.a0=i.m_sweep.a,i.m_sweep.c.x+=e.dt*i.m_linearVelocity.x,i.m_sweep.c.y+=e.dt*i.m_linearVelocity.y,i.m_sweep.a+=e.dt*i.m_angularVelocity,i.SynchronizeTransform()}for(s=0;s<e.positionIterations;++s){var m=u.SolvePositionConstraints(l.b2_contactBaumgarte),d=!0;for(a=0;a<this.m_jointCount;++a){r=this.m_joints[a];var _=r.SolvePositionConstraints(l.b2_contactBaumgarte);d=d&&_}if(m&&d)break}if(this.Report(u.m_constraints),n){var y=Number.MAX_VALUE,f=l.b2_linearSleepTolerance*l.b2_linearSleepTolerance,v=l.b2_angularSleepTolerance*l.b2_angularSleepTolerance;for(s=0;s<this.m_bodyCount;++s)i=this.m_bodies[s],i.GetType()!=x.b2_staticBody&&(0==(i.m_flags&x.e_allowSleepFlag)&&(i.m_sleepTime=0,y=0),0==(i.m_flags&x.e_allowSleepFlag)||i.m_angularVelocity*i.m_angularVelocity>v||t.Dot(i.m_linearVelocity,i.m_linearVelocity)>f?(i.m_sleepTime=0,y=0):(i.m_sleepTime+=e.dt,y=t.Min(y,i.m_sleepTime)));if(y>=l.b2_timeToSleep)for(s=0;s<this.m_bodyCount;++s)i=this.m_bodies[s],i.SetAwake(!1)}},I.prototype.SolveTOI=function(t){var e=0,o=0;this.m_contactSolver.Initialize(t,this.m_contacts,this.m_contactCount,this.m_allocator);var n=this.m_contactSolver;for(e=0;e<this.m_jointCount;++e)this.m_joints[e].InitVelocityConstraints(t);for(e=0;e<t.velocityIterations;++e)for(n.SolveVelocityConstraints(),o=0;o<this.m_jointCount;++o)this.m_joints[o].SolveVelocityConstraints(t);for(e=0;e<this.m_bodyCount;++e){var i=this.m_bodies[e];if(i.GetType()!=x.b2_staticBody){var r=t.dt*i.m_linearVelocity.x,s=t.dt*i.m_linearVelocity.y;r*r+s*s>l.b2_maxTranslationSquared&&(i.m_linearVelocity.Normalize(),i.m_linearVelocity.x*=l.b2_maxTranslation*t.inv_dt,i.m_linearVelocity.y*=l.b2_maxTranslation*t.inv_dt);var a=t.dt*i.m_angularVelocity;a*a>l.b2_maxRotationSquared&&(i.m_angularVelocity<0?i.m_angularVelocity=-l.b2_maxRotation*t.inv_dt:i.m_angularVelocity=l.b2_maxRotation*t.inv_dt),i.m_sweep.c0.SetV(i.m_sweep.c),i.m_sweep.a0=i.m_sweep.a,i.m_sweep.c.x+=t.dt*i.m_linearVelocity.x,i.m_sweep.c.y+=t.dt*i.m_linearVelocity.y,i.m_sweep.a+=t.dt*i.m_angularVelocity,i.SynchronizeTransform()}}var u=.75;for(e=0;e<t.positionIterations;++e){var p=n.SolvePositionConstraints(u),c=!0;for(o=0;o<this.m_jointCount;++o){var h=this.m_joints[o].SolvePositionConstraints(l.b2_contactBaumgarte);c=c&&h}if(p&&c)break}this.Report(n.m_constraints)},I.prototype.Report=function(t){if(null!=this.m_listener)for(var e=0;e<this.m_contactCount;++e){for(var o=this.m_contacts[e],n=t[e],i=0;i<n.pointCount;++i)I.s_impulse.normalImpulses[i]=n.points[i].normalImpulse,I.s_impulse.tangentImpulses[i]=n.points[i].tangentImpulse;this.m_listener.PostSolve(o,I.s_impulse)}},I.prototype.AddBody=function(t){t.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount++]=t},I.prototype.AddContact=function(t){this.m_contacts[this.m_contactCount++]=t},I.prototype.AddJoint=function(t){this.m_joints[this.m_jointCount++]=t},o.postDefs.push(function(){o.Dynamics.b2Island.s_impulse=new C}),M.b2TimeStep=function(){},M.prototype.Set=function(t){this.dt=t.dt,this.inv_dt=t.inv_dt,this.positionIterations=t.positionIterations,this.velocityIterations=t.velocityIterations,this.warmStarting=t.warmStarting},V.b2World=function(){this.s_stack=new n,this.m_contactManager=new P,this.m_contactSolver=new O,this.m_island=new I},V.prototype.b2World=function(t,e){this.m_destructionListener=null,this.m_debugDraw=null,this.m_bodyList=null,this.m_contactList=null,this.m_jointList=null,this.m_controllerList=null,this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0,this.m_controllerCount=0,V.m_warmStarting=!0,V.m_continuousPhysics=!0,this.m_allowSleep=e,this.m_gravity=t,this.m_inv_dt0=0,this.m_contactManager.m_world=this;var o=new g;this.m_groundBody=this.CreateBody(o)},V.prototype.SetDestructionListener=function(t){this.m_destructionListener=t},V.prototype.SetContactFilter=function(t){this.m_contactManager.m_contactFilter=t},V.prototype.SetContactListener=function(t){this.m_contactManager.m_contactListener=t},V.prototype.SetDebugDraw=function(t){this.m_debugDraw=t},V.prototype.SetBroadPhase=function(t){var e=this.m_contactManager.m_broadPhase;this.m_contactManager.m_broadPhase=t;for(var o=this.m_bodyList;o;o=o.m_next)for(var n=o.m_fixtureList;n;n=n.m_next)n.m_proxy=t.CreateProxy(e.GetFatAABB(n.m_proxy),n)},V.prototype.Validate=function(){this.m_contactManager.m_broadPhase.Validate()},V.prototype.GetProxyCount=function(){return this.m_contactManager.m_broadPhase.GetProxyCount()},V.prototype.CreateBody=function(t){if(1==this.IsLocked())return null;var e=new x(t,this);return e.m_prev=null,e.m_next=this.m_bodyList,this.m_bodyList&&(this.m_bodyList.m_prev=e),this.m_bodyList=e,++this.m_bodyCount,e},V.prototype.DestroyBody=function(t){if(1!=this.IsLocked()){for(var e=t.m_jointList;e;){var o=e;e=e.next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeJoint(o.joint),this.DestroyJoint(o.joint)}for(var n=t.m_controllerList;n;){var i=n;n=n.nextController,i.controller.RemoveBody(t)}for(var r=t.m_contactList;r;){var s=r;r=r.next,this.m_contactManager.Destroy(s.contact)}t.m_contactList=null;for(var a=t.m_fixtureList;a;){var l=a;a=a.m_next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeFixture(l),l.DestroyProxy(this.m_contactManager.m_broadPhase),l.Destroy()}t.m_fixtureList=null,t.m_fixtureCount=0,t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t==this.m_bodyList&&(this.m_bodyList=t.m_next),--this.m_bodyCount}},V.prototype.CreateJoint=function(t){var e=L.Create(t,null);e.m_prev=null,e.m_next=this.m_jointList,this.m_jointList&&(this.m_jointList.m_prev=e),this.m_jointList=e,++this.m_jointCount,e.m_edgeA.joint=e,e.m_edgeA.other=e.m_bodyB,e.m_edgeA.prev=null,e.m_edgeA.next=e.m_bodyA.m_jointList,e.m_bodyA.m_jointList&&(e.m_bodyA.m_jointList.prev=e.m_edgeA),e.m_bodyA.m_jointList=e.m_edgeA,e.m_edgeB.joint=e,e.m_edgeB.other=e.m_bodyA,e.m_edgeB.prev=null,e.m_edgeB.next=e.m_bodyB.m_jointList,e.m_bodyB.m_jointList&&(e.m_bodyB.m_jointList.prev=e.m_edgeB),e.m_bodyB.m_jointList=e.m_edgeB;var o=t.bodyA,n=t.bodyB;if(0==t.collideConnected)for(var i=n.GetContactList();i;)i.other==o&&i.contact.FlagForFiltering(),i=i.next;return e},V.prototype.DestroyJoint=function(t){var e=t.m_collideConnected;t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t==this.m_jointList&&(this.m_jointList=t.m_next);var o=t.m_bodyA,n=t.m_bodyB;if(o.SetAwake(!0),n.SetAwake(!0),t.m_edgeA.prev&&(t.m_edgeA.prev.next=t.m_edgeA.next),t.m_edgeA.next&&(t.m_edgeA.next.prev=t.m_edgeA.prev),t.m_edgeA==o.m_jointList&&(o.m_jointList=t.m_edgeA.next),t.m_edgeA.prev=null,t.m_edgeA.next=null,t.m_edgeB.prev&&(t.m_edgeB.prev.next=t.m_edgeB.next),t.m_edgeB.next&&(t.m_edgeB.next.prev=t.m_edgeB.prev),t.m_edgeB==n.m_jointList&&(n.m_jointList=t.m_edgeB.next),t.m_edgeB.prev=null,t.m_edgeB.next=null,L.Destroy(t,null),--this.m_jointCount,0==e)for(var i=n.GetContactList();i;)i.other==o&&i.contact.FlagForFiltering(),i=i.next},V.prototype.AddController=function(t){return t.m_next=this.m_controllerList,t.m_prev=null,this.m_controllerList=t,t.m_world=this,this.m_controllerCount++,t},V.prototype.RemoveController=function(t){t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),this.m_controllerList==t&&(this.m_controllerList=t.m_next),this.m_controllerCount--},V.prototype.CreateController=function(t){if(t.m_world!=this)throw new Error("Controller can only be a member of one world");return t.m_next=this.m_controllerList,t.m_prev=null,this.m_controllerList&&(this.m_controllerList.m_prev=t),this.m_controllerList=t,++this.m_controllerCount,t.m_world=this,t},V.prototype.DestroyController=function(t){t.Clear(),t.m_next&&(t.m_next.m_prev=t.m_prev),t.m_prev&&(t.m_prev.m_next=t.m_next),t==this.m_controllerList&&(this.m_controllerList=t.m_next),--this.m_controllerCount},V.prototype.SetWarmStarting=function(t){V.m_warmStarting=t},V.prototype.SetContinuousPhysics=function(t){V.m_continuousPhysics=t},V.prototype.GetBodyCount=function(){return this.m_bodyCount},V.prototype.GetJointCount=function(){return this.m_jointCount},V.prototype.GetContactCount=function(){return this.m_contactCount},V.prototype.SetGravity=function(t){this.m_gravity=t},V.prototype.GetGravity=function(){return this.m_gravity},V.prototype.GetGroundBody=function(){return this.m_groundBody},V.prototype.Step=function(t,e,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===o&&(o=0),this.m_flags&V.e_newFixture&&(this.m_contactManager.FindNewContacts(),this.m_flags&=~V.e_newFixture),this.m_flags|=V.e_locked;var n=V.s_timestep2;n.dt=t,n.velocityIterations=e,n.positionIterations=o,t>0?n.inv_dt=1/t:n.inv_dt=0,n.dtRatio=this.m_inv_dt0*t,n.warmStarting=V.m_warmStarting,this.m_contactManager.Collide(),n.dt>0&&this.Solve(n),V.m_continuousPhysics&&n.dt>0&&this.SolveTOI(n),n.dt>0&&(this.m_inv_dt0=n.inv_dt),this.m_flags&=~V.e_locked},V.prototype.ClearForces=function(){for(var t=this.m_bodyList;t;t=t.m_next)t.m_force.SetZero(),t.m_torque=0},V.prototype.DrawDebugData=function(){if(null!=this.m_debugDraw){this.m_debugDraw.m_sprite.graphics.clear();var t,e,o,n,i,r,l=this.m_debugDraw.GetFlags(),p=(new s,new s,new s,new u,new u,[new s,new s,new s,new s]),c=new a(0,0,0);if(l&D.e_shapeBit)for(t=this.m_bodyList;t;t=t.m_next)for(r=t.m_xf,e=t.GetFixtureList();e;e=e.m_next)o=e.GetShape(),0==t.IsActive()?(c.Set(.5,.5,.3),this.DrawShape(o,r,c)):t.GetType()==x.b2_staticBody?(c.Set(.5,.9,.5),this.DrawShape(o,r,c)):t.GetType()==x.b2_kinematicBody?(c.Set(.5,.5,.9),this.DrawShape(o,r,c)):0==t.IsAwake()?(c.Set(.6,.6,.6),this.DrawShape(o,r,c)):(c.Set(.9,.7,.7),this.DrawShape(o,r,c));if(l&D.e_jointBit)for(n=this.m_jointList;n;n=n.m_next)this.DrawJoint(n);if(l&D.e_controllerBit)for(var h=this.m_controllerList;h;h=h.m_next)h.Draw(this.m_debugDraw);if(l&D.e_pairBit){c.Set(.3,.9,.9);for(var m=this.m_contactManager.m_contactList;m;m=m.GetNext()){var d=m.GetFixtureA(),_=m.GetFixtureB(),y=d.GetAABB().GetCenter(),f=_.GetAABB().GetCenter();this.m_debugDraw.DrawSegment(y,f,c)}}if(l&D.e_aabbBit)for(i=this.m_contactManager.m_broadPhase,p=[new s,new s,new s,new s],t=this.m_bodyList;t;t=t.GetNext())if(0!=t.IsActive())for(e=t.GetFixtureList();e;e=e.GetNext()){var v=i.GetFatAABB(e.m_proxy);p[0].Set(v.lowerBound.x,v.lowerBound.y),p[1].Set(v.upperBound.x,v.lowerBound.y),p[2].Set(v.upperBound.x,v.upperBound.y),p[3].Set(v.lowerBound.x,v.upperBound.y),this.m_debugDraw.DrawPolygon(p,4,c)}if(l&D.e_centerOfMassBit)for(t=this.m_bodyList;t;t=t.m_next)r=V.s_xf,r.R=t.m_xf.R,r.position=t.GetWorldCenter(),this.m_debugDraw.DrawTransform(r)}},V.prototype.QueryAABB=function(t,e){function o(e){return t(i.GetUserData(e))}var n=this,i=n.m_contactManager.m_broadPhase;i.Query(o,e)},V.prototype.QueryShape=function(t,e,o){function n(n){var i=s.GetUserData(n)instanceof w?s.GetUserData(n):null;return!v.TestOverlap(e,o,i.GetShape(),i.GetBody().GetTransform())||t(i)}var i=this;void 0===o&&(o=null),null==o&&(o=new r,o.SetIdentity());var s=i.m_contactManager.m_broadPhase,a=new u;e.ComputeAABB(a,o),s.Query(n,a)},V.prototype.QueryPoint=function(t,e){function o(o){var n=i.GetUserData(o)instanceof w?i.GetUserData(o):null;return!n.TestPoint(e)||t(n)}var n=this,i=n.m_contactManager.m_broadPhase,r=new u;r.lowerBound.Set(e.x-l.b2_linearSlop,e.y-l.b2_linearSlop),r.upperBound.Set(e.x+l.b2_linearSlop,e.y+l.b2_linearSlop),i.Query(o,r)},V.prototype.RayCast=function(t,e,o){function n(n,i){var l=r.GetUserData(i),u=l instanceof w?l:null,p=u.RayCast(a,n);if(p){var c=a.fraction,h=new s((1-c)*e.x+c*o.x,(1-c)*e.y+c*o.y);return t(u,h,a.normal,c)}return n.maxFraction}var i=this,r=i.m_contactManager.m_broadPhase,a=new m,l=new h(e,o);r.RayCast(n,l)},V.prototype.RayCastOne=function(t,e){function o(t,e,o,i){return void 0===i&&(i=0),n=t,i}var n,i=this;return i.RayCast(o,t,e),n},V.prototype.RayCastAll=function(t,e){function o(t,e,o,n){return void 0===n&&(n=0),r[r.length]=t,1}var i=this,r=new n;return i.RayCast(o,t,e),r},V.prototype.GetBodyList=function(){return this.m_bodyList},V.prototype.GetJointList=function(){return this.m_jointList},V.prototype.GetContactList=function(){return this.m_contactList},V.prototype.IsLocked=function(){return(this.m_flags&V.e_locked)>0},V.prototype.Solve=function(t){for(var e,o=this.m_controllerList;o;o=o.m_next)o.Step(t);var n=this.m_island;for(n.Initialize(this.m_bodyCount,this.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener,this.m_contactSolver),e=this.m_bodyList;e;e=e.m_next)e.m_flags&=~x.e_islandFlag;for(var i=this.m_contactList;i;i=i.m_next)i.m_flags&=~T.e_islandFlag;for(var r=this.m_jointList;r;r=r.m_next)r.m_islandFlag=!1;for(var s=(parseInt(this.m_bodyCount),this.s_stack),a=this.m_bodyList;a;a=a.m_next)if(!(a.m_flags&x.e_islandFlag)&&0!=a.IsAwake()&&0!=a.IsActive()&&a.GetType()!=x.b2_staticBody){n.Clear();var l=0;for(s[l++]=a,a.m_flags|=x.e_islandFlag;l>0;)if(e=s[--l],n.AddBody(e),0==e.IsAwake()&&e.SetAwake(!0),e.GetType()!=x.b2_staticBody){for(var u,p=e.m_contactList;p;p=p.next)p.contact.m_flags&T.e_islandFlag||1!=p.contact.IsSensor()&&0!=p.contact.IsEnabled()&&0!=p.contact.IsTouching()&&(n.AddContact(p.contact),p.contact.m_flags|=T.e_islandFlag,u=p.other,u.m_flags&x.e_islandFlag||(s[l++]=u,u.m_flags|=x.e_islandFlag));for(var c=e.m_jointList;c;c=c.next)1!=c.joint.m_islandFlag&&(u=c.other,0!=u.IsActive()&&(n.AddJoint(c.joint),c.joint.m_islandFlag=!0,u.m_flags&x.e_islandFlag||(s[l++]=u,u.m_flags|=x.e_islandFlag)))}n.Solve(t,this.m_gravity,this.m_allowSleep);for(var h=0;h<n.m_bodyCount;++h)e=n.m_bodies[h],e.GetType()==x.b2_staticBody&&(e.m_flags&=~x.e_islandFlag)}for(h=0;h<s.length&&s[h];++h)s[h]=null;for(e=this.m_bodyList;e;e=e.m_next)0!=e.IsAwake()&&0!=e.IsActive()&&e.GetType()!=x.b2_staticBody&&e.SynchronizeFixtures();this.m_contactManager.FindNewContacts()},V.prototype.SolveTOI=function(t){var e,o,n,i,r,s,a,u=this.m_island;u.Initialize(this.m_bodyCount,l.b2_maxTOIContactsPerIsland,l.b2_maxTOIJointsPerIsland,null,this.m_contactManager.m_contactListener,this.m_contactSolver);var p=V.s_queue;for(e=this.m_bodyList;e;e=e.m_next)e.m_flags&=~x.e_islandFlag,e.m_sweep.t0=0;var c;for(c=this.m_contactList;c;c=c.m_next)c.m_flags&=~(T.e_toiFlag|T.e_islandFlag);for(a=this.m_jointList;a;a=a.m_next)a.m_islandFlag=!1;for(;;){var h=null,m=1;for(c=this.m_contactList;c;c=c.m_next)if(1!=c.IsSensor()&&0!=c.IsEnabled()&&0!=c.IsContinuous()){var d=1;if(c.m_flags&T.e_toiFlag)d=c.m_toi;else{if(o=c.m_fixtureA,n=c.m_fixtureB,i=o.m_body,r=n.m_body,!(i.GetType()==x.b2_dynamicBody&&0!=i.IsAwake()||r.GetType()==x.b2_dynamicBody&&0!=r.IsAwake()))continue;var _=i.m_sweep.t0;i.m_sweep.t0<r.m_sweep.t0?(_=r.m_sweep.t0,i.m_sweep.Advance(_)):r.m_sweep.t0<i.m_sweep.t0&&(_=i.m_sweep.t0,r.m_sweep.Advance(_)),d=c.ComputeTOI(i.m_sweep,r.m_sweep),l.b2Assert(0<=d&&d<=1),d>0&&d<1&&(d=(1-d)*_+d,d>1&&(d=1)),c.m_toi=d,c.m_flags|=T.e_toiFlag}Number.MIN_VALUE<d&&d<m&&(h=c,m=d)}if(null==h||1-100*Number.MIN_VALUE<m)break;if(o=h.m_fixtureA,n=h.m_fixtureB,i=o.m_body,r=n.m_body,V.s_backupA.Set(i.m_sweep),V.s_backupB.Set(r.m_sweep),i.Advance(m),r.Advance(m),h.Update(this.m_contactManager.m_contactListener),h.m_flags&=~T.e_toiFlag,1!=h.IsSensor()&&0!=h.IsEnabled()){if(0!=h.IsTouching()){var y=i;y.GetType()!=x.b2_dynamicBody&&(y=r),u.Clear();var f=0,v=0;for(p[f+v++]=y,y.m_flags|=x.e_islandFlag;v>0;)if(e=p[f++],--v,u.AddBody(e),0==e.IsAwake()&&e.SetAwake(!0),e.GetType()==x.b2_dynamicBody){for(s=e.m_contactList;s&&u.m_contactCount!=u.m_contactCapacity;s=s.next)if(!(s.contact.m_flags&T.e_islandFlag)&&1!=s.contact.IsSensor()&&0!=s.contact.IsEnabled()&&0!=s.contact.IsTouching()){u.AddContact(s.contact),s.contact.m_flags|=T.e_islandFlag;var g=s.other;g.m_flags&x.e_islandFlag||(g.GetType()!=x.b2_staticBody&&(g.Advance(m),g.SetAwake(!0)),p[f+v]=g,++v,g.m_flags|=x.e_islandFlag)}for(var b=e.m_jointList;b;b=b.next)u.m_jointCount!=u.m_jointCapacity&&1!=b.joint.m_islandFlag&&(g=b.other,0!=g.IsActive()&&(u.AddJoint(b.joint),b.joint.m_islandFlag=!0,g.m_flags&x.e_islandFlag||(g.GetType()!=x.b2_staticBody&&(g.Advance(m),g.SetAwake(!0)),p[f+v]=g,++v,g.m_flags|=x.e_islandFlag)))}var C=V.s_timestep;C.warmStarting=!1,C.dt=(1-m)*t.dt,C.inv_dt=1/C.dt,C.dtRatio=0,C.velocityIterations=t.velocityIterations,
C.positionIterations=t.positionIterations,u.SolveTOI(C);var E=0;for(E=0;E<u.m_bodyCount;++E)if(e=u.m_bodies[E],e.m_flags&=~x.e_islandFlag,0!=e.IsAwake()&&e.GetType()==x.b2_dynamicBody)for(e.SynchronizeFixtures(),s=e.m_contactList;s;s=s.next)s.contact.m_flags&=~T.e_toiFlag;for(E=0;E<u.m_contactCount;++E)c=u.m_contacts[E],c.m_flags&=~(T.e_toiFlag|T.e_islandFlag);for(E=0;E<u.m_jointCount;++E)a=u.m_joints[E],a.m_islandFlag=!1;this.m_contactManager.FindNewContacts()}}else i.m_sweep.Set(V.s_backupA),r.m_sweep.Set(V.s_backupB),i.SynchronizeTransform(),r.SynchronizeTransform()}},V.prototype.DrawJoint=function(t){var e=t.GetBodyA(),o=t.GetBodyB(),n=e.m_xf,i=o.m_xf,r=n.position,s=i.position,a=t.GetAnchorA(),l=t.GetAnchorB(),u=V.s_jointColor;switch(t.m_type){case L.e_distanceJoint:this.m_debugDraw.DrawSegment(a,l,u);break;case L.e_pulleyJoint:var p=t instanceof R?t:null,c=p.GetGroundAnchorA(),h=p.GetGroundAnchorB();this.m_debugDraw.DrawSegment(c,a,u),this.m_debugDraw.DrawSegment(h,l,u),this.m_debugDraw.DrawSegment(c,h,u);break;case L.e_mouseJoint:this.m_debugDraw.DrawSegment(a,l,u);break;default:e!=this.m_groundBody&&this.m_debugDraw.DrawSegment(r,a,u),this.m_debugDraw.DrawSegment(a,l,u),o!=this.m_groundBody&&this.m_debugDraw.DrawSegment(s,l,u)}},V.prototype.DrawShape=function(e,o,i){switch(e.m_type){case v.e_circleShape:var r=e instanceof d?e:null,s=t.MulX(o,r.m_p),a=r.m_radius,l=o.R.col1;this.m_debugDraw.DrawSolidCircle(s,a,l,i);break;case v.e_polygonShape:var u=0,p=e instanceof f?e:null,c=parseInt(p.GetVertexCount()),h=p.GetVertices(),m=new n(c);for(u=0;u<c;++u)m[u]=t.MulX(o,h[u]);this.m_debugDraw.DrawSolidPolygon(m,c,i);break;case v.e_edgeShape:var y=e instanceof _?e:null;this.m_debugDraw.DrawSegment(t.MulX(o,y.GetVertex1()),t.MulX(o,y.GetVertex2()),i)}},o.postDefs.push(function(){o.Dynamics.b2World.s_timestep2=new M,o.Dynamics.b2World.s_xf=new r,o.Dynamics.b2World.s_backupA=new e,o.Dynamics.b2World.s_backupB=new e,o.Dynamics.b2World.s_timestep=new M,o.Dynamics.b2World.s_queue=new n,o.Dynamics.b2World.s_jointColor=new a(.5,.8,.8),o.Dynamics.b2World.e_newFixture=1,o.Dynamics.b2World.e_locked=2})}(),function(){var t=o.Collision.Shapes.b2CircleShape,e=(o.Collision.Shapes.b2EdgeChainDef,o.Collision.Shapes.b2EdgeShape),r=(o.Collision.Shapes.b2MassData,o.Collision.Shapes.b2PolygonShape),s=o.Collision.Shapes.b2Shape,a=o.Dynamics.Contacts.b2CircleContact,l=o.Dynamics.Contacts.b2Contact,u=o.Dynamics.Contacts.b2ContactConstraint,p=o.Dynamics.Contacts.b2ContactConstraintPoint,c=o.Dynamics.Contacts.b2ContactEdge,h=o.Dynamics.Contacts.b2ContactFactory,m=o.Dynamics.Contacts.b2ContactRegister,d=o.Dynamics.Contacts.b2ContactResult,_=o.Dynamics.Contacts.b2ContactSolver,y=o.Dynamics.Contacts.b2EdgeAndCircleContact,f=o.Dynamics.Contacts.b2NullContact,v=o.Dynamics.Contacts.b2PolyAndCircleContact,x=o.Dynamics.Contacts.b2PolyAndEdgeContact,g=o.Dynamics.Contacts.b2PolygonContact,b=o.Dynamics.Contacts.b2PositionSolverManifold,C=o.Dynamics.b2Body,E=(o.Dynamics.b2BodyDef,o.Dynamics.b2ContactFilter,o.Dynamics.b2ContactImpulse,o.Dynamics.b2ContactListener,o.Dynamics.b2ContactManager,o.Dynamics.b2DebugDraw,o.Dynamics.b2DestructionListener,o.Dynamics.b2FilterData,o.Dynamics.b2Fixture,o.Dynamics.b2FixtureDef,o.Dynamics.b2Island,o.Dynamics.b2TimeStep),P=(o.Dynamics.b2World,o.Common.b2Color,o.Common.b2internal,o.Common.b2Settings),D=o.Common.Math.b2Mat22,S=(o.Common.Math.b2Mat33,o.Common.Math.b2Math),N=(o.Common.Math.b2Sweep,o.Common.Math.b2Transform,o.Common.Math.b2Vec2),w=(o.Common.Math.b2Vec3,o.Collision.b2AABB,o.Collision.b2Bound,o.Collision.b2BoundValues,o.Collision.b2Collision),A=o.Collision.b2ContactID,I=(o.Collision.b2ContactPoint,o.Collision.b2Distance,o.Collision.b2DistanceInput,o.Collision.b2DistanceOutput,o.Collision.b2DistanceProxy,o.Collision.b2DynamicTree,o.Collision.b2DynamicTreeBroadPhase,o.Collision.b2DynamicTreeNode,o.Collision.b2DynamicTreePair,o.Collision.b2Manifold),M=(o.Collision.b2ManifoldPoint,o.Collision.b2Point,o.Collision.b2RayCastInput,o.Collision.b2RayCastOutput,o.Collision.b2Segment,o.Collision.b2SeparationFunction,o.Collision.b2Simplex,o.Collision.b2SimplexCache,o.Collision.b2SimplexVertex,o.Collision.b2TimeOfImpact),V=o.Collision.b2TOIInput,T=o.Collision.b2WorldManifold;o.Collision.ClipVertex,o.Collision.Features,o.Collision.IBroadPhase;o.inherit(a,o.Dynamics.Contacts.b2Contact),a.prototype.__super=o.Dynamics.Contacts.b2Contact.prototype,a.b2CircleContact=function(){o.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},a.Create=function(t){return new a},a.Destroy=function(t,e){},a.prototype.Reset=function(t,e){this.__super.Reset.call(this,t,e)},a.prototype.Evaluate=function(){var e=this.m_fixtureA.GetBody(),o=this.m_fixtureB.GetBody();w.CollideCircles(this.m_manifold,this.m_fixtureA.GetShape()instanceof t?this.m_fixtureA.GetShape():null,e.m_xf,this.m_fixtureB.GetShape()instanceof t?this.m_fixtureB.GetShape():null,o.m_xf)},l.b2Contact=function(){this.m_nodeA=new c,this.m_nodeB=new c,this.m_manifold=new I,this.m_oldManifold=new I},l.prototype.GetManifold=function(){return this.m_manifold},l.prototype.GetWorldManifold=function(t){var e=this.m_fixtureA.GetBody(),o=this.m_fixtureB.GetBody(),n=this.m_fixtureA.GetShape(),i=this.m_fixtureB.GetShape();t.Initialize(this.m_manifold,e.GetTransform(),n.m_radius,o.GetTransform(),i.m_radius)},l.prototype.IsTouching=function(){return(this.m_flags&l.e_touchingFlag)==l.e_touchingFlag},l.prototype.IsContinuous=function(){return(this.m_flags&l.e_continuousFlag)==l.e_continuousFlag},l.prototype.SetSensor=function(t){t?this.m_flags|=l.e_sensorFlag:this.m_flags&=~l.e_sensorFlag},l.prototype.IsSensor=function(){return(this.m_flags&l.e_sensorFlag)==l.e_sensorFlag},l.prototype.SetEnabled=function(t){t?this.m_flags|=l.e_enabledFlag:this.m_flags&=~l.e_enabledFlag},l.prototype.IsEnabled=function(){return(this.m_flags&l.e_enabledFlag)==l.e_enabledFlag},l.prototype.GetNext=function(){return this.m_next},l.prototype.GetFixtureA=function(){return this.m_fixtureA},l.prototype.GetFixtureB=function(){return this.m_fixtureB},l.prototype.FlagForFiltering=function(){this.m_flags|=l.e_filterFlag},l.prototype.b2Contact=function(){},l.prototype.Reset=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=null),this.m_flags=l.e_enabledFlag,!t||!e)return this.m_fixtureA=null,void(this.m_fixtureB=null);(t.IsSensor()||e.IsSensor())&&(this.m_flags|=l.e_sensorFlag);var o=t.GetBody(),n=e.GetBody();(o.GetType()!=C.b2_dynamicBody||o.IsBullet()||n.GetType()!=C.b2_dynamicBody||n.IsBullet())&&(this.m_flags|=l.e_continuousFlag),this.m_fixtureA=t,this.m_fixtureB=e,this.m_manifold.m_pointCount=0,this.m_prev=null,this.m_next=null,this.m_nodeA.contact=null,this.m_nodeA.prev=null,this.m_nodeA.next=null,this.m_nodeA.other=null,this.m_nodeB.contact=null,this.m_nodeB.prev=null,this.m_nodeB.next=null,this.m_nodeB.other=null},l.prototype.Update=function(t){var e=this.m_oldManifold;this.m_oldManifold=this.m_manifold,this.m_manifold=e,this.m_flags|=l.e_enabledFlag;var o=!1,n=(this.m_flags&l.e_touchingFlag)==l.e_touchingFlag,i=this.m_fixtureA.m_body,r=this.m_fixtureB.m_body,a=this.m_fixtureA.m_aabb.TestOverlap(this.m_fixtureB.m_aabb);if(this.m_flags&l.e_sensorFlag){if(a){var u=this.m_fixtureA.GetShape(),p=this.m_fixtureB.GetShape(),c=i.GetTransform(),h=r.GetTransform();o=s.TestOverlap(u,c,p,h)}this.m_manifold.m_pointCount=0}else{if(i.GetType()!=C.b2_dynamicBody||i.IsBullet()||r.GetType()!=C.b2_dynamicBody||r.IsBullet()?this.m_flags|=l.e_continuousFlag:this.m_flags&=~l.e_continuousFlag,a){this.Evaluate(),o=this.m_manifold.m_pointCount>0;for(var m=0;m<this.m_manifold.m_pointCount;++m){var d=this.m_manifold.m_points[m];d.m_normalImpulse=0,d.m_tangentImpulse=0;for(var _=d.m_id,y=0;y<this.m_oldManifold.m_pointCount;++y){var f=this.m_oldManifold.m_points[y];if(f.m_id.key==_.key){d.m_normalImpulse=f.m_normalImpulse,d.m_tangentImpulse=f.m_tangentImpulse;break}}}}else this.m_manifold.m_pointCount=0;o!=n&&(i.SetAwake(!0),r.SetAwake(!0))}o?this.m_flags|=l.e_touchingFlag:this.m_flags&=~l.e_touchingFlag,0==n&&1==o&&t.BeginContact(this),1==n&&0==o&&t.EndContact(this),0==(this.m_flags&l.e_sensorFlag)&&t.PreSolve(this,this.m_oldManifold)},l.prototype.Evaluate=function(){},l.prototype.ComputeTOI=function(t,e){return l.s_input.proxyA.Set(this.m_fixtureA.GetShape()),l.s_input.proxyB.Set(this.m_fixtureB.GetShape()),l.s_input.sweepA=t,l.s_input.sweepB=e,l.s_input.tolerance=P.b2_linearSlop,M.TimeOfImpact(l.s_input)},o.postDefs.push(function(){o.Dynamics.Contacts.b2Contact.e_sensorFlag=1,o.Dynamics.Contacts.b2Contact.e_continuousFlag=2,o.Dynamics.Contacts.b2Contact.e_islandFlag=4,o.Dynamics.Contacts.b2Contact.e_toiFlag=8,o.Dynamics.Contacts.b2Contact.e_touchingFlag=16,o.Dynamics.Contacts.b2Contact.e_enabledFlag=32,o.Dynamics.Contacts.b2Contact.e_filterFlag=64,o.Dynamics.Contacts.b2Contact.s_input=new V}),u.b2ContactConstraint=function(){this.localPlaneNormal=new N,this.localPoint=new N,this.normal=new N,this.normalMass=new D,this.K=new D},u.prototype.b2ContactConstraint=function(){this.points=new n(P.b2_maxManifoldPoints);for(var t=0;t<P.b2_maxManifoldPoints;t++)this.points[t]=new p},p.b2ContactConstraintPoint=function(){this.localPoint=new N,this.rA=new N,this.rB=new N},c.b2ContactEdge=function(){},h.b2ContactFactory=function(){},h.prototype.b2ContactFactory=function(t){this.m_allocator=t,this.InitializeRegisters()},h.prototype.AddType=function(t,e,o,n){void 0===o&&(o=0),void 0===n&&(n=0),this.m_registers[o][n].createFcn=t,this.m_registers[o][n].destroyFcn=e,this.m_registers[o][n].primary=!0,o!=n&&(this.m_registers[n][o].createFcn=t,this.m_registers[n][o].destroyFcn=e,this.m_registers[n][o].primary=!1)},h.prototype.InitializeRegisters=function(){this.m_registers=new n(s.e_shapeTypeCount);for(var t=0;t<s.e_shapeTypeCount;t++){this.m_registers[t]=new n(s.e_shapeTypeCount);for(var e=0;e<s.e_shapeTypeCount;e++)this.m_registers[t][e]=new m}this.AddType(a.Create,a.Destroy,s.e_circleShape,s.e_circleShape),this.AddType(v.Create,v.Destroy,s.e_polygonShape,s.e_circleShape),this.AddType(g.Create,g.Destroy,s.e_polygonShape,s.e_polygonShape),this.AddType(y.Create,y.Destroy,s.e_edgeShape,s.e_circleShape),this.AddType(x.Create,x.Destroy,s.e_polygonShape,s.e_edgeShape)},h.prototype.Create=function(t,e){var o,n=parseInt(t.GetType()),i=parseInt(e.GetType()),r=this.m_registers[n][i];if(r.pool)return o=r.pool,r.pool=o.m_next,r.poolCount--,o.Reset(t,e),o;var s=r.createFcn;return null!=s?r.primary?(o=s(this.m_allocator),o.Reset(t,e),o):(o=s(this.m_allocator),o.Reset(e,t),o):null},h.prototype.Destroy=function(t){t.m_manifold.m_pointCount>0&&(t.m_fixtureA.m_body.SetAwake(!0),t.m_fixtureB.m_body.SetAwake(!0));var e=parseInt(t.m_fixtureA.GetType()),o=parseInt(t.m_fixtureB.GetType()),n=this.m_registers[e][o];n.poolCount++,t.m_next=n.pool,n.pool=t;var i=n.destroyFcn;i(t,this.m_allocator)},m.b2ContactRegister=function(){},d.b2ContactResult=function(){this.position=new N,this.normal=new N,this.id=new A},_.b2ContactSolver=function(){this.m_step=new E,this.m_constraints=new n},_.prototype.b2ContactSolver=function(){},_.prototype.Initialize=function(t,e,o,n){void 0===o&&(o=0);var i;this.m_step.Set(t),this.m_allocator=n;var r=0;for(this.m_constraintCount=o;this.m_constraints.length<this.m_constraintCount;)this.m_constraints[this.m_constraints.length]=new u;for(r=0;r<o;++r){i=e[r];var s=i.m_fixtureA,a=i.m_fixtureB,l=s.m_shape,p=a.m_shape,c=l.m_radius,h=p.m_radius,m=s.m_body,d=a.m_body,y=i.GetManifold(),f=P.b2MixFriction(s.GetFriction(),a.GetFriction()),v=P.b2MixRestitution(s.GetRestitution(),a.GetRestitution()),x=m.m_linearVelocity.x,g=m.m_linearVelocity.y,b=d.m_linearVelocity.x,C=d.m_linearVelocity.y,E=m.m_angularVelocity,D=d.m_angularVelocity;P.b2Assert(y.m_pointCount>0),_.s_worldManifold.Initialize(y,m.m_xf,c,d.m_xf,h);var S=_.s_worldManifold.m_normal.x,N=_.s_worldManifold.m_normal.y,w=this.m_constraints[r];w.bodyA=m,w.bodyB=d,w.manifold=y,w.normal.x=S,w.normal.y=N,w.pointCount=y.m_pointCount,w.friction=f,w.restitution=v,w.localPlaneNormal.x=y.m_localPlaneNormal.x,w.localPlaneNormal.y=y.m_localPlaneNormal.y,w.localPoint.x=y.m_localPoint.x,w.localPoint.y=y.m_localPoint.y,w.radius=c+h,w.type=y.m_type;for(var A=0;A<w.pointCount;++A){var I=y.m_points[A],M=w.points[A];M.normalImpulse=I.m_normalImpulse,M.tangentImpulse=I.m_tangentImpulse,M.localPoint.SetV(I.m_localPoint);var V=M.rA.x=_.s_worldManifold.m_points[A].x-m.m_sweep.c.x,T=M.rA.y=_.s_worldManifold.m_points[A].y-m.m_sweep.c.y,B=M.rB.x=_.s_worldManifold.m_points[A].x-d.m_sweep.c.x,O=M.rB.y=_.s_worldManifold.m_points[A].y-d.m_sweep.c.y,L=V*N-T*S,R=B*N-O*S;L*=L,R*=R;var k=m.m_invMass+d.m_invMass+m.m_invI*L+d.m_invI*R;M.normalMass=1/k;var F=m.m_mass*m.m_invMass+d.m_mass*d.m_invMass;F+=m.m_mass*m.m_invI*L+d.m_mass*d.m_invI*R,M.equalizedMass=1/F;var G=N,X=-S,J=V*X-T*G,Y=B*X-O*G;J*=J,Y*=Y;var W=m.m_invMass+d.m_invMass+m.m_invI*J+d.m_invI*Y;M.tangentMass=1/W,M.velocityBias=0;var U=b+-D*O-x- -E*T,j=C+D*B-g-E*V,q=w.normal.x*U+w.normal.y*j;q<-P.b2_velocityThreshold&&(M.velocityBias+=-w.restitution*q)}if(2==w.pointCount){var z=w.points[0],K=w.points[1],H=m.m_invMass,Z=m.m_invI,Q=d.m_invMass,$=d.m_invI,tt=z.rA.x*N-z.rA.y*S,et=z.rB.x*N-z.rB.y*S,ot=K.rA.x*N-K.rA.y*S,nt=K.rB.x*N-K.rB.y*S,it=H+Q+Z*tt*tt+$*et*et,rt=H+Q+Z*ot*ot+$*nt*nt,st=H+Q+Z*tt*ot+$*et*nt,at=100;it*it<at*(it*rt-st*st)?(w.K.col1.Set(it,st),w.K.col2.Set(st,rt),w.K.GetInverse(w.normalMass)):w.pointCount=1}}},_.prototype.InitVelocityConstraints=function(t){for(var e=0;e<this.m_constraintCount;++e){var o=this.m_constraints[e],n=o.bodyA,i=o.bodyB,r=n.m_invMass,s=n.m_invI,a=i.m_invMass,l=i.m_invI,u=o.normal.x,p=o.normal.y,c=p,h=-u,m=0,d=0;if(t.warmStarting)for(d=o.pointCount,m=0;m<d;++m){var _=o.points[m];_.normalImpulse*=t.dtRatio,_.tangentImpulse*=t.dtRatio;var y=_.normalImpulse*u+_.tangentImpulse*c,f=_.normalImpulse*p+_.tangentImpulse*h;n.m_angularVelocity-=s*(_.rA.x*f-_.rA.y*y),n.m_linearVelocity.x-=r*y,n.m_linearVelocity.y-=r*f,i.m_angularVelocity+=l*(_.rB.x*f-_.rB.y*y),i.m_linearVelocity.x+=a*y,i.m_linearVelocity.y+=a*f}else for(d=o.pointCount,m=0;m<d;++m){var v=o.points[m];v.normalImpulse=0,v.tangentImpulse=0}}},_.prototype.SolveVelocityConstraints=function(){for(var t,e,o=0,n=0,i=0,r=0,s=0,a=0,l=0,u=0,p=0,c=0,h=0,m=0,d=0,_=0,y=0,f=0,v=0;v<this.m_constraintCount;++v){var x=this.m_constraints[v],g=x.bodyA,b=x.bodyB,C=g.m_angularVelocity,E=b.m_angularVelocity,P=g.m_linearVelocity,D=b.m_linearVelocity,N=g.m_invMass,w=g.m_invI,A=b.m_invMass,I=b.m_invI,M=x.normal.x,V=x.normal.y,T=V,B=-M,O=x.friction;for(o=0;o<x.pointCount;o++)t=x.points[o],n=D.x-E*t.rB.y-P.x+C*t.rA.y,i=D.y+E*t.rB.x-P.y-C*t.rA.x,s=n*T+i*B,a=t.tangentMass*-s,l=O*t.normalImpulse,u=S.Clamp(t.tangentImpulse+a,-l,l),a=u-t.tangentImpulse,p=a*T,c=a*B,P.x-=N*p,P.y-=N*c,C-=w*(t.rA.x*c-t.rA.y*p),D.x+=A*p,D.y+=A*c,E+=I*(t.rB.x*c-t.rB.y*p),t.tangentImpulse=u;parseInt(x.pointCount);if(1==x.pointCount)t=x.points[0],n=D.x+-E*t.rB.y-P.x- -C*t.rA.y,i=D.y+E*t.rB.x-P.y-C*t.rA.x,r=n*M+i*V,a=-t.normalMass*(r-t.velocityBias),u=t.normalImpulse+a,u=u>0?u:0,a=u-t.normalImpulse,p=a*M,c=a*V,P.x-=N*p,P.y-=N*c,C-=w*(t.rA.x*c-t.rA.y*p),D.x+=A*p,D.y+=A*c,E+=I*(t.rB.x*c-t.rB.y*p),t.normalImpulse=u;else{var L=x.points[0],R=x.points[1],k=L.normalImpulse,F=R.normalImpulse,G=D.x-E*L.rB.y-P.x+C*L.rA.y,X=D.y+E*L.rB.x-P.y-C*L.rA.x,J=D.x-E*R.rB.y-P.x+C*R.rA.y,Y=D.y+E*R.rB.x-P.y-C*R.rA.x,W=G*M+X*V,U=J*M+Y*V,j=W-L.velocityBias,q=U-R.velocityBias;e=x.K,j-=e.col1.x*k+e.col2.x*F,q-=e.col1.y*k+e.col2.y*F;for(;;){e=x.normalMass;var z=-(e.col1.x*j+e.col2.x*q),K=-(e.col1.y*j+e.col2.y*q);if(z>=0&&K>=0){h=z-k,m=K-F,d=h*M,_=h*V,y=m*M,f=m*V,P.x-=N*(d+y),P.y-=N*(_+f),C-=w*(L.rA.x*_-L.rA.y*d+R.rA.x*f-R.rA.y*y),D.x+=A*(d+y),D.y+=A*(_+f),E+=I*(L.rB.x*_-L.rB.y*d+R.rB.x*f-R.rB.y*y),L.normalImpulse=z,R.normalImpulse=K;break}if(z=-L.normalMass*j,K=0,W=0,U=x.K.col1.y*z+q,z>=0&&U>=0){h=z-k,m=K-F,d=h*M,_=h*V,y=m*M,f=m*V,P.x-=N*(d+y),P.y-=N*(_+f),C-=w*(L.rA.x*_-L.rA.y*d+R.rA.x*f-R.rA.y*y),D.x+=A*(d+y),D.y+=A*(_+f),E+=I*(L.rB.x*_-L.rB.y*d+R.rB.x*f-R.rB.y*y),L.normalImpulse=z,R.normalImpulse=K;break}if(z=0,K=-R.normalMass*q,W=x.K.col2.x*K+j,U=0,K>=0&&W>=0){h=z-k,m=K-F,d=h*M,_=h*V,y=m*M,f=m*V,P.x-=N*(d+y),P.y-=N*(_+f),C-=w*(L.rA.x*_-L.rA.y*d+R.rA.x*f-R.rA.y*y),D.x+=A*(d+y),D.y+=A*(_+f),E+=I*(L.rB.x*_-L.rB.y*d+R.rB.x*f-R.rB.y*y),L.normalImpulse=z,R.normalImpulse=K;break}if(z=0,K=0,W=j,U=q,W>=0&&U>=0){h=z-k,m=K-F,d=h*M,_=h*V,y=m*M,f=m*V,P.x-=N*(d+y),P.y-=N*(_+f),C-=w*(L.rA.x*_-L.rA.y*d+R.rA.x*f-R.rA.y*y),D.x+=A*(d+y),D.y+=A*(_+f),E+=I*(L.rB.x*_-L.rB.y*d+R.rB.x*f-R.rB.y*y),L.normalImpulse=z,R.normalImpulse=K;break}break}}g.m_angularVelocity=C,b.m_angularVelocity=E}},_.prototype.FinalizeVelocityConstraints=function(){for(var t=0;t<this.m_constraintCount;++t)for(var e=this.m_constraints[t],o=e.manifold,n=0;n<e.pointCount;++n){var i=o.m_points[n],r=e.points[n];i.m_normalImpulse=r.normalImpulse,i.m_tangentImpulse=r.tangentImpulse}},_.prototype.SolvePositionConstraints=function(t){void 0===t&&(t=0);for(var e=0,o=0;o<this.m_constraintCount;o++){var n=this.m_constraints[o],i=n.bodyA,r=n.bodyB,s=i.m_mass*i.m_invMass,a=i.m_mass*i.m_invI,l=r.m_mass*r.m_invMass,u=r.m_mass*r.m_invI;_.s_psm.Initialize(n);for(var p=_.s_psm.m_normal,c=0;c<n.pointCount;c++){var h=n.points[c],m=_.s_psm.m_points[c],d=_.s_psm.m_separations[c],y=m.x-i.m_sweep.c.x,f=m.y-i.m_sweep.c.y,v=m.x-r.m_sweep.c.x,x=m.y-r.m_sweep.c.y;e=e<d?e:d;var g=S.Clamp(t*(d+P.b2_linearSlop),-P.b2_maxLinearCorrection,0),b=-h.equalizedMass*g,C=b*p.x,E=b*p.y;i.m_sweep.c.x-=s*C,i.m_sweep.c.y-=s*E,i.m_sweep.a-=a*(y*E-f*C),i.SynchronizeTransform(),r.m_sweep.c.x+=l*C,r.m_sweep.c.y+=l*E,r.m_sweep.a+=u*(v*E-x*C),r.SynchronizeTransform()}}return e>-1.5*P.b2_linearSlop},o.postDefs.push(function(){o.Dynamics.Contacts.b2ContactSolver.s_worldManifold=new T,o.Dynamics.Contacts.b2ContactSolver.s_psm=new b}),o.inherit(y,o.Dynamics.Contacts.b2Contact),y.prototype.__super=o.Dynamics.Contacts.b2Contact.prototype,y.b2EdgeAndCircleContact=function(){o.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},y.Create=function(t){return new y},y.Destroy=function(t,e){},y.prototype.Reset=function(t,e){this.__super.Reset.call(this,t,e)},y.prototype.Evaluate=function(){var o=this.m_fixtureA.GetBody(),n=this.m_fixtureB.GetBody();this.b2CollideEdgeAndCircle(this.m_manifold,this.m_fixtureA.GetShape()instanceof e?this.m_fixtureA.GetShape():null,o.m_xf,this.m_fixtureB.GetShape()instanceof t?this.m_fixtureB.GetShape():null,n.m_xf)},y.prototype.b2CollideEdgeAndCircle=function(t,e,o,n,i){},o.inherit(f,o.Dynamics.Contacts.b2Contact),f.prototype.__super=o.Dynamics.Contacts.b2Contact.prototype,f.b2NullContact=function(){o.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},f.prototype.b2NullContact=function(){this.__super.b2Contact.call(this)},f.prototype.Evaluate=function(){},o.inherit(v,o.Dynamics.Contacts.b2Contact),v.prototype.__super=o.Dynamics.Contacts.b2Contact.prototype,v.b2PolyAndCircleContact=function(){o.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},v.Create=function(t){return new v},v.Destroy=function(t,e){},v.prototype.Reset=function(t,e){this.__super.Reset.call(this,t,e),P.b2Assert(t.GetType()==s.e_polygonShape),P.b2Assert(e.GetType()==s.e_circleShape)},v.prototype.Evaluate=function(){var e=this.m_fixtureA.m_body,o=this.m_fixtureB.m_body;w.CollidePolygonAndCircle(this.m_manifold,this.m_fixtureA.GetShape()instanceof r?this.m_fixtureA.GetShape():null,e.m_xf,this.m_fixtureB.GetShape()instanceof t?this.m_fixtureB.GetShape():null,o.m_xf)},o.inherit(x,o.Dynamics.Contacts.b2Contact),x.prototype.__super=o.Dynamics.Contacts.b2Contact.prototype,x.b2PolyAndEdgeContact=function(){o.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},x.Create=function(t){return new x},x.Destroy=function(t,e){},x.prototype.Reset=function(t,e){this.__super.Reset.call(this,t,e),P.b2Assert(t.GetType()==s.e_polygonShape),P.b2Assert(e.GetType()==s.e_edgeShape)},x.prototype.Evaluate=function(){var t=this.m_fixtureA.GetBody(),o=this.m_fixtureB.GetBody();this.b2CollidePolyAndEdge(this.m_manifold,this.m_fixtureA.GetShape()instanceof r?this.m_fixtureA.GetShape():null,t.m_xf,this.m_fixtureB.GetShape()instanceof e?this.m_fixtureB.GetShape():null,o.m_xf)},x.prototype.b2CollidePolyAndEdge=function(t,e,o,n,i){},o.inherit(g,o.Dynamics.Contacts.b2Contact),g.prototype.__super=o.Dynamics.Contacts.b2Contact.prototype,g.b2PolygonContact=function(){o.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)},g.Create=function(t){return new g},g.Destroy=function(t,e){},g.prototype.Reset=function(t,e){this.__super.Reset.call(this,t,e)},g.prototype.Evaluate=function(){var t=this.m_fixtureA.GetBody(),e=this.m_fixtureB.GetBody();w.CollidePolygons(this.m_manifold,this.m_fixtureA.GetShape()instanceof r?this.m_fixtureA.GetShape():null,t.m_xf,this.m_fixtureB.GetShape()instanceof r?this.m_fixtureB.GetShape():null,e.m_xf)},b.b2PositionSolverManifold=function(){},b.prototype.b2PositionSolverManifold=function(){this.m_normal=new N,this.m_separations=new i(P.b2_maxManifoldPoints),this.m_points=new n(P.b2_maxManifoldPoints);for(var t=0;t<P.b2_maxManifoldPoints;t++)this.m_points[t]=new N},b.prototype.Initialize=function(t){P.b2Assert(t.pointCount>0);var e,o,n=0,i=0,r=0,s=0,a=0;switch(t.type){case I.e_circles:e=t.bodyA.m_xf.R,o=t.localPoint;var l=t.bodyA.m_xf.position.x+(e.col1.x*o.x+e.col2.x*o.y),u=t.bodyA.m_xf.position.y+(e.col1.y*o.x+e.col2.y*o.y);e=t.bodyB.m_xf.R,o=t.points[0].localPoint;var p=t.bodyB.m_xf.position.x+(e.col1.x*o.x+e.col2.x*o.y),c=t.bodyB.m_xf.position.y+(e.col1.y*o.x+e.col2.y*o.y),h=p-l,m=c-u,d=h*h+m*m;if(d>Number.MIN_VALUE*Number.MIN_VALUE){var _=Math.sqrt(d);this.m_normal.x=h/_,this.m_normal.y=m/_}else this.m_normal.x=1,this.m_normal.y=0;this.m_points[0].x=.5*(l+p),this.m_points[0].y=.5*(u+c),this.m_separations[0]=h*this.m_normal.x+m*this.m_normal.y-t.radius;break;case I.e_faceA:for(e=t.bodyA.m_xf.R,o=t.localPlaneNormal,this.m_normal.x=e.col1.x*o.x+e.col2.x*o.y,this.m_normal.y=e.col1.y*o.x+e.col2.y*o.y,e=t.bodyA.m_xf.R,o=t.localPoint,s=t.bodyA.m_xf.position.x+(e.col1.x*o.x+e.col2.x*o.y),a=t.bodyA.m_xf.position.y+(e.col1.y*o.x+e.col2.y*o.y),e=t.bodyB.m_xf.R,n=0;n<t.pointCount;++n)o=t.points[n].localPoint,i=t.bodyB.m_xf.position.x+(e.col1.x*o.x+e.col2.x*o.y),r=t.bodyB.m_xf.position.y+(e.col1.y*o.x+e.col2.y*o.y),this.m_separations[n]=(i-s)*this.m_normal.x+(r-a)*this.m_normal.y-t.radius,this.m_points[n].x=i,this.m_points[n].y=r;break;case I.e_faceB:for(e=t.bodyB.m_xf.R,o=t.localPlaneNormal,this.m_normal.x=e.col1.x*o.x+e.col2.x*o.y,this.m_normal.y=e.col1.y*o.x+e.col2.y*o.y,e=t.bodyB.m_xf.R,o=t.localPoint,s=t.bodyB.m_xf.position.x+(e.col1.x*o.x+e.col2.x*o.y),a=t.bodyB.m_xf.position.y+(e.col1.y*o.x+e.col2.y*o.y),e=t.bodyA.m_xf.R,n=0;n<t.pointCount;++n)o=t.points[n].localPoint,i=t.bodyA.m_xf.position.x+(e.col1.x*o.x+e.col2.x*o.y),r=t.bodyA.m_xf.position.y+(e.col1.y*o.x+e.col2.y*o.y),this.m_separations[n]=(i-s)*this.m_normal.x+(r-a)*this.m_normal.y-t.radius,this.m_points[n].Set(i,r);this.m_normal.x*=-1,this.m_normal.y*=-1}},o.postDefs.push(function(){o.Dynamics.Contacts.b2PositionSolverManifold.circlePointA=new N,o.Dynamics.Contacts.b2PositionSolverManifold.circlePointB=new N})}(),function(){var t=(o.Dynamics.b2Body,o.Dynamics.b2BodyDef,o.Dynamics.b2ContactFilter,o.Dynamics.b2ContactImpulse,o.Dynamics.b2ContactListener,o.Dynamics.b2ContactManager,o.Dynamics.b2DebugDraw,o.Dynamics.b2DestructionListener,o.Dynamics.b2FilterData,o.Dynamics.b2Fixture,o.Dynamics.b2FixtureDef,o.Dynamics.b2Island,o.Dynamics.b2TimeStep,o.Dynamics.b2World,o.Common.Math.b2Mat22),e=(o.Common.Math.b2Mat33,o.Common.Math.b2Math),n=(o.Common.Math.b2Sweep,o.Common.Math.b2Transform,o.Common.Math.b2Vec2),i=(o.Common.Math.b2Vec3,o.Common.b2Color),r=(o.Common.b2internal,o.Common.b2Settings,o.Collision.Shapes.b2CircleShape,o.Collision.Shapes.b2EdgeChainDef,o.Collision.Shapes.b2EdgeShape,o.Collision.Shapes.b2MassData,o.Collision.Shapes.b2PolygonShape,o.Collision.Shapes.b2Shape,o.Dynamics.Controllers.b2BuoyancyController),s=o.Dynamics.Controllers.b2ConstantAccelController,a=o.Dynamics.Controllers.b2ConstantForceController,l=o.Dynamics.Controllers.b2Controller,u=o.Dynamics.Controllers.b2ControllerEdge,p=o.Dynamics.Controllers.b2GravityController,c=o.Dynamics.Controllers.b2TensorDampingController;o.inherit(r,o.Dynamics.Controllers.b2Controller),r.prototype.__super=o.Dynamics.Controllers.b2Controller.prototype,r.b2BuoyancyController=function(){o.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments),this.normal=new n(0,(-1)),this.offset=0,this.density=0,this.velocity=new n(0,0),this.linearDrag=2,this.angularDrag=1,this.useDensity=!1,this.useWorldGravity=!0,this.gravity=null},r.prototype.Step=function(t){if(this.m_bodyList){this.useWorldGravity&&(this.gravity=this.GetWorld().GetGravity().Copy());for(var e=this.m_bodyList;e;e=e.nextBody){var o=e.body;if(0!=o.IsAwake()){for(var i=new n,r=new n,s=0,a=0,l=o.GetFixtureList();l;l=l.GetNext()){var u=new n,p=l.GetShape().ComputeSubmergedArea(this.normal,this.offset,o.GetTransform(),u);s+=p,i.x+=p*u.x,i.y+=p*u.y;var c=0;c=(this.useDensity,1),a+=p*c,r.x+=p*u.x*c,r.y+=p*u.y*c}if(i.x/=s,i.y/=s,r.x/=a,r.y/=a,!(s<Number.MIN_VALUE)){var h=this.gravity.GetNegative();h.Multiply(this.density*s),o.ApplyForce(h,r);var m=o.GetLinearVelocityFromWorldPoint(i);m.Subtract(this.velocity),m.Multiply(-this.linearDrag*s),o.ApplyForce(m,i),o.ApplyTorque(-o.GetInertia()/o.GetMass()*s*o.GetAngularVelocity()*this.angularDrag)}}}}},r.prototype.Draw=function(t){var e=1e3,o=new n,r=new n;o.x=this.normal.x*this.offset+this.normal.y*e,o.y=this.normal.y*this.offset-this.normal.x*e,r.x=this.normal.x*this.offset-this.normal.y*e,r.y=this.normal.y*this.offset+this.normal.x*e;var s=new i(0,0,1);t.DrawSegment(o,r,s)},o.inherit(s,o.Dynamics.Controllers.b2Controller),s.prototype.__super=o.Dynamics.Controllers.b2Controller.prototype,s.b2ConstantAccelController=function(){o.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments),this.A=new n(0,0)},s.prototype.Step=function(t){for(var e=new n(this.A.x*t.dt,this.A.y*t.dt),o=this.m_bodyList;o;o=o.nextBody){var i=o.body;i.IsAwake()&&i.SetLinearVelocity(new n(i.GetLinearVelocity().x+e.x,i.GetLinearVelocity().y+e.y))}},o.inherit(a,o.Dynamics.Controllers.b2Controller),a.prototype.__super=o.Dynamics.Controllers.b2Controller.prototype,a.b2ConstantForceController=function(){o.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments),this.F=new n(0,0)},a.prototype.Step=function(t){for(var e=this.m_bodyList;e;e=e.nextBody){var o=e.body;o.IsAwake()&&o.ApplyForce(this.F,o.GetWorldCenter())}},l.b2Controller=function(){},l.prototype.Step=function(t){},l.prototype.Draw=function(t){},l.prototype.AddBody=function(t){var e=new u;e.controller=this,e.body=t,e.nextBody=this.m_bodyList,e.prevBody=null,this.m_bodyList=e,e.nextBody&&(e.nextBody.prevBody=e),this.m_bodyCount++,e.nextController=t.m_controllerList,e.prevController=null,t.m_controllerList=e,e.nextController&&(e.nextController.prevController=e),t.m_controllerCount++},l.prototype.RemoveBody=function(t){for(var e=t.m_controllerList;e&&e.controller!=this;)e=e.nextController;e.prevBody&&(e.prevBody.nextBody=e.nextBody),e.nextBody&&(e.nextBody.prevBody=e.prevBody),e.nextController&&(e.nextController.prevController=e.prevController),e.prevController&&(e.prevController.nextController=e.nextController),this.m_bodyList==e&&(this.m_bodyList=e.nextBody),t.m_controllerList==e&&(t.m_controllerList=e.nextController),t.m_controllerCount--,this.m_bodyCount--},l.prototype.Clear=function(){for(;this.m_bodyList;)this.RemoveBody(this.m_bodyList.body)},l.prototype.GetNext=function(){return this.m_next},l.prototype.GetWorld=function(){return this.m_world},l.prototype.GetBodyList=function(){return this.m_bodyList},u.b2ControllerEdge=function(){},o.inherit(p,o.Dynamics.Controllers.b2Controller),p.prototype.__super=o.Dynamics.Controllers.b2Controller.prototype,p.b2GravityController=function(){o.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments),this.G=1,this.invSqr=!0},p.prototype.Step=function(t){var e=null,o=null,i=null,r=0,s=null,a=null,l=null,u=0,p=0,c=0,h=null;if(this.invSqr)for(e=this.m_bodyList;e;e=e.nextBody)for(o=e.body,i=o.GetWorldCenter(),r=o.GetMass(),s=this.m_bodyList;s!=e;s=s.nextBody)a=s.body,l=a.GetWorldCenter(),u=l.x-i.x,p=l.y-i.y,c=u*u+p*p,c<Number.MIN_VALUE||(h=new n(u,p),h.Multiply(this.G/c/Math.sqrt(c)*r*a.GetMass()),o.IsAwake()&&o.ApplyForce(h,i),h.Multiply(-1),a.IsAwake()&&a.ApplyForce(h,l));else for(e=this.m_bodyList;e;e=e.nextBody)for(o=e.body,i=o.GetWorldCenter(),r=o.GetMass(),s=this.m_bodyList;s!=e;s=s.nextBody)a=s.body,l=a.GetWorldCenter(),u=l.x-i.x,p=l.y-i.y,c=u*u+p*p,c<Number.MIN_VALUE||(h=new n(u,p),h.Multiply(this.G/c*r*a.GetMass()),o.IsAwake()&&o.ApplyForce(h,i),h.Multiply(-1),a.IsAwake()&&a.ApplyForce(h,l))},o.inherit(c,o.Dynamics.Controllers.b2Controller),c.prototype.__super=o.Dynamics.Controllers.b2Controller.prototype,c.b2TensorDampingController=function(){o.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments),this.T=new t,this.maxTimestep=0},c.prototype.SetAxisAligned=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.T.col1.x=-t,this.T.col1.y=0,this.T.col2.x=0,this.T.col2.y=-e,t>0||e>0?this.maxTimestep=1/Math.max(t,e):this.maxTimestep=0},c.prototype.Step=function(t){var o=t.dt;if(!(o<=Number.MIN_VALUE)){o>this.maxTimestep&&this.maxTimestep>0&&(o=this.maxTimestep);for(var i=this.m_bodyList;i;i=i.nextBody){var r=i.body;if(r.IsAwake()){var s=r.GetWorldVector(e.MulMV(this.T,r.GetLocalVector(r.GetLinearVelocity())));r.SetLinearVelocity(new n(r.GetLinearVelocity().x+s.x*o,r.GetLinearVelocity().y+s.y*o))}}}}}(),function(){var t=(o.Common.b2Color,o.Common.b2internal,o.Common.b2Settings),e=o.Common.Math.b2Mat22,n=o.Common.Math.b2Mat33,i=o.Common.Math.b2Math,r=(o.Common.Math.b2Sweep,o.Common.Math.b2Transform,o.Common.Math.b2Vec2),s=o.Common.Math.b2Vec3,a=o.Dynamics.Joints.b2DistanceJoint,l=o.Dynamics.Joints.b2DistanceJointDef,u=o.Dynamics.Joints.b2FrictionJoint,p=o.Dynamics.Joints.b2FrictionJointDef,c=o.Dynamics.Joints.b2GearJoint,h=o.Dynamics.Joints.b2GearJointDef,m=o.Dynamics.Joints.b2Jacobian,d=o.Dynamics.Joints.b2Joint,_=o.Dynamics.Joints.b2JointDef,y=o.Dynamics.Joints.b2JointEdge,f=o.Dynamics.Joints.b2LineJoint,v=o.Dynamics.Joints.b2LineJointDef,x=o.Dynamics.Joints.b2MouseJoint,g=o.Dynamics.Joints.b2MouseJointDef,b=o.Dynamics.Joints.b2PrismaticJoint,C=o.Dynamics.Joints.b2PrismaticJointDef,E=o.Dynamics.Joints.b2PulleyJoint,P=o.Dynamics.Joints.b2PulleyJointDef,D=o.Dynamics.Joints.b2RevoluteJoint,S=o.Dynamics.Joints.b2RevoluteJointDef,N=o.Dynamics.Joints.b2WeldJoint,w=o.Dynamics.Joints.b2WeldJointDef;o.Dynamics.b2Body,o.Dynamics.b2BodyDef,o.Dynamics.b2ContactFilter,o.Dynamics.b2ContactImpulse,o.Dynamics.b2ContactListener,o.Dynamics.b2ContactManager,o.Dynamics.b2DebugDraw,o.Dynamics.b2DestructionListener,o.Dynamics.b2FilterData,o.Dynamics.b2Fixture,o.Dynamics.b2FixtureDef,o.Dynamics.b2Island,o.Dynamics.b2TimeStep,o.Dynamics.b2World;o.inherit(a,o.Dynamics.Joints.b2Joint),a.prototype.__super=o.Dynamics.Joints.b2Joint.prototype,a.b2DistanceJoint=function(){o.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_localAnchor1=new r,this.m_localAnchor2=new r,this.m_u=new r},a.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},a.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},a.prototype.GetReactionForce=function(t){return void 0===t&&(t=0),new r(t*this.m_impulse*this.m_u.x,t*this.m_impulse*this.m_u.y)},a.prototype.GetReactionTorque=function(t){return void 0===t&&(t=0),0},a.prototype.GetLength=function(){return this.m_length},a.prototype.SetLength=function(t){void 0===t&&(t=0),this.m_length=t},a.prototype.GetFrequency=function(){return this.m_frequencyHz},a.prototype.SetFrequency=function(t){void 0===t&&(t=0),this.m_frequencyHz=t},a.prototype.GetDampingRatio=function(){return this.m_dampingRatio},a.prototype.SetDampingRatio=function(t){void 0===t&&(t=0),this.m_dampingRatio=t;
},a.prototype.b2DistanceJoint=function(t){this.__super.b2Joint.call(this,t);this.m_localAnchor1.SetV(t.localAnchorA),this.m_localAnchor2.SetV(t.localAnchorB),this.m_length=t.length,this.m_frequencyHz=t.frequencyHz,this.m_dampingRatio=t.dampingRatio,this.m_impulse=0,this.m_gamma=0,this.m_bias=0},a.prototype.InitVelocityConstraints=function(e){var o,n=0,i=this.m_bodyA,r=this.m_bodyB;o=i.m_xf.R;var s=this.m_localAnchor1.x-i.m_sweep.localCenter.x,a=this.m_localAnchor1.y-i.m_sweep.localCenter.y;n=o.col1.x*s+o.col2.x*a,a=o.col1.y*s+o.col2.y*a,s=n,o=r.m_xf.R;var l=this.m_localAnchor2.x-r.m_sweep.localCenter.x,u=this.m_localAnchor2.y-r.m_sweep.localCenter.y;n=o.col1.x*l+o.col2.x*u,u=o.col1.y*l+o.col2.y*u,l=n,this.m_u.x=r.m_sweep.c.x+l-i.m_sweep.c.x-s,this.m_u.y=r.m_sweep.c.y+u-i.m_sweep.c.y-a;var p=Math.sqrt(this.m_u.x*this.m_u.x+this.m_u.y*this.m_u.y);p>t.b2_linearSlop?this.m_u.Multiply(1/p):this.m_u.SetZero();var c=s*this.m_u.y-a*this.m_u.x,h=l*this.m_u.y-u*this.m_u.x,m=i.m_invMass+i.m_invI*c*c+r.m_invMass+r.m_invI*h*h;if(this.m_mass=0!=m?1/m:0,this.m_frequencyHz>0){var d=p-this.m_length,_=2*Math.PI*this.m_frequencyHz,y=2*this.m_mass*this.m_dampingRatio*_,f=this.m_mass*_*_;this.m_gamma=e.dt*(y+e.dt*f),this.m_gamma=0!=this.m_gamma?1/this.m_gamma:0,this.m_bias=d*e.dt*f*this.m_gamma,this.m_mass=m+this.m_gamma,this.m_mass=0!=this.m_mass?1/this.m_mass:0}if(e.warmStarting){this.m_impulse*=e.dtRatio;var v=this.m_impulse*this.m_u.x,x=this.m_impulse*this.m_u.y;i.m_linearVelocity.x-=i.m_invMass*v,i.m_linearVelocity.y-=i.m_invMass*x,i.m_angularVelocity-=i.m_invI*(s*x-a*v),r.m_linearVelocity.x+=r.m_invMass*v,r.m_linearVelocity.y+=r.m_invMass*x,r.m_angularVelocity+=r.m_invI*(l*x-u*v)}else this.m_impulse=0},a.prototype.SolveVelocityConstraints=function(t){var e,o=this.m_bodyA,n=this.m_bodyB;e=o.m_xf.R;var i=this.m_localAnchor1.x-o.m_sweep.localCenter.x,r=this.m_localAnchor1.y-o.m_sweep.localCenter.y,s=e.col1.x*i+e.col2.x*r;r=e.col1.y*i+e.col2.y*r,i=s,e=n.m_xf.R;var a=this.m_localAnchor2.x-n.m_sweep.localCenter.x,l=this.m_localAnchor2.y-n.m_sweep.localCenter.y;s=e.col1.x*a+e.col2.x*l,l=e.col1.y*a+e.col2.y*l,a=s;var u=o.m_linearVelocity.x+-o.m_angularVelocity*r,p=o.m_linearVelocity.y+o.m_angularVelocity*i,c=n.m_linearVelocity.x+-n.m_angularVelocity*l,h=n.m_linearVelocity.y+n.m_angularVelocity*a,m=this.m_u.x*(c-u)+this.m_u.y*(h-p),d=-this.m_mass*(m+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=d;var _=d*this.m_u.x,y=d*this.m_u.y;o.m_linearVelocity.x-=o.m_invMass*_,o.m_linearVelocity.y-=o.m_invMass*y,o.m_angularVelocity-=o.m_invI*(i*y-r*_),n.m_linearVelocity.x+=n.m_invMass*_,n.m_linearVelocity.y+=n.m_invMass*y,n.m_angularVelocity+=n.m_invI*(a*y-l*_)},a.prototype.SolvePositionConstraints=function(e){void 0===e&&(e=0);var o;if(this.m_frequencyHz>0)return!0;var n=this.m_bodyA,r=this.m_bodyB;o=n.m_xf.R;var s=this.m_localAnchor1.x-n.m_sweep.localCenter.x,a=this.m_localAnchor1.y-n.m_sweep.localCenter.y,l=o.col1.x*s+o.col2.x*a;a=o.col1.y*s+o.col2.y*a,s=l,o=r.m_xf.R;var u=this.m_localAnchor2.x-r.m_sweep.localCenter.x,p=this.m_localAnchor2.y-r.m_sweep.localCenter.y;l=o.col1.x*u+o.col2.x*p,p=o.col1.y*u+o.col2.y*p,u=l;var c=r.m_sweep.c.x+u-n.m_sweep.c.x-s,h=r.m_sweep.c.y+p-n.m_sweep.c.y-a,m=Math.sqrt(c*c+h*h);c/=m,h/=m;var d=m-this.m_length;d=i.Clamp(d,-t.b2_maxLinearCorrection,t.b2_maxLinearCorrection);var _=-this.m_mass*d;this.m_u.Set(c,h);var y=_*this.m_u.x,f=_*this.m_u.y;return n.m_sweep.c.x-=n.m_invMass*y,n.m_sweep.c.y-=n.m_invMass*f,n.m_sweep.a-=n.m_invI*(s*f-a*y),r.m_sweep.c.x+=r.m_invMass*y,r.m_sweep.c.y+=r.m_invMass*f,r.m_sweep.a+=r.m_invI*(u*f-p*y),n.SynchronizeTransform(),r.SynchronizeTransform(),i.Abs(d)<t.b2_linearSlop},o.inherit(l,o.Dynamics.Joints.b2JointDef),l.prototype.__super=o.Dynamics.Joints.b2JointDef.prototype,l.b2DistanceJointDef=function(){o.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new r,this.localAnchorB=new r},l.prototype.b2DistanceJointDef=function(){this.__super.b2JointDef.call(this),this.type=d.e_distanceJoint,this.length=1,this.frequencyHz=0,this.dampingRatio=0},l.prototype.Initialize=function(t,e,o,n){this.bodyA=t,this.bodyB=e,this.localAnchorA.SetV(this.bodyA.GetLocalPoint(o)),this.localAnchorB.SetV(this.bodyB.GetLocalPoint(n));var i=n.x-o.x,r=n.y-o.y;this.length=Math.sqrt(i*i+r*r),this.frequencyHz=0,this.dampingRatio=0},o.inherit(u,o.Dynamics.Joints.b2Joint),u.prototype.__super=o.Dynamics.Joints.b2Joint.prototype,u.b2FrictionJoint=function(){o.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_localAnchorA=new r,this.m_localAnchorB=new r,this.m_linearMass=new e,this.m_linearImpulse=new r},u.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA)},u.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB)},u.prototype.GetReactionForce=function(t){return void 0===t&&(t=0),new r(t*this.m_linearImpulse.x,t*this.m_linearImpulse.y)},u.prototype.GetReactionTorque=function(t){return void 0===t&&(t=0),t*this.m_angularImpulse},u.prototype.SetMaxForce=function(t){void 0===t&&(t=0),this.m_maxForce=t},u.prototype.GetMaxForce=function(){return this.m_maxForce},u.prototype.SetMaxTorque=function(t){void 0===t&&(t=0),this.m_maxTorque=t},u.prototype.GetMaxTorque=function(){return this.m_maxTorque},u.prototype.b2FrictionJoint=function(t){this.__super.b2Joint.call(this,t),this.m_localAnchorA.SetV(t.localAnchorA),this.m_localAnchorB.SetV(t.localAnchorB),this.m_linearMass.SetZero(),this.m_angularMass=0,this.m_linearImpulse.SetZero(),this.m_angularImpulse=0,this.m_maxForce=t.maxForce,this.m_maxTorque=t.maxTorque},u.prototype.InitVelocityConstraints=function(t){var o,n=0,i=this.m_bodyA,r=this.m_bodyB;o=i.m_xf.R;var s=this.m_localAnchorA.x-i.m_sweep.localCenter.x,a=this.m_localAnchorA.y-i.m_sweep.localCenter.y;n=o.col1.x*s+o.col2.x*a,a=o.col1.y*s+o.col2.y*a,s=n,o=r.m_xf.R;var l=this.m_localAnchorB.x-r.m_sweep.localCenter.x,u=this.m_localAnchorB.y-r.m_sweep.localCenter.y;n=o.col1.x*l+o.col2.x*u,u=o.col1.y*l+o.col2.y*u,l=n;var p=i.m_invMass,c=r.m_invMass,h=i.m_invI,m=r.m_invI,d=new e;if(d.col1.x=p+c,d.col2.x=0,d.col1.y=0,d.col2.y=p+c,d.col1.x+=h*a*a,d.col2.x+=-h*s*a,d.col1.y+=-h*s*a,d.col2.y+=h*s*s,d.col1.x+=m*u*u,d.col2.x+=-m*l*u,d.col1.y+=-m*l*u,d.col2.y+=m*l*l,d.GetInverse(this.m_linearMass),this.m_angularMass=h+m,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),t.warmStarting){this.m_linearImpulse.x*=t.dtRatio,this.m_linearImpulse.y*=t.dtRatio,this.m_angularImpulse*=t.dtRatio;var _=this.m_linearImpulse;i.m_linearVelocity.x-=p*_.x,i.m_linearVelocity.y-=p*_.y,i.m_angularVelocity-=h*(s*_.y-a*_.x+this.m_angularImpulse),r.m_linearVelocity.x+=c*_.x,r.m_linearVelocity.y+=c*_.y,r.m_angularVelocity+=m*(l*_.y-u*_.x+this.m_angularImpulse)}else this.m_linearImpulse.SetZero(),this.m_angularImpulse=0},u.prototype.SolveVelocityConstraints=function(t){var e,o=0,n=this.m_bodyA,s=this.m_bodyB,a=n.m_linearVelocity,l=n.m_angularVelocity,u=s.m_linearVelocity,p=s.m_angularVelocity,c=n.m_invMass,h=s.m_invMass,m=n.m_invI,d=s.m_invI;e=n.m_xf.R;var _=this.m_localAnchorA.x-n.m_sweep.localCenter.x,y=this.m_localAnchorA.y-n.m_sweep.localCenter.y;o=e.col1.x*_+e.col2.x*y,y=e.col1.y*_+e.col2.y*y,_=o,e=s.m_xf.R;var f=this.m_localAnchorB.x-s.m_sweep.localCenter.x,v=this.m_localAnchorB.y-s.m_sweep.localCenter.y;o=e.col1.x*f+e.col2.x*v,v=e.col1.y*f+e.col2.y*v,f=o;var x=0,g=p-l,b=-this.m_angularMass*g,C=this.m_angularImpulse;x=t.dt*this.m_maxTorque,this.m_angularImpulse=i.Clamp(this.m_angularImpulse+b,-x,x),b=this.m_angularImpulse-C,l-=m*b,p+=d*b;var E=u.x-p*v-a.x+l*y,P=u.y+p*f-a.y-l*_,D=i.MulMV(this.m_linearMass,new r((-E),(-P))),S=this.m_linearImpulse.Copy();this.m_linearImpulse.Add(D),x=t.dt*this.m_maxForce,this.m_linearImpulse.LengthSquared()>x*x&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.Multiply(x)),D=i.SubtractVV(this.m_linearImpulse,S),a.x-=c*D.x,a.y-=c*D.y,l-=m*(_*D.y-y*D.x),u.x+=h*D.x,u.y+=h*D.y,p+=d*(f*D.y-v*D.x),n.m_angularVelocity=l,s.m_angularVelocity=p},u.prototype.SolvePositionConstraints=function(t){return void 0===t&&(t=0),!0},o.inherit(p,o.Dynamics.Joints.b2JointDef),p.prototype.__super=o.Dynamics.Joints.b2JointDef.prototype,p.b2FrictionJointDef=function(){o.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new r,this.localAnchorB=new r},p.prototype.b2FrictionJointDef=function(){this.__super.b2JointDef.call(this),this.type=d.e_frictionJoint,this.maxForce=0,this.maxTorque=0},p.prototype.Initialize=function(t,e,o){this.bodyA=t,this.bodyB=e,this.localAnchorA.SetV(this.bodyA.GetLocalPoint(o)),this.localAnchorB.SetV(this.bodyB.GetLocalPoint(o))},o.inherit(c,o.Dynamics.Joints.b2Joint),c.prototype.__super=o.Dynamics.Joints.b2Joint.prototype,c.b2GearJoint=function(){o.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_groundAnchor1=new r,this.m_groundAnchor2=new r,this.m_localAnchor1=new r,this.m_localAnchor2=new r,this.m_J=new m},c.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},c.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},c.prototype.GetReactionForce=function(t){return void 0===t&&(t=0),new r(t*this.m_impulse*this.m_J.linearB.x,t*this.m_impulse*this.m_J.linearB.y)},c.prototype.GetReactionTorque=function(t){void 0===t&&(t=0);var e=this.m_bodyB.m_xf.R,o=this.m_localAnchor1.x-this.m_bodyB.m_sweep.localCenter.x,n=this.m_localAnchor1.y-this.m_bodyB.m_sweep.localCenter.y,i=e.col1.x*o+e.col2.x*n;n=e.col1.y*o+e.col2.y*n,o=i;var r=this.m_impulse*this.m_J.linearB.x,s=this.m_impulse*this.m_J.linearB.y;return t*(this.m_impulse*this.m_J.angularB-o*s+n*r)},c.prototype.GetRatio=function(){return this.m_ratio},c.prototype.SetRatio=function(t){void 0===t&&(t=0),this.m_ratio=t},c.prototype.b2GearJoint=function(t){this.__super.b2Joint.call(this,t);var e=parseInt(t.joint1.m_type),o=parseInt(t.joint2.m_type);this.m_revolute1=null,this.m_prismatic1=null,this.m_revolute2=null,this.m_prismatic2=null;var n=0,i=0;this.m_ground1=t.joint1.GetBodyA(),this.m_bodyA=t.joint1.GetBodyB(),e==d.e_revoluteJoint?(this.m_revolute1=t.joint1 instanceof D?t.joint1:null,this.m_groundAnchor1.SetV(this.m_revolute1.m_localAnchor1),this.m_localAnchor1.SetV(this.m_revolute1.m_localAnchor2),n=this.m_revolute1.GetJointAngle()):(this.m_prismatic1=t.joint1 instanceof b?t.joint1:null,this.m_groundAnchor1.SetV(this.m_prismatic1.m_localAnchor1),this.m_localAnchor1.SetV(this.m_prismatic1.m_localAnchor2),n=this.m_prismatic1.GetJointTranslation()),this.m_ground2=t.joint2.GetBodyA(),this.m_bodyB=t.joint2.GetBodyB(),o==d.e_revoluteJoint?(this.m_revolute2=t.joint2 instanceof D?t.joint2:null,this.m_groundAnchor2.SetV(this.m_revolute2.m_localAnchor1),this.m_localAnchor2.SetV(this.m_revolute2.m_localAnchor2),i=this.m_revolute2.GetJointAngle()):(this.m_prismatic2=t.joint2 instanceof b?t.joint2:null,this.m_groundAnchor2.SetV(this.m_prismatic2.m_localAnchor1),this.m_localAnchor2.SetV(this.m_prismatic2.m_localAnchor2),i=this.m_prismatic2.GetJointTranslation()),this.m_ratio=t.ratio,this.m_constant=n+this.m_ratio*i,this.m_impulse=0},c.prototype.InitVelocityConstraints=function(t){var e,o,n=this.m_ground1,i=this.m_ground2,r=this.m_bodyA,s=this.m_bodyB,a=0,l=0,u=0,p=0,c=0,h=0,m=0;this.m_J.SetZero(),this.m_revolute1?(this.m_J.angularA=-1,m+=r.m_invI):(e=n.m_xf.R,o=this.m_prismatic1.m_localXAxis1,a=e.col1.x*o.x+e.col2.x*o.y,l=e.col1.y*o.x+e.col2.y*o.y,e=r.m_xf.R,u=this.m_localAnchor1.x-r.m_sweep.localCenter.x,p=this.m_localAnchor1.y-r.m_sweep.localCenter.y,h=e.col1.x*u+e.col2.x*p,p=e.col1.y*u+e.col2.y*p,u=h,c=u*l-p*a,this.m_J.linearA.Set(-a,-l),this.m_J.angularA=-c,m+=r.m_invMass+r.m_invI*c*c),this.m_revolute2?(this.m_J.angularB=-this.m_ratio,m+=this.m_ratio*this.m_ratio*s.m_invI):(e=i.m_xf.R,o=this.m_prismatic2.m_localXAxis1,a=e.col1.x*o.x+e.col2.x*o.y,l=e.col1.y*o.x+e.col2.y*o.y,e=s.m_xf.R,u=this.m_localAnchor2.x-s.m_sweep.localCenter.x,p=this.m_localAnchor2.y-s.m_sweep.localCenter.y,h=e.col1.x*u+e.col2.x*p,p=e.col1.y*u+e.col2.y*p,u=h,c=u*l-p*a,this.m_J.linearB.Set(-this.m_ratio*a,-this.m_ratio*l),this.m_J.angularB=-this.m_ratio*c,m+=this.m_ratio*this.m_ratio*(s.m_invMass+s.m_invI*c*c)),this.m_mass=m>0?1/m:0,t.warmStarting?(r.m_linearVelocity.x+=r.m_invMass*this.m_impulse*this.m_J.linearA.x,r.m_linearVelocity.y+=r.m_invMass*this.m_impulse*this.m_J.linearA.y,r.m_angularVelocity+=r.m_invI*this.m_impulse*this.m_J.angularA,s.m_linearVelocity.x+=s.m_invMass*this.m_impulse*this.m_J.linearB.x,s.m_linearVelocity.y+=s.m_invMass*this.m_impulse*this.m_J.linearB.y,s.m_angularVelocity+=s.m_invI*this.m_impulse*this.m_J.angularB):this.m_impulse=0},c.prototype.SolveVelocityConstraints=function(t){var e=this.m_bodyA,o=this.m_bodyB,n=this.m_J.Compute(e.m_linearVelocity,e.m_angularVelocity,o.m_linearVelocity,o.m_angularVelocity),i=-this.m_mass*n;this.m_impulse+=i,e.m_linearVelocity.x+=e.m_invMass*i*this.m_J.linearA.x,e.m_linearVelocity.y+=e.m_invMass*i*this.m_J.linearA.y,e.m_angularVelocity+=e.m_invI*i*this.m_J.angularA,o.m_linearVelocity.x+=o.m_invMass*i*this.m_J.linearB.x,o.m_linearVelocity.y+=o.m_invMass*i*this.m_J.linearB.y,o.m_angularVelocity+=o.m_invI*i*this.m_J.angularB},c.prototype.SolvePositionConstraints=function(e){void 0===e&&(e=0);var o=0,n=this.m_bodyA,i=this.m_bodyB,r=0,s=0;r=this.m_revolute1?this.m_revolute1.GetJointAngle():this.m_prismatic1.GetJointTranslation(),s=this.m_revolute2?this.m_revolute2.GetJointAngle():this.m_prismatic2.GetJointTranslation();var a=this.m_constant-(r+this.m_ratio*s),l=-this.m_mass*a;return n.m_sweep.c.x+=n.m_invMass*l*this.m_J.linearA.x,n.m_sweep.c.y+=n.m_invMass*l*this.m_J.linearA.y,n.m_sweep.a+=n.m_invI*l*this.m_J.angularA,i.m_sweep.c.x+=i.m_invMass*l*this.m_J.linearB.x,i.m_sweep.c.y+=i.m_invMass*l*this.m_J.linearB.y,i.m_sweep.a+=i.m_invI*l*this.m_J.angularB,n.SynchronizeTransform(),i.SynchronizeTransform(),o<t.b2_linearSlop},o.inherit(h,o.Dynamics.Joints.b2JointDef),h.prototype.__super=o.Dynamics.Joints.b2JointDef.prototype,h.b2GearJointDef=function(){o.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments)},h.prototype.b2GearJointDef=function(){this.__super.b2JointDef.call(this),this.type=d.e_gearJoint,this.joint1=null,this.joint2=null,this.ratio=1},m.b2Jacobian=function(){this.linearA=new r,this.linearB=new r},m.prototype.SetZero=function(){this.linearA.SetZero(),this.angularA=0,this.linearB.SetZero(),this.angularB=0},m.prototype.Set=function(t,e,o,n){void 0===e&&(e=0),void 0===n&&(n=0),this.linearA.SetV(t),this.angularA=e,this.linearB.SetV(o),this.angularB=n},m.prototype.Compute=function(t,e,o,n){return void 0===e&&(e=0),void 0===n&&(n=0),this.linearA.x*t.x+this.linearA.y*t.y+this.angularA*e+(this.linearB.x*o.x+this.linearB.y*o.y)+this.angularB*n},d.b2Joint=function(){this.m_edgeA=new y,this.m_edgeB=new y,this.m_localCenterA=new r,this.m_localCenterB=new r},d.prototype.GetType=function(){return this.m_type},d.prototype.GetAnchorA=function(){return null},d.prototype.GetAnchorB=function(){return null},d.prototype.GetReactionForce=function(t){return void 0===t&&(t=0),null},d.prototype.GetReactionTorque=function(t){return void 0===t&&(t=0),0},d.prototype.GetBodyA=function(){return this.m_bodyA},d.prototype.GetBodyB=function(){return this.m_bodyB},d.prototype.GetNext=function(){return this.m_next},d.prototype.GetUserData=function(){return this.m_userData},d.prototype.SetUserData=function(t){this.m_userData=t},d.prototype.IsActive=function(){return this.m_bodyA.IsActive()&&this.m_bodyB.IsActive()},d.Create=function(t,e){var o=null;switch(t.type){case d.e_distanceJoint:o=new a(t instanceof l?t:null);break;case d.e_mouseJoint:o=new x(t instanceof g?t:null);break;case d.e_prismaticJoint:o=new b(t instanceof C?t:null);break;case d.e_revoluteJoint:o=new D(t instanceof S?t:null);break;case d.e_pulleyJoint:o=new E(t instanceof P?t:null);break;case d.e_gearJoint:o=new c(t instanceof h?t:null);break;case d.e_lineJoint:o=new f(t instanceof v?t:null);break;case d.e_weldJoint:o=new N(t instanceof w?t:null);break;case d.e_frictionJoint:o=new u(t instanceof p?t:null)}return o},d.Destroy=function(t,e){},d.prototype.b2Joint=function(e){t.b2Assert(e.bodyA!=e.bodyB),this.m_type=e.type,this.m_prev=null,this.m_next=null,this.m_bodyA=e.bodyA,this.m_bodyB=e.bodyB,this.m_collideConnected=e.collideConnected,this.m_islandFlag=!1,this.m_userData=e.userData},d.prototype.InitVelocityConstraints=function(t){},d.prototype.SolveVelocityConstraints=function(t){},d.prototype.FinalizeVelocityConstraints=function(){},d.prototype.SolvePositionConstraints=function(t){return void 0===t&&(t=0),!1},o.postDefs.push(function(){o.Dynamics.Joints.b2Joint.e_unknownJoint=0,o.Dynamics.Joints.b2Joint.e_revoluteJoint=1,o.Dynamics.Joints.b2Joint.e_prismaticJoint=2,o.Dynamics.Joints.b2Joint.e_distanceJoint=3,o.Dynamics.Joints.b2Joint.e_pulleyJoint=4,o.Dynamics.Joints.b2Joint.e_mouseJoint=5,o.Dynamics.Joints.b2Joint.e_gearJoint=6,o.Dynamics.Joints.b2Joint.e_lineJoint=7,o.Dynamics.Joints.b2Joint.e_weldJoint=8,o.Dynamics.Joints.b2Joint.e_frictionJoint=9,o.Dynamics.Joints.b2Joint.e_inactiveLimit=0,o.Dynamics.Joints.b2Joint.e_atLowerLimit=1,o.Dynamics.Joints.b2Joint.e_atUpperLimit=2,o.Dynamics.Joints.b2Joint.e_equalLimits=3}),_.b2JointDef=function(){},_.prototype.b2JointDef=function(){this.type=d.e_unknownJoint,this.userData=null,this.bodyA=null,this.bodyB=null,this.collideConnected=!1},y.b2JointEdge=function(){},o.inherit(f,o.Dynamics.Joints.b2Joint),f.prototype.__super=o.Dynamics.Joints.b2Joint.prototype,f.b2LineJoint=function(){o.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_localAnchor1=new r,this.m_localAnchor2=new r,this.m_localXAxis1=new r,this.m_localYAxis1=new r,this.m_axis=new r,this.m_perp=new r,this.m_K=new e,this.m_impulse=new r},f.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},f.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},f.prototype.GetReactionForce=function(t){return void 0===t&&(t=0),new r(t*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x),t*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y))},f.prototype.GetReactionTorque=function(t){return void 0===t&&(t=0),t*this.m_impulse.y},f.prototype.GetJointTranslation=function(){var t=this.m_bodyA,e=this.m_bodyB,o=t.GetWorldPoint(this.m_localAnchor1),n=e.GetWorldPoint(this.m_localAnchor2),i=n.x-o.x,r=n.y-o.y,s=t.GetWorldVector(this.m_localXAxis1),a=s.x*i+s.y*r;return a},f.prototype.GetJointSpeed=function(){var t,e=this.m_bodyA,o=this.m_bodyB;t=e.m_xf.R;var n=this.m_localAnchor1.x-e.m_sweep.localCenter.x,i=this.m_localAnchor1.y-e.m_sweep.localCenter.y,r=t.col1.x*n+t.col2.x*i;i=t.col1.y*n+t.col2.y*i,n=r,t=o.m_xf.R;var s=this.m_localAnchor2.x-o.m_sweep.localCenter.x,a=this.m_localAnchor2.y-o.m_sweep.localCenter.y;r=t.col1.x*s+t.col2.x*a,a=t.col1.y*s+t.col2.y*a,s=r;var l=e.m_sweep.c.x+n,u=e.m_sweep.c.y+i,p=o.m_sweep.c.x+s,c=o.m_sweep.c.y+a,h=p-l,m=c-u,d=e.GetWorldVector(this.m_localXAxis1),_=e.m_linearVelocity,y=o.m_linearVelocity,f=e.m_angularVelocity,v=o.m_angularVelocity,x=h*(-f*d.y)+m*(f*d.x)+(d.x*(y.x+-v*a-_.x- -f*i)+d.y*(y.y+v*s-_.y-f*n));return x},f.prototype.IsLimitEnabled=function(){return this.m_enableLimit},f.prototype.EnableLimit=function(t){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=t},f.prototype.GetLowerLimit=function(){return this.m_lowerTranslation},f.prototype.GetUpperLimit=function(){return this.m_upperTranslation},f.prototype.SetLimits=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=t,this.m_upperTranslation=e},f.prototype.IsMotorEnabled=function(){return this.m_enableMotor},f.prototype.EnableMotor=function(t){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=t},f.prototype.SetMotorSpeed=function(t){void 0===t&&(t=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=t},f.prototype.GetMotorSpeed=function(){return this.m_motorSpeed},f.prototype.SetMaxMotorForce=function(t){void 0===t&&(t=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=t},f.prototype.GetMaxMotorForce=function(){return this.m_maxMotorForce},f.prototype.GetMotorForce=function(){return this.m_motorImpulse},f.prototype.b2LineJoint=function(t){this.__super.b2Joint.call(this,t);this.m_localAnchor1.SetV(t.localAnchorA),this.m_localAnchor2.SetV(t.localAnchorB),this.m_localXAxis1.SetV(t.localAxisA),this.m_localYAxis1.x=-this.m_localXAxis1.y,this.m_localYAxis1.y=this.m_localXAxis1.x,this.m_impulse.SetZero(),this.m_motorMass=0,this.m_motorImpulse=0,this.m_lowerTranslation=t.lowerTranslation,this.m_upperTranslation=t.upperTranslation,this.m_maxMotorForce=t.maxMotorForce,this.m_motorSpeed=t.motorSpeed,this.m_enableLimit=t.enableLimit,this.m_enableMotor=t.enableMotor,this.m_limitState=d.e_inactiveLimit,this.m_axis.SetZero(),this.m_perp.SetZero()},f.prototype.InitVelocityConstraints=function(e){var o,n=this.m_bodyA,r=this.m_bodyB,s=0;this.m_localCenterA.SetV(n.GetLocalCenter()),this.m_localCenterB.SetV(r.GetLocalCenter());var a=n.GetTransform();r.GetTransform();o=n.m_xf.R;var l=this.m_localAnchor1.x-this.m_localCenterA.x,u=this.m_localAnchor1.y-this.m_localCenterA.y;s=o.col1.x*l+o.col2.x*u,u=o.col1.y*l+o.col2.y*u,l=s,o=r.m_xf.R;var p=this.m_localAnchor2.x-this.m_localCenterB.x,c=this.m_localAnchor2.y-this.m_localCenterB.y;s=o.col1.x*p+o.col2.x*c,c=o.col1.y*p+o.col2.y*c,p=s;var h=r.m_sweep.c.x+p-n.m_sweep.c.x-l,m=r.m_sweep.c.y+c-n.m_sweep.c.y-u;this.m_invMassA=n.m_invMass,this.m_invMassB=r.m_invMass,this.m_invIA=n.m_invI,this.m_invIB=r.m_invI,this.m_axis.SetV(i.MulMV(a.R,this.m_localXAxis1)),this.m_a1=(h+l)*this.m_axis.y-(m+u)*this.m_axis.x,this.m_a2=p*this.m_axis.y-c*this.m_axis.x,this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2,this.m_motorMass=this.m_motorMass>Number.MIN_VALUE?1/this.m_motorMass:0,this.m_perp.SetV(i.MulMV(a.R,this.m_localYAxis1)),this.m_s1=(h+l)*this.m_perp.y-(m+u)*this.m_perp.x,this.m_s2=p*this.m_perp.y-c*this.m_perp.x;var _=this.m_invMassA,y=this.m_invMassB,f=this.m_invIA,v=this.m_invIB;if(this.m_K.col1.x=_+y+f*this.m_s1*this.m_s1+v*this.m_s2*this.m_s2,this.m_K.col1.y=f*this.m_s1*this.m_a1+v*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=_+y+f*this.m_a1*this.m_a1+v*this.m_a2*this.m_a2,this.m_enableLimit){var x=this.m_axis.x*h+this.m_axis.y*m;i.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*t.b2_linearSlop?this.m_limitState=d.e_equalLimits:x<=this.m_lowerTranslation?this.m_limitState!=d.e_atLowerLimit&&(this.m_limitState=d.e_atLowerLimit,this.m_impulse.y=0):x>=this.m_upperTranslation?this.m_limitState!=d.e_atUpperLimit&&(this.m_limitState=d.e_atUpperLimit,this.m_impulse.y=0):(this.m_limitState=d.e_inactiveLimit,this.m_impulse.y=0)}else this.m_limitState=d.e_inactiveLimit;if(0==this.m_enableMotor&&(this.m_motorImpulse=0),e.warmStarting){this.m_impulse.x*=e.dtRatio,this.m_impulse.y*=e.dtRatio,this.m_motorImpulse*=e.dtRatio;var g=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x,b=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y,C=this.m_impulse.x*this.m_s1+(this.m_motorImpulse+this.m_impulse.y)*this.m_a1,E=this.m_impulse.x*this.m_s2+(this.m_motorImpulse+this.m_impulse.y)*this.m_a2;n.m_linearVelocity.x-=this.m_invMassA*g,n.m_linearVelocity.y-=this.m_invMassA*b,n.m_angularVelocity-=this.m_invIA*C,r.m_linearVelocity.x+=this.m_invMassB*g,r.m_linearVelocity.y+=this.m_invMassB*b,r.m_angularVelocity+=this.m_invIB*E}else this.m_impulse.SetZero(),this.m_motorImpulse=0},f.prototype.SolveVelocityConstraints=function(t){var e=this.m_bodyA,o=this.m_bodyB,n=e.m_linearVelocity,s=e.m_angularVelocity,a=o.m_linearVelocity,l=o.m_angularVelocity,u=0,p=0,c=0,h=0;if(this.m_enableMotor&&this.m_limitState!=d.e_equalLimits){var m=this.m_axis.x*(a.x-n.x)+this.m_axis.y*(a.y-n.y)+this.m_a2*l-this.m_a1*s,_=this.m_motorMass*(this.m_motorSpeed-m),y=this.m_motorImpulse,f=t.dt*this.m_maxMotorForce;this.m_motorImpulse=i.Clamp(this.m_motorImpulse+_,-f,f),_=this.m_motorImpulse-y,u=_*this.m_axis.x,p=_*this.m_axis.y,c=_*this.m_a1,h=_*this.m_a2,n.x-=this.m_invMassA*u,n.y-=this.m_invMassA*p,s-=this.m_invIA*c,a.x+=this.m_invMassB*u,a.y+=this.m_invMassB*p,l+=this.m_invIB*h}var v=this.m_perp.x*(a.x-n.x)+this.m_perp.y*(a.y-n.y)+this.m_s2*l-this.m_s1*s;if(this.m_enableLimit&&this.m_limitState!=d.e_inactiveLimit){var x=this.m_axis.x*(a.x-n.x)+this.m_axis.y*(a.y-n.y)+this.m_a2*l-this.m_a1*s,g=this.m_impulse.Copy(),b=this.m_K.Solve(new r,-v,-x);this.m_impulse.Add(b),this.m_limitState==d.e_atLowerLimit?this.m_impulse.y=i.Max(this.m_impulse.y,0):this.m_limitState==d.e_atUpperLimit&&(this.m_impulse.y=i.Min(this.m_impulse.y,0));var C=-v-(this.m_impulse.y-g.y)*this.m_K.col2.x,E=0;E=0!=this.m_K.col1.x?C/this.m_K.col1.x+g.x:g.x,this.m_impulse.x=E,b.x=this.m_impulse.x-g.x,b.y=this.m_impulse.y-g.y,u=b.x*this.m_perp.x+b.y*this.m_axis.x,p=b.x*this.m_perp.y+b.y*this.m_axis.y,c=b.x*this.m_s1+b.y*this.m_a1,h=b.x*this.m_s2+b.y*this.m_a2,n.x-=this.m_invMassA*u,n.y-=this.m_invMassA*p,s-=this.m_invIA*c,a.x+=this.m_invMassB*u,a.y+=this.m_invMassB*p,l+=this.m_invIB*h}else{var P=0;P=0!=this.m_K.col1.x?-v/this.m_K.col1.x:0,this.m_impulse.x+=P,u=P*this.m_perp.x,p=P*this.m_perp.y,c=P*this.m_s1,h=P*this.m_s2,n.x-=this.m_invMassA*u,n.y-=this.m_invMassA*p,s-=this.m_invIA*c,a.x+=this.m_invMassB*u,a.y+=this.m_invMassB*p,l+=this.m_invIB*h}e.m_linearVelocity.SetV(n),e.m_angularVelocity=s,o.m_linearVelocity.SetV(a),o.m_angularVelocity=l},f.prototype.SolvePositionConstraints=function(o){void 0===o&&(o=0);var n,s=this.m_bodyA,a=this.m_bodyB,l=s.m_sweep.c,u=s.m_sweep.a,p=a.m_sweep.c,c=a.m_sweep.a,h=0,m=0,d=0,_=0,y=0,f=0,v=0,x=!1,g=0,b=e.FromAngle(u),C=e.FromAngle(c);n=b;var E=this.m_localAnchor1.x-this.m_localCenterA.x,P=this.m_localAnchor1.y-this.m_localCenterA.y;h=n.col1.x*E+n.col2.x*P,P=n.col1.y*E+n.col2.y*P,E=h,n=C;var D=this.m_localAnchor2.x-this.m_localCenterB.x,S=this.m_localAnchor2.y-this.m_localCenterB.y;h=n.col1.x*D+n.col2.x*S,S=n.col1.y*D+n.col2.y*S,D=h;var N=p.x+D-l.x-E,w=p.y+S-l.y-P;if(this.m_enableLimit){this.m_axis=i.MulMV(b,this.m_localXAxis1),this.m_a1=(N+E)*this.m_axis.y-(w+P)*this.m_axis.x,this.m_a2=D*this.m_axis.y-S*this.m_axis.x;var A=this.m_axis.x*N+this.m_axis.y*w;i.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*t.b2_linearSlop?(g=i.Clamp(A,-t.b2_maxLinearCorrection,t.b2_maxLinearCorrection),f=i.Abs(A),x=!0):A<=this.m_lowerTranslation?(g=i.Clamp(A-this.m_lowerTranslation+t.b2_linearSlop,-t.b2_maxLinearCorrection,0),f=this.m_lowerTranslation-A,x=!0):A>=this.m_upperTranslation&&(g=i.Clamp(A-this.m_upperTranslation+t.b2_linearSlop,0,t.b2_maxLinearCorrection),f=A-this.m_upperTranslation,x=!0)}this.m_perp=i.MulMV(b,this.m_localYAxis1),this.m_s1=(N+E)*this.m_perp.y-(w+P)*this.m_perp.x,this.m_s2=D*this.m_perp.y-S*this.m_perp.x;var I=new r,M=this.m_perp.x*N+this.m_perp.y*w;if(f=i.Max(f,i.Abs(M)),v=0,x)m=this.m_invMassA,d=this.m_invMassB,_=this.m_invIA,y=this.m_invIB,this.m_K.col1.x=m+d+_*this.m_s1*this.m_s1+y*this.m_s2*this.m_s2,this.m_K.col1.y=_*this.m_s1*this.m_a1+y*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=m+d+_*this.m_a1*this.m_a1+y*this.m_a2*this.m_a2,this.m_K.Solve(I,-M,-g);else{m=this.m_invMassA,d=this.m_invMassB,_=this.m_invIA,y=this.m_invIB;var V=m+d+_*this.m_s1*this.m_s1+y*this.m_s2*this.m_s2,T=0;T=0!=V?-M/V:0,I.x=T,I.y=0}var B=I.x*this.m_perp.x+I.y*this.m_axis.x,O=I.x*this.m_perp.y+I.y*this.m_axis.y,L=I.x*this.m_s1+I.y*this.m_a1,R=I.x*this.m_s2+I.y*this.m_a2;return l.x-=this.m_invMassA*B,l.y-=this.m_invMassA*O,u-=this.m_invIA*L,p.x+=this.m_invMassB*B,p.y+=this.m_invMassB*O,c+=this.m_invIB*R,s.m_sweep.a=u,a.m_sweep.a=c,s.SynchronizeTransform(),a.SynchronizeTransform(),f<=t.b2_linearSlop&&v<=t.b2_angularSlop},o.inherit(v,o.Dynamics.Joints.b2JointDef),v.prototype.__super=o.Dynamics.Joints.b2JointDef.prototype,v.b2LineJointDef=function(){o.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new r,this.localAnchorB=new r,this.localAxisA=new r},v.prototype.b2LineJointDef=function(){this.__super.b2JointDef.call(this),this.type=d.e_lineJoint,this.localAxisA.Set(1,0),this.enableLimit=!1,this.lowerTranslation=0,this.upperTranslation=0,this.enableMotor=!1,this.maxMotorForce=0,this.motorSpeed=0},v.prototype.Initialize=function(t,e,o,n){this.bodyA=t,this.bodyB=e,this.localAnchorA=this.bodyA.GetLocalPoint(o),this.localAnchorB=this.bodyB.GetLocalPoint(o),this.localAxisA=this.bodyA.GetLocalVector(n)},o.inherit(x,o.Dynamics.Joints.b2Joint),x.prototype.__super=o.Dynamics.Joints.b2Joint.prototype,x.b2MouseJoint=function(){o.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.K=new e,this.K1=new e,this.K2=new e,this.m_localAnchor=new r,this.m_target=new r,this.m_impulse=new r,this.m_mass=new e,this.m_C=new r},x.prototype.GetAnchorA=function(){return this.m_target},x.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor)},x.prototype.GetReactionForce=function(t){return void 0===t&&(t=0),new r(t*this.m_impulse.x,t*this.m_impulse.y)},x.prototype.GetReactionTorque=function(t){return void 0===t&&(t=0),0},x.prototype.GetTarget=function(){return this.m_target},x.prototype.SetTarget=function(t){0==this.m_bodyB.IsAwake()&&this.m_bodyB.SetAwake(!0),this.m_target=t},x.prototype.GetMaxForce=function(){return this.m_maxForce},x.prototype.SetMaxForce=function(t){void 0===t&&(t=0),this.m_maxForce=t},x.prototype.GetFrequency=function(){return this.m_frequencyHz},x.prototype.SetFrequency=function(t){void 0===t&&(t=0),this.m_frequencyHz=t},x.prototype.GetDampingRatio=function(){return this.m_dampingRatio},x.prototype.SetDampingRatio=function(t){void 0===t&&(t=0),this.m_dampingRatio=t},x.prototype.b2MouseJoint=function(t){this.__super.b2Joint.call(this,t),this.m_target.SetV(t.target);var e=this.m_target.x-this.m_bodyB.m_xf.position.x,o=this.m_target.y-this.m_bodyB.m_xf.position.y,n=this.m_bodyB.m_xf.R;this.m_localAnchor.x=e*n.col1.x+o*n.col1.y,this.m_localAnchor.y=e*n.col2.x+o*n.col2.y,this.m_maxForce=t.maxForce,this.m_impulse.SetZero(),this.m_frequencyHz=t.frequencyHz,this.m_dampingRatio=t.dampingRatio,this.m_beta=0,this.m_gamma=0},x.prototype.InitVelocityConstraints=function(t){var e=this.m_bodyB,o=e.GetMass(),n=2*Math.PI*this.m_frequencyHz,i=2*o*this.m_dampingRatio*n,r=o*n*n;this.m_gamma=t.dt*(i+t.dt*r),this.m_gamma=0!=this.m_gamma?1/this.m_gamma:0,this.m_beta=t.dt*r*this.m_gamma;var s;s=e.m_xf.R;var a=this.m_localAnchor.x-e.m_sweep.localCenter.x,l=this.m_localAnchor.y-e.m_sweep.localCenter.y,u=s.col1.x*a+s.col2.x*l;l=s.col1.y*a+s.col2.y*l,a=u;var p=e.m_invMass,c=e.m_invI;this.K1.col1.x=p,this.K1.col2.x=0,this.K1.col1.y=0,this.K1.col2.y=p,this.K2.col1.x=c*l*l,this.K2.col2.x=-c*a*l,this.K2.col1.y=-c*a*l,this.K2.col2.y=c*a*a,this.K.SetM(this.K1),this.K.AddM(this.K2),this.K.col1.x+=this.m_gamma,this.K.col2.y+=this.m_gamma,this.K.GetInverse(this.m_mass),this.m_C.x=e.m_sweep.c.x+a-this.m_target.x,this.m_C.y=e.m_sweep.c.y+l-this.m_target.y,e.m_angularVelocity*=.98,this.m_impulse.x*=t.dtRatio,this.m_impulse.y*=t.dtRatio,e.m_linearVelocity.x+=p*this.m_impulse.x,e.m_linearVelocity.y+=p*this.m_impulse.y,e.m_angularVelocity+=c*(a*this.m_impulse.y-l*this.m_impulse.x)},x.prototype.SolveVelocityConstraints=function(t){var e,o=this.m_bodyB,n=0,i=0;e=o.m_xf.R;var r=this.m_localAnchor.x-o.m_sweep.localCenter.x,s=this.m_localAnchor.y-o.m_sweep.localCenter.y;n=e.col1.x*r+e.col2.x*s,s=e.col1.y*r+e.col2.y*s,r=n;var a=o.m_linearVelocity.x+-o.m_angularVelocity*s,l=o.m_linearVelocity.y+o.m_angularVelocity*r;e=this.m_mass,n=a+this.m_beta*this.m_C.x+this.m_gamma*this.m_impulse.x,i=l+this.m_beta*this.m_C.y+this.m_gamma*this.m_impulse.y;var u=-(e.col1.x*n+e.col2.x*i),p=-(e.col1.y*n+e.col2.y*i),c=this.m_impulse.x,h=this.m_impulse.y;this.m_impulse.x+=u,this.m_impulse.y+=p;var m=t.dt*this.m_maxForce;this.m_impulse.LengthSquared()>m*m&&this.m_impulse.Multiply(m/this.m_impulse.Length()),
u=this.m_impulse.x-c,p=this.m_impulse.y-h,o.m_linearVelocity.x+=o.m_invMass*u,o.m_linearVelocity.y+=o.m_invMass*p,o.m_angularVelocity+=o.m_invI*(r*p-s*u)},x.prototype.SolvePositionConstraints=function(t){return void 0===t&&(t=0),!0},o.inherit(g,o.Dynamics.Joints.b2JointDef),g.prototype.__super=o.Dynamics.Joints.b2JointDef.prototype,g.b2MouseJointDef=function(){o.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.target=new r},g.prototype.b2MouseJointDef=function(){this.__super.b2JointDef.call(this),this.type=d.e_mouseJoint,this.maxForce=0,this.frequencyHz=5,this.dampingRatio=.7},o.inherit(b,o.Dynamics.Joints.b2Joint),b.prototype.__super=o.Dynamics.Joints.b2Joint.prototype,b.b2PrismaticJoint=function(){o.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_localAnchor1=new r,this.m_localAnchor2=new r,this.m_localXAxis1=new r,this.m_localYAxis1=new r,this.m_axis=new r,this.m_perp=new r,this.m_K=new n,this.m_impulse=new s},b.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},b.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},b.prototype.GetReactionForce=function(t){return void 0===t&&(t=0),new r(t*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),t*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y))},b.prototype.GetReactionTorque=function(t){return void 0===t&&(t=0),t*this.m_impulse.y},b.prototype.GetJointTranslation=function(){var t=this.m_bodyA,e=this.m_bodyB,o=t.GetWorldPoint(this.m_localAnchor1),n=e.GetWorldPoint(this.m_localAnchor2),i=n.x-o.x,r=n.y-o.y,s=t.GetWorldVector(this.m_localXAxis1),a=s.x*i+s.y*r;return a},b.prototype.GetJointSpeed=function(){var t,e=this.m_bodyA,o=this.m_bodyB;t=e.m_xf.R;var n=this.m_localAnchor1.x-e.m_sweep.localCenter.x,i=this.m_localAnchor1.y-e.m_sweep.localCenter.y,r=t.col1.x*n+t.col2.x*i;i=t.col1.y*n+t.col2.y*i,n=r,t=o.m_xf.R;var s=this.m_localAnchor2.x-o.m_sweep.localCenter.x,a=this.m_localAnchor2.y-o.m_sweep.localCenter.y;r=t.col1.x*s+t.col2.x*a,a=t.col1.y*s+t.col2.y*a,s=r;var l=e.m_sweep.c.x+n,u=e.m_sweep.c.y+i,p=o.m_sweep.c.x+s,c=o.m_sweep.c.y+a,h=p-l,m=c-u,d=e.GetWorldVector(this.m_localXAxis1),_=e.m_linearVelocity,y=o.m_linearVelocity,f=e.m_angularVelocity,v=o.m_angularVelocity,x=h*(-f*d.y)+m*(f*d.x)+(d.x*(y.x+-v*a-_.x- -f*i)+d.y*(y.y+v*s-_.y-f*n));return x},b.prototype.IsLimitEnabled=function(){return this.m_enableLimit},b.prototype.EnableLimit=function(t){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=t},b.prototype.GetLowerLimit=function(){return this.m_lowerTranslation},b.prototype.GetUpperLimit=function(){return this.m_upperTranslation},b.prototype.SetLimits=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=t,this.m_upperTranslation=e},b.prototype.IsMotorEnabled=function(){return this.m_enableMotor},b.prototype.EnableMotor=function(t){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=t},b.prototype.SetMotorSpeed=function(t){void 0===t&&(t=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=t},b.prototype.GetMotorSpeed=function(){return this.m_motorSpeed},b.prototype.SetMaxMotorForce=function(t){void 0===t&&(t=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=t},b.prototype.GetMotorForce=function(){return this.m_motorImpulse},b.prototype.b2PrismaticJoint=function(t){this.__super.b2Joint.call(this,t);this.m_localAnchor1.SetV(t.localAnchorA),this.m_localAnchor2.SetV(t.localAnchorB),this.m_localXAxis1.SetV(t.localAxisA),this.m_localYAxis1.x=-this.m_localXAxis1.y,this.m_localYAxis1.y=this.m_localXAxis1.x,this.m_refAngle=t.referenceAngle,this.m_impulse.SetZero(),this.m_motorMass=0,this.m_motorImpulse=0,this.m_lowerTranslation=t.lowerTranslation,this.m_upperTranslation=t.upperTranslation,this.m_maxMotorForce=t.maxMotorForce,this.m_motorSpeed=t.motorSpeed,this.m_enableLimit=t.enableLimit,this.m_enableMotor=t.enableMotor,this.m_limitState=d.e_inactiveLimit,this.m_axis.SetZero(),this.m_perp.SetZero()},b.prototype.InitVelocityConstraints=function(e){var o,n=this.m_bodyA,r=this.m_bodyB,s=0;this.m_localCenterA.SetV(n.GetLocalCenter()),this.m_localCenterB.SetV(r.GetLocalCenter());var a=n.GetTransform();r.GetTransform();o=n.m_xf.R;var l=this.m_localAnchor1.x-this.m_localCenterA.x,u=this.m_localAnchor1.y-this.m_localCenterA.y;s=o.col1.x*l+o.col2.x*u,u=o.col1.y*l+o.col2.y*u,l=s,o=r.m_xf.R;var p=this.m_localAnchor2.x-this.m_localCenterB.x,c=this.m_localAnchor2.y-this.m_localCenterB.y;s=o.col1.x*p+o.col2.x*c,c=o.col1.y*p+o.col2.y*c,p=s;var h=r.m_sweep.c.x+p-n.m_sweep.c.x-l,m=r.m_sweep.c.y+c-n.m_sweep.c.y-u;this.m_invMassA=n.m_invMass,this.m_invMassB=r.m_invMass,this.m_invIA=n.m_invI,this.m_invIB=r.m_invI,this.m_axis.SetV(i.MulMV(a.R,this.m_localXAxis1)),this.m_a1=(h+l)*this.m_axis.y-(m+u)*this.m_axis.x,this.m_a2=p*this.m_axis.y-c*this.m_axis.x,this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2,this.m_motorMass>Number.MIN_VALUE&&(this.m_motorMass=1/this.m_motorMass),this.m_perp.SetV(i.MulMV(a.R,this.m_localYAxis1)),this.m_s1=(h+l)*this.m_perp.y-(m+u)*this.m_perp.x,this.m_s2=p*this.m_perp.y-c*this.m_perp.x;var _=this.m_invMassA,y=this.m_invMassB,f=this.m_invIA,v=this.m_invIB;if(this.m_K.col1.x=_+y+f*this.m_s1*this.m_s1+v*this.m_s2*this.m_s2,this.m_K.col1.y=f*this.m_s1+v*this.m_s2,this.m_K.col1.z=f*this.m_s1*this.m_a1+v*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=f+v,this.m_K.col2.z=f*this.m_a1+v*this.m_a2,this.m_K.col3.x=this.m_K.col1.z,this.m_K.col3.y=this.m_K.col2.z,this.m_K.col3.z=_+y+f*this.m_a1*this.m_a1+v*this.m_a2*this.m_a2,this.m_enableLimit){var x=this.m_axis.x*h+this.m_axis.y*m;i.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*t.b2_linearSlop?this.m_limitState=d.e_equalLimits:x<=this.m_lowerTranslation?this.m_limitState!=d.e_atLowerLimit&&(this.m_limitState=d.e_atLowerLimit,this.m_impulse.z=0):x>=this.m_upperTranslation?this.m_limitState!=d.e_atUpperLimit&&(this.m_limitState=d.e_atUpperLimit,this.m_impulse.z=0):(this.m_limitState=d.e_inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=d.e_inactiveLimit;if(0==this.m_enableMotor&&(this.m_motorImpulse=0),e.warmStarting){this.m_impulse.x*=e.dtRatio,this.m_impulse.y*=e.dtRatio,this.m_motorImpulse*=e.dtRatio;var g=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x,b=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y,C=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,E=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2;n.m_linearVelocity.x-=this.m_invMassA*g,n.m_linearVelocity.y-=this.m_invMassA*b,n.m_angularVelocity-=this.m_invIA*C,r.m_linearVelocity.x+=this.m_invMassB*g,r.m_linearVelocity.y+=this.m_invMassB*b,r.m_angularVelocity+=this.m_invIB*E}else this.m_impulse.SetZero(),this.m_motorImpulse=0},b.prototype.SolveVelocityConstraints=function(t){var e=this.m_bodyA,o=this.m_bodyB,n=e.m_linearVelocity,a=e.m_angularVelocity,l=o.m_linearVelocity,u=o.m_angularVelocity,p=0,c=0,h=0,m=0;if(this.m_enableMotor&&this.m_limitState!=d.e_equalLimits){var _=this.m_axis.x*(l.x-n.x)+this.m_axis.y*(l.y-n.y)+this.m_a2*u-this.m_a1*a,y=this.m_motorMass*(this.m_motorSpeed-_),f=this.m_motorImpulse,v=t.dt*this.m_maxMotorForce;this.m_motorImpulse=i.Clamp(this.m_motorImpulse+y,-v,v),y=this.m_motorImpulse-f,p=y*this.m_axis.x,c=y*this.m_axis.y,h=y*this.m_a1,m=y*this.m_a2,n.x-=this.m_invMassA*p,n.y-=this.m_invMassA*c,a-=this.m_invIA*h,l.x+=this.m_invMassB*p,l.y+=this.m_invMassB*c,u+=this.m_invIB*m}var x=this.m_perp.x*(l.x-n.x)+this.m_perp.y*(l.y-n.y)+this.m_s2*u-this.m_s1*a,g=u-a;if(this.m_enableLimit&&this.m_limitState!=d.e_inactiveLimit){var b=this.m_axis.x*(l.x-n.x)+this.m_axis.y*(l.y-n.y)+this.m_a2*u-this.m_a1*a,C=this.m_impulse.Copy(),E=this.m_K.Solve33(new s,-x,-g,-b);this.m_impulse.Add(E),this.m_limitState==d.e_atLowerLimit?this.m_impulse.z=i.Max(this.m_impulse.z,0):this.m_limitState==d.e_atUpperLimit&&(this.m_impulse.z=i.Min(this.m_impulse.z,0));var P=-x-(this.m_impulse.z-C.z)*this.m_K.col3.x,D=-g-(this.m_impulse.z-C.z)*this.m_K.col3.y,S=this.m_K.Solve22(new r,P,D);S.x+=C.x,S.y+=C.y,this.m_impulse.x=S.x,this.m_impulse.y=S.y,E.x=this.m_impulse.x-C.x,E.y=this.m_impulse.y-C.y,E.z=this.m_impulse.z-C.z,p=E.x*this.m_perp.x+E.z*this.m_axis.x,c=E.x*this.m_perp.y+E.z*this.m_axis.y,h=E.x*this.m_s1+E.y+E.z*this.m_a1,m=E.x*this.m_s2+E.y+E.z*this.m_a2,n.x-=this.m_invMassA*p,n.y-=this.m_invMassA*c,a-=this.m_invIA*h,l.x+=this.m_invMassB*p,l.y+=this.m_invMassB*c,u+=this.m_invIB*m}else{var N=this.m_K.Solve22(new r,-x,-g);this.m_impulse.x+=N.x,this.m_impulse.y+=N.y,p=N.x*this.m_perp.x,c=N.x*this.m_perp.y,h=N.x*this.m_s1+N.y,m=N.x*this.m_s2+N.y,n.x-=this.m_invMassA*p,n.y-=this.m_invMassA*c,a-=this.m_invIA*h,l.x+=this.m_invMassB*p,l.y+=this.m_invMassB*c,u+=this.m_invIB*m}e.m_linearVelocity.SetV(n),e.m_angularVelocity=a,o.m_linearVelocity.SetV(l),o.m_angularVelocity=u},b.prototype.SolvePositionConstraints=function(o){void 0===o&&(o=0);var n,a=this.m_bodyA,l=this.m_bodyB,u=a.m_sweep.c,p=a.m_sweep.a,c=l.m_sweep.c,h=l.m_sweep.a,m=0,d=0,_=0,y=0,f=0,v=0,x=0,g=!1,b=0,C=e.FromAngle(p),E=e.FromAngle(h);n=C;var P=this.m_localAnchor1.x-this.m_localCenterA.x,D=this.m_localAnchor1.y-this.m_localCenterA.y;m=n.col1.x*P+n.col2.x*D,D=n.col1.y*P+n.col2.y*D,P=m,n=E;var S=this.m_localAnchor2.x-this.m_localCenterB.x,N=this.m_localAnchor2.y-this.m_localCenterB.y;m=n.col1.x*S+n.col2.x*N,N=n.col1.y*S+n.col2.y*N,S=m;var w=c.x+S-u.x-P,A=c.y+N-u.y-D;if(this.m_enableLimit){this.m_axis=i.MulMV(C,this.m_localXAxis1),this.m_a1=(w+P)*this.m_axis.y-(A+D)*this.m_axis.x,this.m_a2=S*this.m_axis.y-N*this.m_axis.x;var I=this.m_axis.x*w+this.m_axis.y*A;i.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*t.b2_linearSlop?(b=i.Clamp(I,-t.b2_maxLinearCorrection,t.b2_maxLinearCorrection),v=i.Abs(I),g=!0):I<=this.m_lowerTranslation?(b=i.Clamp(I-this.m_lowerTranslation+t.b2_linearSlop,-t.b2_maxLinearCorrection,0),v=this.m_lowerTranslation-I,g=!0):I>=this.m_upperTranslation&&(b=i.Clamp(I-this.m_upperTranslation+t.b2_linearSlop,0,t.b2_maxLinearCorrection),v=I-this.m_upperTranslation,g=!0)}this.m_perp=i.MulMV(C,this.m_localYAxis1),this.m_s1=(w+P)*this.m_perp.y-(A+D)*this.m_perp.x,this.m_s2=S*this.m_perp.y-N*this.m_perp.x;var M=new s,V=this.m_perp.x*w+this.m_perp.y*A,T=h-p-this.m_refAngle;if(v=i.Max(v,i.Abs(V)),x=i.Abs(T),g)d=this.m_invMassA,_=this.m_invMassB,y=this.m_invIA,f=this.m_invIB,this.m_K.col1.x=d+_+y*this.m_s1*this.m_s1+f*this.m_s2*this.m_s2,this.m_K.col1.y=y*this.m_s1+f*this.m_s2,this.m_K.col1.z=y*this.m_s1*this.m_a1+f*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=y+f,this.m_K.col2.z=y*this.m_a1+f*this.m_a2,this.m_K.col3.x=this.m_K.col1.z,this.m_K.col3.y=this.m_K.col2.z,this.m_K.col3.z=d+_+y*this.m_a1*this.m_a1+f*this.m_a2*this.m_a2,this.m_K.Solve33(M,-V,-T,-b);else{d=this.m_invMassA,_=this.m_invMassB,y=this.m_invIA,f=this.m_invIB;var B=d+_+y*this.m_s1*this.m_s1+f*this.m_s2*this.m_s2,O=y*this.m_s1+f*this.m_s2,L=y+f;this.m_K.col1.Set(B,O,0),this.m_K.col2.Set(O,L,0);var R=this.m_K.Solve22(new r,-V,-T);M.x=R.x,M.y=R.y,M.z=0}var k=M.x*this.m_perp.x+M.z*this.m_axis.x,F=M.x*this.m_perp.y+M.z*this.m_axis.y,G=M.x*this.m_s1+M.y+M.z*this.m_a1,X=M.x*this.m_s2+M.y+M.z*this.m_a2;return u.x-=this.m_invMassA*k,u.y-=this.m_invMassA*F,p-=this.m_invIA*G,c.x+=this.m_invMassB*k,c.y+=this.m_invMassB*F,h+=this.m_invIB*X,a.m_sweep.a=p,l.m_sweep.a=h,a.SynchronizeTransform(),l.SynchronizeTransform(),v<=t.b2_linearSlop&&x<=t.b2_angularSlop},o.inherit(C,o.Dynamics.Joints.b2JointDef),C.prototype.__super=o.Dynamics.Joints.b2JointDef.prototype,C.b2PrismaticJointDef=function(){o.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new r,this.localAnchorB=new r,this.localAxisA=new r},C.prototype.b2PrismaticJointDef=function(){this.__super.b2JointDef.call(this),this.type=d.e_prismaticJoint,this.localAxisA.Set(1,0),this.referenceAngle=0,this.enableLimit=!1,this.lowerTranslation=0,this.upperTranslation=0,this.enableMotor=!1,this.maxMotorForce=0,this.motorSpeed=0},C.prototype.Initialize=function(t,e,o,n){this.bodyA=t,this.bodyB=e,this.localAnchorA=this.bodyA.GetLocalPoint(o),this.localAnchorB=this.bodyB.GetLocalPoint(o),this.localAxisA=this.bodyA.GetLocalVector(n),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()},o.inherit(E,o.Dynamics.Joints.b2Joint),E.prototype.__super=o.Dynamics.Joints.b2Joint.prototype,E.b2PulleyJoint=function(){o.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_groundAnchor1=new r,this.m_groundAnchor2=new r,this.m_localAnchor1=new r,this.m_localAnchor2=new r,this.m_u1=new r,this.m_u2=new r},E.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},E.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},E.prototype.GetReactionForce=function(t){return void 0===t&&(t=0),new r(t*this.m_impulse*this.m_u2.x,t*this.m_impulse*this.m_u2.y)},E.prototype.GetReactionTorque=function(t){return void 0===t&&(t=0),0},E.prototype.GetGroundAnchorA=function(){var t=this.m_ground.m_xf.position.Copy();return t.Add(this.m_groundAnchor1),t},E.prototype.GetGroundAnchorB=function(){var t=this.m_ground.m_xf.position.Copy();return t.Add(this.m_groundAnchor2),t},E.prototype.GetLength1=function(){var t=this.m_bodyA.GetWorldPoint(this.m_localAnchor1),e=this.m_ground.m_xf.position.x+this.m_groundAnchor1.x,o=this.m_ground.m_xf.position.y+this.m_groundAnchor1.y,n=t.x-e,i=t.y-o;return Math.sqrt(n*n+i*i)},E.prototype.GetLength2=function(){var t=this.m_bodyB.GetWorldPoint(this.m_localAnchor2),e=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,o=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y,n=t.x-e,i=t.y-o;return Math.sqrt(n*n+i*i)},E.prototype.GetRatio=function(){return this.m_ratio},E.prototype.b2PulleyJoint=function(t){this.__super.b2Joint.call(this,t);this.m_ground=this.m_bodyA.m_world.m_groundBody,this.m_groundAnchor1.x=t.groundAnchorA.x-this.m_ground.m_xf.position.x,this.m_groundAnchor1.y=t.groundAnchorA.y-this.m_ground.m_xf.position.y,this.m_groundAnchor2.x=t.groundAnchorB.x-this.m_ground.m_xf.position.x,this.m_groundAnchor2.y=t.groundAnchorB.y-this.m_ground.m_xf.position.y,this.m_localAnchor1.SetV(t.localAnchorA),this.m_localAnchor2.SetV(t.localAnchorB),this.m_ratio=t.ratio,this.m_constant=t.lengthA+this.m_ratio*t.lengthB,this.m_maxLength1=i.Min(t.maxLengthA,this.m_constant-this.m_ratio*E.b2_minPulleyLength),this.m_maxLength2=i.Min(t.maxLengthB,(this.m_constant-E.b2_minPulleyLength)/this.m_ratio),this.m_impulse=0,this.m_limitImpulse1=0,this.m_limitImpulse2=0},E.prototype.InitVelocityConstraints=function(e){var o,n=this.m_bodyA,i=this.m_bodyB;o=n.m_xf.R;var r=this.m_localAnchor1.x-n.m_sweep.localCenter.x,s=this.m_localAnchor1.y-n.m_sweep.localCenter.y,a=o.col1.x*r+o.col2.x*s;s=o.col1.y*r+o.col2.y*s,r=a,o=i.m_xf.R;var l=this.m_localAnchor2.x-i.m_sweep.localCenter.x,u=this.m_localAnchor2.y-i.m_sweep.localCenter.y;a=o.col1.x*l+o.col2.x*u,u=o.col1.y*l+o.col2.y*u,l=a;var p=n.m_sweep.c.x+r,c=n.m_sweep.c.y+s,h=i.m_sweep.c.x+l,m=i.m_sweep.c.y+u,_=this.m_ground.m_xf.position.x+this.m_groundAnchor1.x,y=this.m_ground.m_xf.position.y+this.m_groundAnchor1.y,f=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,v=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y;this.m_u1.Set(p-_,c-y),this.m_u2.Set(h-f,m-v);var x=this.m_u1.Length(),g=this.m_u2.Length();x>t.b2_linearSlop?this.m_u1.Multiply(1/x):this.m_u1.SetZero(),g>t.b2_linearSlop?this.m_u2.Multiply(1/g):this.m_u2.SetZero();var b=this.m_constant-x-this.m_ratio*g;b>0?(this.m_state=d.e_inactiveLimit,this.m_impulse=0):this.m_state=d.e_atUpperLimit,x<this.m_maxLength1?(this.m_limitState1=d.e_inactiveLimit,this.m_limitImpulse1=0):this.m_limitState1=d.e_atUpperLimit,g<this.m_maxLength2?(this.m_limitState2=d.e_inactiveLimit,this.m_limitImpulse2=0):this.m_limitState2=d.e_atUpperLimit;var C=r*this.m_u1.y-s*this.m_u1.x,E=l*this.m_u2.y-u*this.m_u2.x;if(this.m_limitMass1=n.m_invMass+n.m_invI*C*C,this.m_limitMass2=i.m_invMass+i.m_invI*E*E,this.m_pulleyMass=this.m_limitMass1+this.m_ratio*this.m_ratio*this.m_limitMass2,this.m_limitMass1=1/this.m_limitMass1,this.m_limitMass2=1/this.m_limitMass2,this.m_pulleyMass=1/this.m_pulleyMass,e.warmStarting){this.m_impulse*=e.dtRatio,this.m_limitImpulse1*=e.dtRatio,this.m_limitImpulse2*=e.dtRatio;var P=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.x,D=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.y,S=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.x,N=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.y;n.m_linearVelocity.x+=n.m_invMass*P,n.m_linearVelocity.y+=n.m_invMass*D,n.m_angularVelocity+=n.m_invI*(r*D-s*P),i.m_linearVelocity.x+=i.m_invMass*S,i.m_linearVelocity.y+=i.m_invMass*N,i.m_angularVelocity+=i.m_invI*(l*N-u*S)}else this.m_impulse=0,this.m_limitImpulse1=0,this.m_limitImpulse2=0},E.prototype.SolveVelocityConstraints=function(t){var e,o=this.m_bodyA,n=this.m_bodyB;e=o.m_xf.R;var r=this.m_localAnchor1.x-o.m_sweep.localCenter.x,s=this.m_localAnchor1.y-o.m_sweep.localCenter.y,a=e.col1.x*r+e.col2.x*s;s=e.col1.y*r+e.col2.y*s,r=a,e=n.m_xf.R;var l=this.m_localAnchor2.x-n.m_sweep.localCenter.x,u=this.m_localAnchor2.y-n.m_sweep.localCenter.y;a=e.col1.x*l+e.col2.x*u,u=e.col1.y*l+e.col2.y*u,l=a;var p=0,c=0,h=0,m=0,_=0,y=0,f=0,v=0,x=0,g=0,b=0;this.m_state==d.e_atUpperLimit&&(p=o.m_linearVelocity.x+-o.m_angularVelocity*s,c=o.m_linearVelocity.y+o.m_angularVelocity*r,h=n.m_linearVelocity.x+-n.m_angularVelocity*u,m=n.m_linearVelocity.y+n.m_angularVelocity*l,x=-(this.m_u1.x*p+this.m_u1.y*c)-this.m_ratio*(this.m_u2.x*h+this.m_u2.y*m),g=this.m_pulleyMass*-x,b=this.m_impulse,this.m_impulse=i.Max(0,this.m_impulse+g),g=this.m_impulse-b,_=-g*this.m_u1.x,y=-g*this.m_u1.y,f=-this.m_ratio*g*this.m_u2.x,v=-this.m_ratio*g*this.m_u2.y,o.m_linearVelocity.x+=o.m_invMass*_,o.m_linearVelocity.y+=o.m_invMass*y,o.m_angularVelocity+=o.m_invI*(r*y-s*_),n.m_linearVelocity.x+=n.m_invMass*f,n.m_linearVelocity.y+=n.m_invMass*v,n.m_angularVelocity+=n.m_invI*(l*v-u*f)),this.m_limitState1==d.e_atUpperLimit&&(p=o.m_linearVelocity.x+-o.m_angularVelocity*s,c=o.m_linearVelocity.y+o.m_angularVelocity*r,x=-(this.m_u1.x*p+this.m_u1.y*c),g=-this.m_limitMass1*x,b=this.m_limitImpulse1,this.m_limitImpulse1=i.Max(0,this.m_limitImpulse1+g),g=this.m_limitImpulse1-b,_=-g*this.m_u1.x,y=-g*this.m_u1.y,o.m_linearVelocity.x+=o.m_invMass*_,o.m_linearVelocity.y+=o.m_invMass*y,o.m_angularVelocity+=o.m_invI*(r*y-s*_)),this.m_limitState2==d.e_atUpperLimit&&(h=n.m_linearVelocity.x+-n.m_angularVelocity*u,m=n.m_linearVelocity.y+n.m_angularVelocity*l,x=-(this.m_u2.x*h+this.m_u2.y*m),g=-this.m_limitMass2*x,b=this.m_limitImpulse2,this.m_limitImpulse2=i.Max(0,this.m_limitImpulse2+g),g=this.m_limitImpulse2-b,f=-g*this.m_u2.x,v=-g*this.m_u2.y,n.m_linearVelocity.x+=n.m_invMass*f,n.m_linearVelocity.y+=n.m_invMass*v,n.m_angularVelocity+=n.m_invI*(l*v-u*f))},E.prototype.SolvePositionConstraints=function(e){void 0===e&&(e=0);var o,n=this.m_bodyA,r=this.m_bodyB,s=this.m_ground.m_xf.position.x+this.m_groundAnchor1.x,a=this.m_ground.m_xf.position.y+this.m_groundAnchor1.y,l=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,u=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y,p=0,c=0,h=0,m=0,_=0,y=0,f=0,v=0,x=0,g=0,b=0,C=0,E=0,P=0;return this.m_state==d.e_atUpperLimit&&(o=n.m_xf.R,p=this.m_localAnchor1.x-n.m_sweep.localCenter.x,c=this.m_localAnchor1.y-n.m_sweep.localCenter.y,E=o.col1.x*p+o.col2.x*c,c=o.col1.y*p+o.col2.y*c,p=E,o=r.m_xf.R,h=this.m_localAnchor2.x-r.m_sweep.localCenter.x,m=this.m_localAnchor2.y-r.m_sweep.localCenter.y,E=o.col1.x*h+o.col2.x*m,m=o.col1.y*h+o.col2.y*m,h=E,_=n.m_sweep.c.x+p,y=n.m_sweep.c.y+c,f=r.m_sweep.c.x+h,v=r.m_sweep.c.y+m,this.m_u1.Set(_-s,y-a),this.m_u2.Set(f-l,v-u),x=this.m_u1.Length(),g=this.m_u2.Length(),x>t.b2_linearSlop?this.m_u1.Multiply(1/x):this.m_u1.SetZero(),g>t.b2_linearSlop?this.m_u2.Multiply(1/g):this.m_u2.SetZero(),b=this.m_constant-x-this.m_ratio*g,P=i.Max(P,-b),b=i.Clamp(b+t.b2_linearSlop,-t.b2_maxLinearCorrection,0),C=-this.m_pulleyMass*b,_=-C*this.m_u1.x,y=-C*this.m_u1.y,f=-this.m_ratio*C*this.m_u2.x,v=-this.m_ratio*C*this.m_u2.y,n.m_sweep.c.x+=n.m_invMass*_,n.m_sweep.c.y+=n.m_invMass*y,n.m_sweep.a+=n.m_invI*(p*y-c*_),r.m_sweep.c.x+=r.m_invMass*f,r.m_sweep.c.y+=r.m_invMass*v,r.m_sweep.a+=r.m_invI*(h*v-m*f),n.SynchronizeTransform(),r.SynchronizeTransform()),this.m_limitState1==d.e_atUpperLimit&&(o=n.m_xf.R,p=this.m_localAnchor1.x-n.m_sweep.localCenter.x,c=this.m_localAnchor1.y-n.m_sweep.localCenter.y,E=o.col1.x*p+o.col2.x*c,c=o.col1.y*p+o.col2.y*c,p=E,_=n.m_sweep.c.x+p,y=n.m_sweep.c.y+c,this.m_u1.Set(_-s,y-a),x=this.m_u1.Length(),x>t.b2_linearSlop?(this.m_u1.x*=1/x,this.m_u1.y*=1/x):this.m_u1.SetZero(),b=this.m_maxLength1-x,P=i.Max(P,-b),b=i.Clamp(b+t.b2_linearSlop,-t.b2_maxLinearCorrection,0),C=-this.m_limitMass1*b,_=-C*this.m_u1.x,y=-C*this.m_u1.y,n.m_sweep.c.x+=n.m_invMass*_,n.m_sweep.c.y+=n.m_invMass*y,n.m_sweep.a+=n.m_invI*(p*y-c*_),n.SynchronizeTransform()),this.m_limitState2==d.e_atUpperLimit&&(o=r.m_xf.R,h=this.m_localAnchor2.x-r.m_sweep.localCenter.x,m=this.m_localAnchor2.y-r.m_sweep.localCenter.y,E=o.col1.x*h+o.col2.x*m,m=o.col1.y*h+o.col2.y*m,h=E,f=r.m_sweep.c.x+h,v=r.m_sweep.c.y+m,this.m_u2.Set(f-l,v-u),g=this.m_u2.Length(),g>t.b2_linearSlop?(this.m_u2.x*=1/g,this.m_u2.y*=1/g):this.m_u2.SetZero(),b=this.m_maxLength2-g,P=i.Max(P,-b),b=i.Clamp(b+t.b2_linearSlop,-t.b2_maxLinearCorrection,0),C=-this.m_limitMass2*b,f=-C*this.m_u2.x,v=-C*this.m_u2.y,r.m_sweep.c.x+=r.m_invMass*f,r.m_sweep.c.y+=r.m_invMass*v,r.m_sweep.a+=r.m_invI*(h*v-m*f),r.SynchronizeTransform()),P<t.b2_linearSlop},o.postDefs.push(function(){o.Dynamics.Joints.b2PulleyJoint.b2_minPulleyLength=2}),o.inherit(P,o.Dynamics.Joints.b2JointDef),P.prototype.__super=o.Dynamics.Joints.b2JointDef.prototype,P.b2PulleyJointDef=function(){o.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.groundAnchorA=new r,this.groundAnchorB=new r,this.localAnchorA=new r,this.localAnchorB=new r},P.prototype.b2PulleyJointDef=function(){this.__super.b2JointDef.call(this),this.type=d.e_pulleyJoint,this.groundAnchorA.Set(-1,1),this.groundAnchorB.Set(1,1),this.localAnchorA.Set(-1,0),this.localAnchorB.Set(1,0),this.lengthA=0,this.maxLengthA=0,this.lengthB=0,this.maxLengthB=0,this.ratio=1,this.collideConnected=!0},P.prototype.Initialize=function(t,e,o,n,i,r,s){void 0===s&&(s=0),this.bodyA=t,this.bodyB=e,this.groundAnchorA.SetV(o),this.groundAnchorB.SetV(n),this.localAnchorA=this.bodyA.GetLocalPoint(i),this.localAnchorB=this.bodyB.GetLocalPoint(r);var a=i.x-o.x,l=i.y-o.y;this.lengthA=Math.sqrt(a*a+l*l);var u=r.x-n.x,p=r.y-n.y;this.lengthB=Math.sqrt(u*u+p*p),this.ratio=s;var c=this.lengthA+this.ratio*this.lengthB;this.maxLengthA=c-this.ratio*E.b2_minPulleyLength,this.maxLengthB=(c-E.b2_minPulleyLength)/this.ratio},o.inherit(D,o.Dynamics.Joints.b2Joint),D.prototype.__super=o.Dynamics.Joints.b2Joint.prototype,D.b2RevoluteJoint=function(){o.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.K=new e,this.K1=new e,this.K2=new e,this.K3=new e,this.impulse3=new s,this.impulse2=new r,this.reduced=new r,this.m_localAnchor1=new r,this.m_localAnchor2=new r,this.m_impulse=new s,this.m_mass=new n},D.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)},D.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)},D.prototype.GetReactionForce=function(t){return void 0===t&&(t=0),new r(t*this.m_impulse.x,t*this.m_impulse.y)},D.prototype.GetReactionTorque=function(t){return void 0===t&&(t=0),t*this.m_impulse.z},D.prototype.GetJointAngle=function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle},D.prototype.GetJointSpeed=function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity},D.prototype.IsLimitEnabled=function(){return this.m_enableLimit},D.prototype.EnableLimit=function(t){this.m_enableLimit=t},D.prototype.GetLowerLimit=function(){return this.m_lowerAngle},D.prototype.GetUpperLimit=function(){return this.m_upperAngle},D.prototype.SetLimits=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.m_lowerAngle=t,this.m_upperAngle=e},D.prototype.IsMotorEnabled=function(){return this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor},D.prototype.EnableMotor=function(t){this.m_enableMotor=t},D.prototype.SetMotorSpeed=function(t){void 0===t&&(t=0),this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=t},D.prototype.GetMotorSpeed=function(){return this.m_motorSpeed},D.prototype.SetMaxMotorTorque=function(t){void 0===t&&(t=0),this.m_maxMotorTorque=t},D.prototype.GetMotorTorque=function(){return this.m_maxMotorTorque},D.prototype.b2RevoluteJoint=function(t){this.__super.b2Joint.call(this,t),this.m_localAnchor1.SetV(t.localAnchorA),this.m_localAnchor2.SetV(t.localAnchorB),this.m_referenceAngle=t.referenceAngle,this.m_impulse.SetZero(),this.m_motorImpulse=0,this.m_lowerAngle=t.lowerAngle,this.m_upperAngle=t.upperAngle,this.m_maxMotorTorque=t.maxMotorTorque,this.m_motorSpeed=t.motorSpeed,this.m_enableLimit=t.enableLimit,this.m_enableMotor=t.enableMotor,this.m_limitState=d.e_inactiveLimit},D.prototype.InitVelocityConstraints=function(e){var o,n=this.m_bodyA,r=this.m_bodyB,s=0;this.m_enableMotor||this.m_enableLimit,o=n.m_xf.R;var a=this.m_localAnchor1.x-n.m_sweep.localCenter.x,l=this.m_localAnchor1.y-n.m_sweep.localCenter.y;s=o.col1.x*a+o.col2.x*l,l=o.col1.y*a+o.col2.y*l,a=s,o=r.m_xf.R;var u=this.m_localAnchor2.x-r.m_sweep.localCenter.x,p=this.m_localAnchor2.y-r.m_sweep.localCenter.y;s=o.col1.x*u+o.col2.x*p,p=o.col1.y*u+o.col2.y*p,u=s;var c=n.m_invMass,h=r.m_invMass,m=n.m_invI,_=r.m_invI;if(this.m_mass.col1.x=c+h+l*l*m+p*p*_,this.m_mass.col2.x=-l*a*m-p*u*_,this.m_mass.col3.x=-l*m-p*_,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=c+h+a*a*m+u*u*_,this.m_mass.col3.y=a*m+u*_,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=m+_,this.m_motorMass=1/(m+_),0==this.m_enableMotor&&(this.m_motorImpulse=0),this.m_enableLimit){var y=r.m_sweep.a-n.m_sweep.a-this.m_referenceAngle;i.Abs(this.m_upperAngle-this.m_lowerAngle)<2*t.b2_angularSlop?this.m_limitState=d.e_equalLimits:y<=this.m_lowerAngle?(this.m_limitState!=d.e_atLowerLimit&&(this.m_impulse.z=0),this.m_limitState=d.e_atLowerLimit):y>=this.m_upperAngle?(this.m_limitState!=d.e_atUpperLimit&&(this.m_impulse.z=0),this.m_limitState=d.e_atUpperLimit):(this.m_limitState=d.e_inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=d.e_inactiveLimit;if(e.warmStarting){this.m_impulse.x*=e.dtRatio,this.m_impulse.y*=e.dtRatio,this.m_motorImpulse*=e.dtRatio;var f=this.m_impulse.x,v=this.m_impulse.y;n.m_linearVelocity.x-=c*f,n.m_linearVelocity.y-=c*v,n.m_angularVelocity-=m*(a*v-l*f+this.m_motorImpulse+this.m_impulse.z),r.m_linearVelocity.x+=h*f,r.m_linearVelocity.y+=h*v,r.m_angularVelocity+=_*(u*v-p*f+this.m_motorImpulse+this.m_impulse.z)}else this.m_impulse.SetZero(),this.m_motorImpulse=0},D.prototype.SolveVelocityConstraints=function(t){var e,o=this.m_bodyA,n=this.m_bodyB,r=0,s=0,a=0,l=0,u=0,p=0,c=o.m_linearVelocity,h=o.m_angularVelocity,m=n.m_linearVelocity,_=n.m_angularVelocity,y=o.m_invMass,f=n.m_invMass,v=o.m_invI,x=n.m_invI;if(this.m_enableMotor&&this.m_limitState!=d.e_equalLimits){var g=_-h-this.m_motorSpeed,b=this.m_motorMass*-g,C=this.m_motorImpulse,E=t.dt*this.m_maxMotorTorque;this.m_motorImpulse=i.Clamp(this.m_motorImpulse+b,-E,E),b=this.m_motorImpulse-C,h-=v*b,_+=x*b}if(this.m_enableLimit&&this.m_limitState!=d.e_inactiveLimit){e=o.m_xf.R,a=this.m_localAnchor1.x-o.m_sweep.localCenter.x,l=this.m_localAnchor1.y-o.m_sweep.localCenter.y,r=e.col1.x*a+e.col2.x*l,l=e.col1.y*a+e.col2.y*l,a=r,e=n.m_xf.R,u=this.m_localAnchor2.x-n.m_sweep.localCenter.x,p=this.m_localAnchor2.y-n.m_sweep.localCenter.y,r=e.col1.x*u+e.col2.x*p,p=e.col1.y*u+e.col2.y*p,u=r;var P=m.x+-_*p-c.x- -h*l,D=m.y+_*u-c.y-h*a,S=_-h;this.m_mass.Solve33(this.impulse3,-P,-D,-S),this.m_limitState==d.e_equalLimits?this.m_impulse.Add(this.impulse3):this.m_limitState==d.e_atLowerLimit?(s=this.m_impulse.z+this.impulse3.z,s<0&&(this.m_mass.Solve22(this.reduced,-P,-D),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0)):this.m_limitState==d.e_atUpperLimit&&(s=this.m_impulse.z+this.impulse3.z,s>0&&(this.m_mass.Solve22(this.reduced,-P,-D),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0)),c.x-=y*this.impulse3.x,c.y-=y*this.impulse3.y,h-=v*(a*this.impulse3.y-l*this.impulse3.x+this.impulse3.z),m.x+=f*this.impulse3.x,m.y+=f*this.impulse3.y,_+=x*(u*this.impulse3.y-p*this.impulse3.x+this.impulse3.z)}else{e=o.m_xf.R,a=this.m_localAnchor1.x-o.m_sweep.localCenter.x,l=this.m_localAnchor1.y-o.m_sweep.localCenter.y,r=e.col1.x*a+e.col2.x*l,l=e.col1.y*a+e.col2.y*l,a=r,e=n.m_xf.R,u=this.m_localAnchor2.x-n.m_sweep.localCenter.x,p=this.m_localAnchor2.y-n.m_sweep.localCenter.y,r=e.col1.x*u+e.col2.x*p,p=e.col1.y*u+e.col2.y*p,u=r;var N=m.x+-_*p-c.x- -h*l,w=m.y+_*u-c.y-h*a;this.m_mass.Solve22(this.impulse2,-N,-w),this.m_impulse.x+=this.impulse2.x,this.m_impulse.y+=this.impulse2.y,c.x-=y*this.impulse2.x,c.y-=y*this.impulse2.y,h-=v*(a*this.impulse2.y-l*this.impulse2.x),m.x+=f*this.impulse2.x,m.y+=f*this.impulse2.y,_+=x*(u*this.impulse2.y-p*this.impulse2.x)}o.m_linearVelocity.SetV(c),o.m_angularVelocity=h,n.m_linearVelocity.SetV(m),n.m_angularVelocity=_},D.prototype.SolvePositionConstraints=function(e){void 0===e&&(e=0);var o,n=0,r=this.m_bodyA,s=this.m_bodyB,a=0,l=0,u=0,p=0,c=0;if(this.m_enableLimit&&this.m_limitState!=d.e_inactiveLimit){var h=s.m_sweep.a-r.m_sweep.a-this.m_referenceAngle,m=0;this.m_limitState==d.e_equalLimits?(n=i.Clamp(h-this.m_lowerAngle,-t.b2_maxAngularCorrection,t.b2_maxAngularCorrection),m=-this.m_motorMass*n,a=i.Abs(n)):this.m_limitState==d.e_atLowerLimit?(n=h-this.m_lowerAngle,a=-n,n=i.Clamp(n+t.b2_angularSlop,-t.b2_maxAngularCorrection,0),m=-this.m_motorMass*n):this.m_limitState==d.e_atUpperLimit&&(n=h-this.m_upperAngle,a=n,n=i.Clamp(n-t.b2_angularSlop,0,t.b2_maxAngularCorrection),m=-this.m_motorMass*n),r.m_sweep.a-=r.m_invI*m,s.m_sweep.a+=s.m_invI*m,r.SynchronizeTransform(),s.SynchronizeTransform()}o=r.m_xf.R;var _=this.m_localAnchor1.x-r.m_sweep.localCenter.x,y=this.m_localAnchor1.y-r.m_sweep.localCenter.y;u=o.col1.x*_+o.col2.x*y,y=o.col1.y*_+o.col2.y*y,_=u,o=s.m_xf.R;var f=this.m_localAnchor2.x-s.m_sweep.localCenter.x,v=this.m_localAnchor2.y-s.m_sweep.localCenter.y;u=o.col1.x*f+o.col2.x*v,v=o.col1.y*f+o.col2.y*v,f=u;var x=s.m_sweep.c.x+f-r.m_sweep.c.x-_,g=s.m_sweep.c.y+v-r.m_sweep.c.y-y,b=x*x+g*g,C=Math.sqrt(b);l=C;var E=r.m_invMass,P=s.m_invMass,S=r.m_invI,N=s.m_invI,w=10*t.b2_linearSlop;if(b>w*w){var A=E+P,I=1/A;p=I*-x,c=I*-g;var M=.5;r.m_sweep.c.x-=M*E*p,r.m_sweep.c.y-=M*E*c,s.m_sweep.c.x+=M*P*p,s.m_sweep.c.y+=M*P*c,x=s.m_sweep.c.x+f-r.m_sweep.c.x-_,g=s.m_sweep.c.y+v-r.m_sweep.c.y-y}return this.K1.col1.x=E+P,this.K1.col2.x=0,this.K1.col1.y=0,this.K1.col2.y=E+P,this.K2.col1.x=S*y*y,this.K2.col2.x=-S*_*y,this.K2.col1.y=-S*_*y,this.K2.col2.y=S*_*_,this.K3.col1.x=N*v*v,this.K3.col2.x=-N*f*v,this.K3.col1.y=-N*f*v,this.K3.col2.y=N*f*f,this.K.SetM(this.K1),this.K.AddM(this.K2),this.K.AddM(this.K3),this.K.Solve(D.tImpulse,-x,-g),p=D.tImpulse.x,c=D.tImpulse.y,r.m_sweep.c.x-=r.m_invMass*p,r.m_sweep.c.y-=r.m_invMass*c,r.m_sweep.a-=r.m_invI*(_*c-y*p),s.m_sweep.c.x+=s.m_invMass*p,s.m_sweep.c.y+=s.m_invMass*c,s.m_sweep.a+=s.m_invI*(f*c-v*p),r.SynchronizeTransform(),s.SynchronizeTransform(),l<=t.b2_linearSlop&&a<=t.b2_angularSlop},o.postDefs.push(function(){o.Dynamics.Joints.b2RevoluteJoint.tImpulse=new r;
}),o.inherit(S,o.Dynamics.Joints.b2JointDef),S.prototype.__super=o.Dynamics.Joints.b2JointDef.prototype,S.b2RevoluteJointDef=function(){o.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new r,this.localAnchorB=new r},S.prototype.b2RevoluteJointDef=function(){this.__super.b2JointDef.call(this),this.type=d.e_revoluteJoint,this.localAnchorA.Set(0,0),this.localAnchorB.Set(0,0),this.referenceAngle=0,this.lowerAngle=0,this.upperAngle=0,this.maxMotorTorque=0,this.motorSpeed=0,this.enableLimit=!1,this.enableMotor=!1},S.prototype.Initialize=function(t,e,o){this.bodyA=t,this.bodyB=e,this.localAnchorA=this.bodyA.GetLocalPoint(o),this.localAnchorB=this.bodyB.GetLocalPoint(o),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()},o.inherit(N,o.Dynamics.Joints.b2Joint),N.prototype.__super=o.Dynamics.Joints.b2Joint.prototype,N.b2WeldJoint=function(){o.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments),this.m_localAnchorA=new r,this.m_localAnchorB=new r,this.m_impulse=new s,this.m_mass=new n},N.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA)},N.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB)},N.prototype.GetReactionForce=function(t){return void 0===t&&(t=0),new r(t*this.m_impulse.x,t*this.m_impulse.y)},N.prototype.GetReactionTorque=function(t){return void 0===t&&(t=0),t*this.m_impulse.z},N.prototype.b2WeldJoint=function(t){this.__super.b2Joint.call(this,t),this.m_localAnchorA.SetV(t.localAnchorA),this.m_localAnchorB.SetV(t.localAnchorB),this.m_referenceAngle=t.referenceAngle,this.m_impulse.SetZero(),this.m_mass=new n},N.prototype.InitVelocityConstraints=function(t){var e,o=0,n=this.m_bodyA,i=this.m_bodyB;e=n.m_xf.R;var r=this.m_localAnchorA.x-n.m_sweep.localCenter.x,s=this.m_localAnchorA.y-n.m_sweep.localCenter.y;o=e.col1.x*r+e.col2.x*s,s=e.col1.y*r+e.col2.y*s,r=o,e=i.m_xf.R;var a=this.m_localAnchorB.x-i.m_sweep.localCenter.x,l=this.m_localAnchorB.y-i.m_sweep.localCenter.y;o=e.col1.x*a+e.col2.x*l,l=e.col1.y*a+e.col2.y*l,a=o;var u=n.m_invMass,p=i.m_invMass,c=n.m_invI,h=i.m_invI;this.m_mass.col1.x=u+p+s*s*c+l*l*h,this.m_mass.col2.x=-s*r*c-l*a*h,this.m_mass.col3.x=-s*c-l*h,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=u+p+r*r*c+a*a*h,this.m_mass.col3.y=r*c+a*h,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=c+h,t.warmStarting?(this.m_impulse.x*=t.dtRatio,this.m_impulse.y*=t.dtRatio,this.m_impulse.z*=t.dtRatio,n.m_linearVelocity.x-=u*this.m_impulse.x,n.m_linearVelocity.y-=u*this.m_impulse.y,n.m_angularVelocity-=c*(r*this.m_impulse.y-s*this.m_impulse.x+this.m_impulse.z),i.m_linearVelocity.x+=p*this.m_impulse.x,i.m_linearVelocity.y+=p*this.m_impulse.y,i.m_angularVelocity+=h*(a*this.m_impulse.y-l*this.m_impulse.x+this.m_impulse.z)):this.m_impulse.SetZero()},N.prototype.SolveVelocityConstraints=function(t){var e,o=0,n=this.m_bodyA,i=this.m_bodyB,r=n.m_linearVelocity,a=n.m_angularVelocity,l=i.m_linearVelocity,u=i.m_angularVelocity,p=n.m_invMass,c=i.m_invMass,h=n.m_invI,m=i.m_invI;e=n.m_xf.R;var d=this.m_localAnchorA.x-n.m_sweep.localCenter.x,_=this.m_localAnchorA.y-n.m_sweep.localCenter.y;o=e.col1.x*d+e.col2.x*_,_=e.col1.y*d+e.col2.y*_,d=o,e=i.m_xf.R;var y=this.m_localAnchorB.x-i.m_sweep.localCenter.x,f=this.m_localAnchorB.y-i.m_sweep.localCenter.y;o=e.col1.x*y+e.col2.x*f,f=e.col1.y*y+e.col2.y*f,y=o;var v=l.x-u*f-r.x+a*_,x=l.y+u*y-r.y-a*d,g=u-a,b=new s;this.m_mass.Solve33(b,-v,-x,-g),this.m_impulse.Add(b),r.x-=p*b.x,r.y-=p*b.y,a-=h*(d*b.y-_*b.x+b.z),l.x+=c*b.x,l.y+=c*b.y,u+=m*(y*b.y-f*b.x+b.z),n.m_angularVelocity=a,i.m_angularVelocity=u},N.prototype.SolvePositionConstraints=function(e){void 0===e&&(e=0);var o,n=0,r=this.m_bodyA,a=this.m_bodyB;o=r.m_xf.R;var l=this.m_localAnchorA.x-r.m_sweep.localCenter.x,u=this.m_localAnchorA.y-r.m_sweep.localCenter.y;n=o.col1.x*l+o.col2.x*u,u=o.col1.y*l+o.col2.y*u,l=n,o=a.m_xf.R;var p=this.m_localAnchorB.x-a.m_sweep.localCenter.x,c=this.m_localAnchorB.y-a.m_sweep.localCenter.y;n=o.col1.x*p+o.col2.x*c,c=o.col1.y*p+o.col2.y*c,p=n;var h=r.m_invMass,m=a.m_invMass,d=r.m_invI,_=a.m_invI,y=a.m_sweep.c.x+p-r.m_sweep.c.x-l,f=a.m_sweep.c.y+c-r.m_sweep.c.y-u,v=a.m_sweep.a-r.m_sweep.a-this.m_referenceAngle,x=10*t.b2_linearSlop,g=Math.sqrt(y*y+f*f),b=i.Abs(v);g>x&&(d*=1,_*=1),this.m_mass.col1.x=h+m+u*u*d+c*c*_,this.m_mass.col2.x=-u*l*d-c*p*_,this.m_mass.col3.x=-u*d-c*_,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=h+m+l*l*d+p*p*_,this.m_mass.col3.y=l*d+p*_,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=d+_;var C=new s;return this.m_mass.Solve33(C,-y,-f,-v),r.m_sweep.c.x-=h*C.x,r.m_sweep.c.y-=h*C.y,r.m_sweep.a-=d*(l*C.y-u*C.x+C.z),a.m_sweep.c.x+=m*C.x,a.m_sweep.c.y+=m*C.y,a.m_sweep.a+=_*(p*C.y-c*C.x+C.z),r.SynchronizeTransform(),a.SynchronizeTransform(),g<=t.b2_linearSlop&&b<=t.b2_angularSlop},o.inherit(w,o.Dynamics.Joints.b2JointDef),w.prototype.__super=o.Dynamics.Joints.b2JointDef.prototype,w.b2WeldJointDef=function(){o.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments),this.localAnchorA=new r,this.localAnchorB=new r},w.prototype.b2WeldJointDef=function(){this.__super.b2JointDef.call(this),this.type=d.e_weldJoint,this.referenceAngle=0},w.prototype.Initialize=function(t,e,o){this.bodyA=t,this.bodyB=e,this.localAnchorA.SetV(this.bodyA.GetLocalPoint(o)),this.localAnchorB.SetV(this.bodyB.GetLocalPoint(o)),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}(),function(){var t=o.Dynamics.b2DebugDraw;t.b2DebugDraw=function(){this.m_drawScale=1,this.m_lineThickness=1,this.m_alpha=1,this.m_fillAlpha=1,this.m_xformScale=1;var t=this;this.m_sprite={graphics:{clear:function(){t.m_ctx.clearRect(0,0,t.m_ctx.canvas.width,t.m_ctx.canvas.height)}}}},t.prototype._color=function(t,e){return"rgba("+((16711680&t)>>16)+","+((65280&t)>>8)+","+(255&t)+","+e+")"},t.prototype.b2DebugDraw=function(){this.m_drawFlags=0},t.prototype.SetFlags=function(t){void 0===t&&(t=0),this.m_drawFlags=t},t.prototype.GetFlags=function(){return this.m_drawFlags},t.prototype.AppendFlags=function(t){void 0===t&&(t=0),this.m_drawFlags|=t},t.prototype.ClearFlags=function(t){void 0===t&&(t=0),this.m_drawFlags&=~t},t.prototype.SetSprite=function(t){this.m_ctx=t},t.prototype.GetSprite=function(){return this.m_ctx},t.prototype.SetDrawScale=function(t){void 0===t&&(t=0),this.m_drawScale=t},t.prototype.GetDrawScale=function(){return this.m_drawScale},t.prototype.SetLineThickness=function(t){void 0===t&&(t=0),this.m_lineThickness=t,this.m_ctx.strokeWidth=t},t.prototype.GetLineThickness=function(){return this.m_lineThickness},t.prototype.SetAlpha=function(t){void 0===t&&(t=0),this.m_alpha=t},t.prototype.GetAlpha=function(){return this.m_alpha},t.prototype.SetFillAlpha=function(t){void 0===t&&(t=0),this.m_fillAlpha=t},t.prototype.GetFillAlpha=function(){return this.m_fillAlpha},t.prototype.SetXFormScale=function(t){void 0===t&&(t=0),this.m_xformScale=t},t.prototype.GetXFormScale=function(){return this.m_xformScale},t.prototype.DrawPolygon=function(t,e,o){if(e){var n=this.m_ctx,i=this.m_drawScale;n.beginPath(),n.strokeStyle=this._color(o.color,this.m_alpha),n.moveTo(t[0].x*i,t[0].y*i);for(var r=1;r<e;r++)n.lineTo(t[r].x*i,t[r].y*i);n.lineTo(t[0].x*i,t[0].y*i),n.closePath(),n.stroke()}},t.prototype.DrawSolidPolygon=function(t,e,o){if(e){var n=this.m_ctx,i=this.m_drawScale;n.beginPath(),n.strokeStyle=this._color(o.color,this.m_alpha),n.fillStyle=this._color(o.color,this.m_fillAlpha),n.moveTo(t[0].x*i,t[0].y*i);for(var r=1;r<e;r++)n.lineTo(t[r].x*i,t[r].y*i);n.lineTo(t[0].x*i,t[0].y*i),n.closePath(),n.fill(),n.stroke()}},t.prototype.DrawCircle=function(t,e,o){if(e){var n=this.m_ctx,i=this.m_drawScale;n.beginPath(),n.strokeStyle=this._color(o.color,this.m_alpha),n.arc(t.x*i,t.y*i,e*i,0,2*Math.PI,!0),n.closePath(),n.stroke()}},t.prototype.DrawSolidCircle=function(t,e,o,n){if(e){var i=this.m_ctx,r=this.m_drawScale,s=t.x*r,a=t.y*r;i.moveTo(0,0),i.beginPath(),i.strokeStyle=this._color(n.color,this.m_alpha),i.fillStyle=this._color(n.color,this.m_fillAlpha),i.arc(s,a,e*r,0,2*Math.PI,!0),i.moveTo(s,a),i.lineTo((t.x+o.x*e)*r,(t.y+o.y*e)*r),i.closePath(),i.fill(),i.stroke()}},t.prototype.DrawSegment=function(t,e,o){var n=this.m_ctx,i=this.m_drawScale;n.strokeStyle=this._color(o.color,this.m_alpha),n.beginPath(),n.moveTo(t.x*i,t.y*i),n.lineTo(e.x*i,e.y*i),n.closePath(),n.stroke()},t.prototype.DrawTransform=function(t){var e=this.m_ctx,o=this.m_drawScale;e.beginPath(),e.strokeStyle=this._color(16711680,this.m_alpha),e.moveTo(t.position.x*o,t.position.y*o),e.lineTo((t.position.x+this.m_xformScale*t.R.col1.x)*o,(t.position.y+this.m_xformScale*t.R.col1.y)*o),e.strokeStyle=this._color(65280,this.m_alpha),e.moveTo(t.position.x*o,t.position.y*o),e.lineTo((t.position.x+this.m_xformScale*t.R.col2.x)*o,(t.position.y+this.m_xformScale*t.R.col2.y)*o),e.closePath(),e.stroke()}}();var r;for(r=0;r<o.postDefs.length;++r)o.postDefs[r]();delete o.postDefs},function(t,e){"use strict";!function(){function e(t,e,o){ne.biginteger_used=1,null!=t&&("number"==typeof t&&"undefined"==typeof e?this.fromInt(t):"number"==typeof t?this.fromNumber(t,e,o):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function o(){return new e(null)}function n(t,e,o,n,i,r){for(;--r>=0;){var s=e*this[t++]+o[n]+i;i=Math.floor(s/67108864),o[n++]=67108863&s}return i}function i(t,e,o,n,i,r){for(var s=32767&e,a=e>>15;--r>=0;){var l=32767&this[t],u=this[t++]>>15,p=a*l+u*s;l=s*l+((32767&p)<<15)+o[n]+(1073741823&i),i=(l>>>30)+(p>>>15)+a*u+(i>>>30),o[n++]=1073741823&l}return i}function r(t,e,o,n,i,r){for(var s=16383&e,a=e>>14;--r>=0;){var l=16383&this[t],u=this[t++]>>14,p=a*l+u*s;l=s*l+((16383&p)<<14)+o[n]+i,i=(l>>28)+(p>>14)+a*u,o[n++]=268435455&l}return i}function s(t){return de.charAt(t)}function a(t,e){var o=_e[t.charCodeAt(e)];return null==o?-1:o}function l(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function u(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0}function p(t){var e=o();return e.fromInt(t),e}function c(t,o){var n;if(16==o)n=4;else if(8==o)n=3;else if(256==o)n=8;else if(2==o)n=1;else if(32==o)n=5;else{if(4!=o)return void this.fromRadix(t,o);n=2}this.t=0,this.s=0;for(var i=t.length,r=!1,s=0;--i>=0;){var l=8==n?255&t[i]:a(t,i);l<0?"-"==t.charAt(i)&&(r=!0):(r=!1,0==s?this[this.t++]=l:s+n>this.DB?(this[this.t-1]|=(l&(1<<this.DB-s)-1)<<s,this[this.t++]=l>>this.DB-s):this[this.t-1]|=l<<s,s+=n,s>=this.DB&&(s-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),r&&e.ZERO.subTo(this,this)}function h(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function m(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var o,n=(1<<e)-1,i=!1,r="",a=this.t,l=this.DB-a*this.DB%e;if(a-- >0)for(l<this.DB&&(o=this[a]>>l)>0&&(i=!0,r=s(o));a>=0;)l<e?(o=(this[a]&(1<<l)-1)<<e-l,o|=this[--a]>>(l+=this.DB-e)):(o=this[a]>>(l-=e)&n,l<=0&&(l+=this.DB,--a)),o>0&&(i=!0),i&&(r+=s(o));return i?r:"0"}function d(){var t=o();return e.ZERO.subTo(this,t),t}function _(){return this.s<0?this.negate():this}function y(t){var e=this.s-t.s;if(0!=e)return e;var o=this.t;if(e=o-t.t,0!=e)return this.s<0?-e:e;for(;--o>=0;)if(0!=(e=this[o]-t[o]))return e;return 0}function f(t){var e,o=1;return 0!=(e=t>>>16)&&(t=e,o+=16),0!=(e=t>>8)&&(t=e,o+=8),0!=(e=t>>4)&&(t=e,o+=4),0!=(e=t>>2)&&(t=e,o+=2),0!=(e=t>>1)&&(t=e,o+=1),o}function v(){return this.t<=0?0:this.DB*(this.t-1)+f(this[this.t-1]^this.s&this.DM)}function x(t,e){var o;for(o=this.t-1;o>=0;--o)e[o+t]=this[o];for(o=t-1;o>=0;--o)e[o]=0;e.t=this.t+t,e.s=this.s}function g(t,e){for(var o=t;o<this.t;++o)e[o-t]=this[o];e.t=Math.max(this.t-t,0),e.s=this.s}function b(t,e){var o,n=t%this.DB,i=this.DB-n,r=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<n&this.DM;for(o=this.t-1;o>=0;--o)e[o+s+1]=this[o]>>i|a,a=(this[o]&r)<<n;for(o=s-1;o>=0;--o)e[o]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()}function C(t,e){e.s=this.s;var o=Math.floor(t/this.DB);if(o>=this.t)return void(e.t=0);var n=t%this.DB,i=this.DB-n,r=(1<<n)-1;e[0]=this[o]>>n;for(var s=o+1;s<this.t;++s)e[s-o-1]|=(this[s]&r)<<i,e[s-o]=this[s]>>n;n>0&&(e[this.t-o-1]|=(this.s&r)<<i),e.t=this.t-o,e.clamp()}function E(t,e){for(var o=0,n=0,i=Math.min(t.t,this.t);o<i;)n+=this[o]-t[o],e[o++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;o<this.t;)n+=this[o],e[o++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;o<t.t;)n-=t[o],e[o++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[o++]=this.DV+n:n>0&&(e[o++]=n),e.t=o,e.clamp()}function P(t,o){var n=this.abs(),i=t.abs(),r=n.t;for(o.t=r+i.t;--r>=0;)o[r]=0;for(r=0;r<i.t;++r)o[r+n.t]=n.am(0,i[r],o,r,0,n.t);o.s=0,o.clamp(),this.s!=t.s&&e.ZERO.subTo(o,o)}function D(t){for(var e=this.abs(),o=t.t=2*e.t;--o>=0;)t[o]=0;for(o=0;o<e.t-1;++o){var n=e.am(o,e[o],t,2*o,0,1);(t[o+e.t]+=e.am(o+1,2*e[o],t,2*o+1,n,e.t-o-1))>=e.DV&&(t[o+e.t]-=e.DV,t[o+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(o,e[o],t,2*o,0,1)),t.s=0,t.clamp()}function S(t,n,i){var r=t.abs();if(!(r.t<=0)){var s=this.abs();if(s.t<r.t)return null!=n&&n.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=o());var a=o(),l=this.s,u=t.s,p=this.DB-f(r[r.t-1]);p>0?(r.lShiftTo(p,a),s.lShiftTo(p,i)):(r.copyTo(a),s.copyTo(i));var c=a.t,h=a[c-1];if(0!=h){var m=h*(1<<this.F1)+(c>1?a[c-2]>>this.F2:0),d=this.FV/m,_=(1<<this.F1)/m,y=1<<this.F2,v=i.t,x=v-c,g=null==n?o():n;for(a.dlShiftTo(x,g),i.compareTo(g)>=0&&(i[i.t++]=1,i.subTo(g,i)),e.ONE.dlShiftTo(c,g),g.subTo(a,a);a.t<c;)a[a.t++]=0;for(;--x>=0;){var b=i[--v]==h?this.DM:Math.floor(i[v]*d+(i[v-1]+y)*_);if((i[v]+=a.am(0,b,i,x,0,c))<b)for(a.dlShiftTo(x,g),i.subTo(g,i);i[v]<--b;)i.subTo(g,i)}null!=n&&(i.drShiftTo(c,n),l!=u&&e.ZERO.subTo(n,n)),i.t=c,i.clamp(),p>0&&i.rShiftTo(p,i),l<0&&e.ZERO.subTo(i,i)}}}function N(t){var n=o();return this.abs().divRemTo(t,null,n),this.s<0&&n.compareTo(e.ZERO)>0&&t.subTo(n,n),n}function w(t){this.m=t}function A(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function I(t){return t}function M(t){t.divRemTo(this.m,null,t)}function V(t,e,o){t.multiplyTo(e,o),this.reduce(o)}function T(t,e){t.squareTo(e),this.reduce(e)}function B(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function O(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function L(t){var n=o();return t.abs().dlShiftTo(this.m.t,n),n.divRemTo(this.m,null,n),t.s<0&&n.compareTo(e.ZERO)>0&&this.m.subTo(n,n),n}function R(t){var e=o();return t.copyTo(e),this.reduce(e),e}function k(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var o=32767&t[e],n=o*this.mpl+((o*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(o=e+this.m.t,t[o]+=this.m.am(0,n,t,e,0,this.m.t);t[o]>=t.DV;)t[o]-=t.DV,t[++o]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function F(t,e){t.squareTo(e),this.reduce(e)}function G(t,e,o){t.multiplyTo(e,o),this.reduce(o)}function X(){return 0==(this.t>0?1&this[0]:this.s)}function J(t,n){if(t>4294967295||t<1)return e.ONE;var i=o(),r=o(),s=n.convert(this),a=f(t)-1;for(s.copyTo(i);--a>=0;)if(n.sqrTo(i,r),(t&1<<a)>0)n.mulTo(r,s,i);else{var l=i;i=r,r=l}return n.revert(i)}function Y(t,e){var o;return o=t<256||e.isEven()?new w(e):new O(e),this.exp(t,o)}function W(){var t=o();return this.copyTo(t),t}function U(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function j(){return 0==this.t?this.s:this[0]<<24>>24}function q(){return 0==this.t?this.s:this[0]<<16>>16}function z(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function K(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function H(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),i=p(n),r=o(),s=o(),a="";for(this.divRemTo(i,r,s);r.signum()>0;)a=(n+s.intValue()).toString(t).substr(1)+a,r.divRemTo(i,r,s);return s.intValue().toString(t)+a}function Z(t,o){this.fromInt(0),null==o&&(o=10);for(var n=this.chunkSize(o),i=Math.pow(o,n),r=!1,s=0,l=0,u=0;u<t.length;++u){var p=a(t,u);p<0?"-"==t.charAt(u)&&0==this.signum()&&(r=!0):(l=o*l+p,++s>=n&&(this.dMultiply(i),this.dAddOffset(l,0),s=0,l=0))}s>0&&(this.dMultiply(Math.pow(o,s)),this.dAddOffset(l,0)),r&&e.ZERO.subTo(this,this)}function Q(t,o,n){if("number"==typeof o)if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),st,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(o);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var i=new Array,r=7&t;i.length=(t>>3)+1,o.nextBytes(i),r>0?i[0]&=(1<<r)-1:i[0]=0,this.fromString(i,256)}}function $(){var t=this.t,e=new Array;e[0]=this.s;var o,n=this.DB-t*this.DB%8,i=0;if(t-- >0)for(n<this.DB&&(o=this[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=o|this.s<<this.DB-n);t>=0;)n<8?(o=(this[t]&(1<<n)-1)<<8-n,o|=this[--t]>>(n+=this.DB-8)):(o=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&o)&&(o|=-256),0==i&&(128&this.s)!=(128&o)&&++i,(i>0||o!=this.s)&&(e[i++]=o);return e}function tt(t){return 0==this.compareTo(t)}function et(t){return this.compareTo(t)<0?this:t}function ot(t){return this.compareTo(t)>0?this:t}function nt(t,e,o){var n,i,r=Math.min(t.t,this.t);for(n=0;n<r;++n)o[n]=e(this[n],t[n]);if(t.t<this.t){for(i=t.s&this.DM,n=r;n<this.t;++n)o[n]=e(this[n],i);o.t=this.t}else{for(i=this.s&this.DM,n=r;n<t.t;++n)o[n]=e(i,t[n]);o.t=t.t}o.s=e(this.s,t.s),o.clamp()}function it(t,e){return t&e}function rt(t){var e=o();return this.bitwiseTo(t,it,e),e}function st(t,e){return t|e}function at(t){var e=o();return this.bitwiseTo(t,st,e),e}function lt(t,e){return t^e}function ut(t){var e=o();return this.bitwiseTo(t,lt,e),e}function pt(t,e){return t&~e}function ct(t){var e=o();return this.bitwiseTo(t,pt,e),e}function ht(){for(var t=o(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function mt(t){var e=o();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function dt(t){var e=o();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function _t(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function yt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+_t(this[t]);return this.s<0?this.t*this.DB:-1}function ft(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function vt(){for(var t=0,e=this.s&this.DM,o=0;o<this.t;++o)t+=ft(this[o]^e);return t}function xt(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)}function gt(t,o){var n=e.ONE.shiftLeft(t);return this.bitwiseTo(n,o,n),n}function bt(t){return this.changeBit(t,st)}function Ct(t){return this.changeBit(t,pt)}function Et(t){return this.changeBit(t,lt)}function Pt(t,e){for(var o=0,n=0,i=Math.min(t.t,this.t);o<i;)n+=this[o]+t[o],e[o++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;o<this.t;)n+=this[o],e[o++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;o<t.t;)n+=t[o],e[o++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[o++]=n:n<-1&&(e[o++]=this.DV+n),e.t=o,e.clamp()}function Dt(t){var e=o();return this.addTo(t,e),e}function St(t){var e=o();return this.subTo(t,e),e}function Nt(t){var e=o();return this.multiplyTo(t,e),e}function wt(){var t=o();return this.squareTo(t),t}function At(t){var e=o();return this.divRemTo(t,e,null),e}function It(t){var e=o();return this.divRemTo(t,null,e),e}function Mt(t){var e=o(),n=o();return this.divRemTo(t,e,n),new Array(e,n)}function Vt(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Tt(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function Bt(){}function Ot(t){return t}function Lt(t,e,o){t.multiplyTo(e,o)}function Rt(t,e){t.squareTo(e)}function kt(t){return this.exp(t,new Bt)}function Ft(t,e,o){var n=Math.min(this.t+t.t,e);for(o.s=0,o.t=n;n>0;)o[--n]=0;var i;for(i=o.t-this.t;n<i;++n)o[n+this.t]=this.am(0,t[n],o,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t[n],o,n,0,e-n);o.clamp()}function Gt(t,e,o){--e;var n=o.t=this.t+t.t-e;for(o.s=0;--n>=0;)o[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)o[this.t+n-e]=this.am(e-n,t[n],o,0,0,this.t+n-e);o.clamp(),o.drShiftTo(1,o)}function Xt(t){this.r2=o(),this.q3=o(),e.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Jt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=o();return t.copyTo(e),this.reduce(e),e}function Yt(t){return t}function Wt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Ut(t,e){t.squareTo(e),this.reduce(e)}function jt(t,e,o){t.multiplyTo(e,o),this.reduce(o)}function qt(t,e){var n,i,r=t.bitLength(),s=p(1);if(r<=0)return s;n=r<18?1:r<48?3:r<144?4:r<768?5:6,i=r<8?new w(e):e.isEven()?new Xt(e):new O(e);var a=new Array,l=3,u=n-1,c=(1<<n)-1;if(a[1]=i.convert(this),n>1){var h=o();for(i.sqrTo(a[1],h);l<=c;)a[l]=o(),i.mulTo(h,a[l-2],a[l]),l+=2}var m,d,_=t.t-1,y=!0,v=o();for(r=f(t[_])-1;_>=0;){for(r>=u?m=t[_]>>r-u&c:(m=(t[_]&(1<<r+1)-1)<<u-r,_>0&&(m|=t[_-1]>>this.DB+r-u)),l=n;0==(1&m);)m>>=1,--l;if((r-=l)<0&&(r+=this.DB,--_),y)a[m].copyTo(s),y=!1;else{for(;l>1;)i.sqrTo(s,v),i.sqrTo(v,s),l-=2;l>0?i.sqrTo(s,v):(d=s,s=v,v=d),i.mulTo(v,a[m],s)}for(;_>=0&&0==(t[_]&1<<r);)i.sqrTo(s,v),d=s,s=v,v=d,--r<0&&(r=this.DB-1,--_)}return i.revert(s)}function zt(t){var e=this.s<0?this.negate():this.clone(),o=t.s<0?t.negate():t.clone();if(e.compareTo(o)<0){var n=e;e=o,o=n}var i=e.getLowestSetBit(),r=o.getLowestSetBit();if(r<0)return e;for(i<r&&(r=i),r>0&&(e.rShiftTo(r,e),o.rShiftTo(r,o));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=o.getLowestSetBit())>0&&o.rShiftTo(i,o),e.compareTo(o)>=0?(e.subTo(o,e),e.rShiftTo(1,e)):(o.subTo(e,o),o.rShiftTo(1,o));return r>0&&o.lShiftTo(r,o),o}function Kt(t){if(t<=0)return 0;var e=this.DV%t,o=this.s<0?t-1:0;if(this.t>0)if(0==e)o=this[0]%t;else for(var n=this.t-1;n>=0;--n)o=(e*o+this[n])%t;return o}function Ht(t){var o=t.isEven();if(this.isEven()&&o||0==t.signum())return e.ZERO;for(var n=t.clone(),i=this.clone(),r=p(1),s=p(0),a=p(0),l=p(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),o?(r.isEven()&&s.isEven()||(r.addTo(this,r),s.subTo(t,s)),r.rShiftTo(1,r)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),o?(a.isEven()&&l.isEven()||(a.addTo(this,a),l.subTo(t,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(t,l),l.rShiftTo(1,l);n.compareTo(i)>=0?(n.subTo(i,n),o&&r.subTo(a,r),s.subTo(l,s)):(i.subTo(n,i),o&&a.subTo(r,a),l.subTo(s,l))}return 0!=i.compareTo(e.ONE)?e.ZERO:l.compareTo(t)>=0?l.subtract(t):l.signum()<0?(l.addTo(t,l),l.signum()<0?l.add(t):l):l}function Zt(t){var e,o=this.abs();if(1==o.t&&o[0]<=ye[ye.length-1]){for(e=0;e<ye.length;++e)if(o[0]==ye[e])return!0;return!1}if(o.isEven())return!1;for(e=1;e<ye.length;){for(var n=ye[e],i=e+1;i<ye.length&&n<fe;)n*=ye[i++];for(n=o.modInt(n);e<i;)if(n%ye[e++]==0)return!1}return o.millerRabin(t)}function Qt(t){var n=this.subtract(e.ONE),i=n.getLowestSetBit();if(i<=0)return!1;var r=n.shiftRight(i);t=t+1>>1,t>ye.length&&(t=ye.length);for(var s=o(),a=0;a<t;++a){s.fromInt(ye[Math.floor(Math.random()*ye.length)]);var l=s.modPow(r,this);if(0!=l.compareTo(e.ONE)&&0!=l.compareTo(n)){for(var u=1;u++<i&&0!=l.compareTo(n);)if(l=l.modPowInt(2,this),0==l.compareTo(e.ONE))return!1;if(0!=l.compareTo(n))return!1}}return!0}var $t=!1,te=!1,ee=!0,oe=!1,ne={},ie=!1;"undefined"!=typeof t&&t.exports?(t.exports=ne,ie=!0):"undefined"!=typeof document?window.ClipperLib=ne:self.ClipperLib=ne;var re;if(ie){var se="chrome";re="Netscape"}else{var se=navigator.userAgent.toString().toLowerCase();re=navigator.appName}var ae={};se.indexOf("chrome")!=-1&&se.indexOf("chromium")==-1?ae.chrome=1:ae.chrome=0,se.indexOf("chromium")!=-1?ae.chromium=1:ae.chromium=0,se.indexOf("safari")!=-1&&se.indexOf("chrome")==-1&&se.indexOf("chromium")==-1?ae.safari=1:ae.safari=0,se.indexOf("firefox")!=-1?ae.firefox=1:ae.firefox=0,se.indexOf("firefox/17")!=-1?ae.firefox17=1:ae.firefox17=0,se.indexOf("firefox/15")!=-1?ae.firefox15=1:ae.firefox15=0,se.indexOf("firefox/3")!=-1?ae.firefox3=1:ae.firefox3=0,se.indexOf("opera")!=-1?ae.opera=1:ae.opera=0,se.indexOf("msie 10")!=-1?ae.msie10=1:ae.msie10=0,se.indexOf("msie 9")!=-1?ae.msie9=1:ae.msie9=0,se.indexOf("msie 8")!=-1?ae.msie8=1:ae.msie8=0,se.indexOf("msie 7")!=-1?ae.msie7=1:ae.msie7=0,se.indexOf("msie ")!=-1?ae.msie=1:ae.msie=0,ne.biginteger_used=null;var le,ue=0xdeadbeefcafe,pe=15715070==(16777215&ue);pe&&"Microsoft Internet Explorer"==re?(e.prototype.am=i,le=30):pe&&"Netscape"!=re?(e.prototype.am=n,le=26):(e.prototype.am=r,le=28),e.prototype.DB=le,e.prototype.DM=(1<<le)-1,e.prototype.DV=1<<le;var ce=52;e.prototype.FV=Math.pow(2,ce),e.prototype.F1=ce-le,e.prototype.F2=2*le-ce;var he,me,de="0123456789abcdefghijklmnopqrstuvwxyz",_e=new Array;for(he="0".charCodeAt(0),me=0;me<=9;++me)_e[he++]=me;for(he="a".charCodeAt(0),me=10;me<36;++me)_e[he++]=me;for(he="A".charCodeAt(0),me=10;me<36;++me)_e[he++]=me;w.prototype.convert=A,w.prototype.revert=I,w.prototype.reduce=M,w.prototype.mulTo=V,w.prototype.sqrTo=T,O.prototype.convert=L,O.prototype.revert=R,O.prototype.reduce=k,O.prototype.mulTo=G,O.prototype.sqrTo=F,e.prototype.copyTo=l,e.prototype.fromInt=u,e.prototype.fromString=c,e.prototype.clamp=h,e.prototype.dlShiftTo=x,e.prototype.drShiftTo=g,e.prototype.lShiftTo=b,e.prototype.rShiftTo=C,e.prototype.subTo=E,e.prototype.multiplyTo=P,e.prototype.squareTo=D,e.prototype.divRemTo=S,e.prototype.invDigit=B,e.prototype.isEven=X,e.prototype.exp=J,e.prototype.toString=m,e.prototype.negate=d,e.prototype.abs=_,e.prototype.compareTo=y,e.prototype.bitLength=v,e.prototype.mod=N,e.prototype.modPowInt=Y,e.ZERO=p(0),e.ONE=p(1),Bt.prototype.convert=Ot,Bt.prototype.revert=Ot,Bt.prototype.mulTo=Lt,Bt.prototype.sqrTo=Rt,Xt.prototype.convert=Jt,Xt.prototype.revert=Yt,Xt.prototype.reduce=Wt,Xt.prototype.mulTo=jt,Xt.prototype.sqrTo=Ut;var ye=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],fe=(1<<26)/ye[ye.length-1];e.prototype.chunkSize=z,e.prototype.toRadix=H,e.prototype.fromRadix=Z,e.prototype.fromNumber=Q,e.prototype.bitwiseTo=nt,e.prototype.changeBit=gt,e.prototype.addTo=Pt,e.prototype.dMultiply=Vt,e.prototype.dAddOffset=Tt,e.prototype.multiplyLowerTo=Ft,e.prototype.multiplyUpperTo=Gt,e.prototype.modInt=Kt,e.prototype.millerRabin=Qt,e.prototype.clone=W,e.prototype.intValue=U,e.prototype.byteValue=j,e.prototype.shortValue=q,e.prototype.signum=K,e.prototype.toByteArray=$,e.prototype.equals=tt,e.prototype.min=et,e.prototype.max=ot,e.prototype.and=rt,e.prototype.or=at,e.prototype.xor=ut,e.prototype.andNot=ct,e.prototype.not=ht,e.prototype.shiftLeft=mt,e.prototype.shiftRight=dt,e.prototype.getLowestSetBit=yt,e.prototype.bitCount=vt,e.prototype.testBit=xt,e.prototype.setBit=bt,e.prototype.clearBit=Ct,e.prototype.flipBit=Et,e.prototype.add=Dt,e.prototype.subtract=St,e.prototype.multiply=Nt,e.prototype.divide=At,e.prototype.remainder=It,e.prototype.divideAndRemainder=Mt,e.prototype.modPow=qt,e.prototype.modInverse=Ht,e.prototype.pow=kt,e.prototype.gcd=zt,e.prototype.isProbablePrime=Zt,e.prototype.square=wt;var ve=e;if(ve.prototype.IsNegative=function(){return this.compareTo(ve.ZERO)==-1},ve.op_Equality=function(t,e){return 0==t.compareTo(e)},ve.op_Inequality=function(t,e){return 0!=t.compareTo(e)},ve.op_GreaterThan=function(t,e){return t.compareTo(e)>0},ve.op_LessThan=function(t,e){return t.compareTo(e)<0},ve.op_Addition=function(t,e){return new ve(t).add(new ve(e))},ve.op_Subtraction=function(t,e){return new ve(t).subtract(new ve(e))},ve.Int128Mul=function(t,e){return new ve(t).multiply(new ve(e))},ve.op_Division=function(t,e){return t.divide(e)},ve.prototype.ToDouble=function(){return parseFloat(this.toString())},"undefined"==typeof xe)var xe=function(t,e){var o;if("undefined"==typeof Object.getOwnPropertyNames){for(o in e.prototype)"undefined"!=typeof t.prototype[o]&&t.prototype[o]!=Object.prototype[o]||(t.prototype[o]=e.prototype[o]);for(o in e)"undefined"==typeof t[o]&&(t[o]=e[o]);t.$baseCtor=e}else{for(var n=Object.getOwnPropertyNames(e.prototype),i=0;i<n.length;i++)"undefined"==typeof Object.getOwnPropertyDescriptor(t.prototype,n[i])&&Object.defineProperty(t.prototype,n[i],Object.getOwnPropertyDescriptor(e.prototype,n[i]));for(o in e)"undefined"==typeof t[o]&&(t[o]=e[o]);t.$baseCtor=e}};ne.Path=function(){return[]},ne.Paths=function(){return[]},ne.DoublePoint=function(){var t=arguments;this.X=0,this.Y=0,1==t.length?(this.X=t[0].X,this.Y=t[0].Y):2==t.length&&(this.X=t[0],this.Y=t[1])},ne.DoublePoint0=function(){this.X=0,this.Y=0},ne.DoublePoint1=function(t){this.X=t.X,this.Y=t.Y},ne.DoublePoint2=function(t,e){this.X=t,this.Y=e},ne.PolyNode=function(){this.m_Parent=null,this.m_polygon=new ne.Path,this.m_Index=0,this.m_jointype=0,this.m_endtype=0,this.m_Childs=[],this.IsOpen=!1},ne.PolyNode.prototype.IsHoleNode=function(){for(var t=!0,e=this.m_Parent;null!==e;)t=!t,e=e.m_Parent;return t},ne.PolyNode.prototype.ChildCount=function(){return this.m_Childs.length},ne.PolyNode.prototype.Contour=function(){return this.m_polygon},ne.PolyNode.prototype.AddChild=function(t){var e=this.m_Childs.length;this.m_Childs.push(t),t.m_Parent=this,t.m_Index=e},ne.PolyNode.prototype.GetNext=function(){return this.m_Childs.length>0?this.m_Childs[0]:this.GetNextSiblingUp()},ne.PolyNode.prototype.GetNextSiblingUp=function(){return null===this.m_Parent?null:this.m_Index==this.m_Parent.m_Childs.length-1?this.m_Parent.GetNextSiblingUp():this.m_Parent.m_Childs[this.m_Index+1]},ne.PolyNode.prototype.Childs=function(){return this.m_Childs},ne.PolyNode.prototype.Parent=function(){return this.m_Parent},ne.PolyNode.prototype.IsHole=function(){return this.IsHoleNode()},ne.PolyTree=function(){this.m_AllPolys=[],ne.PolyNode.call(this)},ne.PolyTree.prototype.Clear=function(){for(var t=0,e=this.m_AllPolys.length;t<e;t++)this.m_AllPolys[t]=null;this.m_AllPolys.length=0,this.m_Childs.length=0},ne.PolyTree.prototype.GetFirst=function(){return this.m_Childs.length>0?this.m_Childs[0]:null},ne.PolyTree.prototype.Total=function(){return this.m_AllPolys.length},xe(ne.PolyTree,ne.PolyNode),ne.Math_Abs_Int64=ne.Math_Abs_Int32=ne.Math_Abs_Double=function(t){return Math.abs(t)},ne.Math_Max_Int32_Int32=function(t,e){return Math.max(t,e)},ae.msie||ae.opera||ae.safari?ne.Cast_Int32=function(t){return 0|t}:ne.Cast_Int32=function(t){return~~t},ae.chrome?ne.Cast_Int64=function(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):~~t}:ae.firefox&&"function"==typeof Number.toInteger?ne.Cast_Int64=function(t){return Number.toInteger(t)}:ae.msie7||ae.msie8?ne.Cast_Int64=function(t){return parseInt(t,10)}:ae.msie?ne.Cast_Int64=function(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):0|t}:ne.Cast_Int64=function(t){return t<0?Math.ceil(t):Math.floor(t);
},ne.Clear=function(t){t.length=0},ne.PI=3.141592653589793,ne.PI2=6.283185307179586,ne.IntPoint=function(){var t=arguments,e=t.length;if(this.X=0,this.Y=0,te)if(this.Z=0,3==e)this.X=t[0],this.Y=t[1],this.Z=t[2];else if(2==e)this.X=t[0],this.Y=t[1],this.Z=0;else if(1==e)if(t[0]instanceof ne.DoublePoint){var o=t[0];this.X=ne.Clipper.Round(o.X),this.Y=ne.Clipper.Round(o.Y),this.Z=0}else{var n=t[0];"undefined"==typeof n.Z&&(n.Z=0),this.X=n.X,this.Y=n.Y,this.Z=n.Z}else this.X=0,this.Y=0,this.Z=0;else if(2==e)this.X=t[0],this.Y=t[1];else if(1==e)if(t[0]instanceof ne.DoublePoint){var o=t[0];this.X=ne.Clipper.Round(o.X),this.Y=ne.Clipper.Round(o.Y)}else{var n=t[0];this.X=n.X,this.Y=n.Y}else this.X=0,this.Y=0},ne.IntPoint.op_Equality=function(t,e){return t.X==e.X&&t.Y==e.Y},ne.IntPoint.op_Inequality=function(t,e){return t.X!=e.X||t.Y!=e.Y},te?(ne.IntPoint0=function(){this.X=0,this.Y=0,this.Z=0},ne.IntPoint1=function(t){this.X=t.X,this.Y=t.Y,this.Z=t.Z},ne.IntPoint1dp=function(t){this.X=ne.Clipper.Round(t.X),this.Y=ne.Clipper.Round(t.Y),this.Z=0},ne.IntPoint2=function(t,e){this.X=t,this.Y=e,this.Z=0},ne.IntPoint3=function(t,e,o){this.X=t,this.Y=e,this.Z=o}):(ne.IntPoint0=function(){this.X=0,this.Y=0},ne.IntPoint1=function(t){this.X=t.X,this.Y=t.Y},ne.IntPoint1dp=function(t){this.X=ne.Clipper.Round(t.X),this.Y=ne.Clipper.Round(t.Y)},ne.IntPoint2=function(t,e){this.X=t,this.Y=e}),ne.IntRect=function(){var t=arguments,e=t.length;4==e?(this.left=t[0],this.top=t[1],this.right=t[2],this.bottom=t[3]):1==e?(this.left=ir.left,this.top=ir.top,this.right=ir.right,this.bottom=ir.bottom):(this.left=0,this.top=0,this.right=0,this.bottom=0)},ne.IntRect0=function(){this.left=0,this.top=0,this.right=0,this.bottom=0},ne.IntRect1=function(t){this.left=t.left,this.top=t.top,this.right=t.right,this.bottom=t.bottom},ne.IntRect4=function(t,e,o,n){this.left=t,this.top=e,this.right=o,this.bottom=n},ne.ClipType={ctIntersection:0,ctUnion:1,ctDifference:2,ctXor:3},ne.PolyType={ptSubject:0,ptClip:1},ne.PolyFillType={pftEvenOdd:0,pftNonZero:1,pftPositive:2,pftNegative:3},ne.JoinType={jtSquare:0,jtRound:1,jtMiter:2},ne.EndType={etOpenSquare:0,etOpenRound:1,etOpenButt:2,etClosedLine:3,etClosedPolygon:4},oe&&(ne.EndType_={etSquare:0,etRound:1,etButt:2,etClosed:3}),ne.EdgeSide={esLeft:0,esRight:1},ne.Direction={dRightToLeft:0,dLeftToRight:1},ne.TEdge=function(){this.Bot=new ne.IntPoint,this.Curr=new ne.IntPoint,this.Top=new ne.IntPoint,this.Delta=new ne.IntPoint,this.Dx=0,this.PolyTyp=ne.PolyType.ptSubject,this.Side=ne.EdgeSide.esLeft,this.WindDelta=0,this.WindCnt=0,this.WindCnt2=0,this.OutIdx=0,this.Next=null,this.Prev=null,this.NextInLML=null,this.NextInAEL=null,this.PrevInAEL=null,this.NextInSEL=null,this.PrevInSEL=null},ne.IntersectNode=function(){this.Edge1=null,this.Edge2=null,this.Pt=new ne.IntPoint},ne.MyIntersectNodeSort=function(){},ne.MyIntersectNodeSort.Compare=function(t,e){return e.Pt.Y-t.Pt.Y},ne.LocalMinima=function(){this.Y=0,this.LeftBound=null,this.RightBound=null,this.Next=null},ne.Scanbeam=function(){this.Y=0,this.Next=null},ne.OutRec=function(){this.Idx=0,this.IsHole=!1,this.IsOpen=!1,this.FirstLeft=null,this.Pts=null,this.BottomPt=null,this.PolyNode=null},ne.OutPt=function(){this.Idx=0,this.Pt=new ne.IntPoint,this.Next=null,this.Prev=null},ne.Join=function(){this.OutPt1=null,this.OutPt2=null,this.OffPt=new ne.IntPoint},ne.ClipperBase=function(){this.m_MinimaList=null,this.m_CurrentLM=null,this.m_edges=new Array,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1,this.PreserveCollinear=!1,this.m_MinimaList=null,this.m_CurrentLM=null,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},ne.ClipperBase.horizontal=-9007199254740992,ne.ClipperBase.Skip=-2,ne.ClipperBase.Unassigned=-1,ne.ClipperBase.tolerance=1e-20,$t?(ne.ClipperBase.loRange=46340,ne.ClipperBase.hiRange=46340):(ne.ClipperBase.loRange=47453132,ne.ClipperBase.hiRange=0xfffffffffffff),ne.ClipperBase.near_zero=function(t){return t>-ne.ClipperBase.tolerance&&t<ne.ClipperBase.tolerance},ne.ClipperBase.IsHorizontal=function(t){return 0===t.Delta.Y},ne.ClipperBase.prototype.PointIsVertex=function(t,e){var o=e;do{if(ne.IntPoint.op_Equality(o.Pt,t))return!0;o=o.Next}while(o!=e);return!1},ne.ClipperBase.prototype.PointOnLineSegment=function(t,e,o,n){return n?t.X==e.X&&t.Y==e.Y||t.X==o.X&&t.Y==o.Y||t.X>e.X==t.X<o.X&&t.Y>e.Y==t.Y<o.Y&&ve.op_Equality(ve.Int128Mul(t.X-e.X,o.Y-e.Y),ve.Int128Mul(o.X-e.X,t.Y-e.Y)):t.X==e.X&&t.Y==e.Y||t.X==o.X&&t.Y==o.Y||t.X>e.X==t.X<o.X&&t.Y>e.Y==t.Y<o.Y&&(t.X-e.X)*(o.Y-e.Y)==(o.X-e.X)*(t.Y-e.Y)},ne.ClipperBase.prototype.PointOnPolygon=function(t,e,o){for(var n=e;;){if(this.PointOnLineSegment(t,n.Pt,n.Next.Pt,o))return!0;if(n=n.Next,n==e)break}return!1},ne.ClipperBase.prototype.SlopesEqual=ne.ClipperBase.SlopesEqual=function(){var t,e,o,n,i,r,s,a=arguments,l=a.length;return 3==l?(t=a[0],e=a[1],s=a[2],s?ve.op_Equality(ve.Int128Mul(t.Delta.Y,e.Delta.X),ve.Int128Mul(t.Delta.X,e.Delta.Y)):ne.Cast_Int64(t.Delta.Y*e.Delta.X)==ne.Cast_Int64(t.Delta.X*e.Delta.Y)):4==l?(o=a[0],n=a[1],i=a[2],s=a[3],s?ve.op_Equality(ve.Int128Mul(o.Y-n.Y,n.X-i.X),ve.Int128Mul(o.X-n.X,n.Y-i.Y)):ne.Cast_Int64((o.Y-n.Y)*(n.X-i.X))-ne.Cast_Int64((o.X-n.X)*(n.Y-i.Y))===0):(o=a[0],n=a[1],i=a[2],r=a[3],s=a[4],s?ve.op_Equality(ve.Int128Mul(o.Y-n.Y,i.X-r.X),ve.Int128Mul(o.X-n.X,i.Y-r.Y)):ne.Cast_Int64((o.Y-n.Y)*(i.X-r.X))-ne.Cast_Int64((o.X-n.X)*(i.Y-r.Y))===0)},ne.ClipperBase.SlopesEqual3=function(t,e,o){return o?ve.op_Equality(ve.Int128Mul(t.Delta.Y,e.Delta.X),ve.Int128Mul(t.Delta.X,e.Delta.Y)):ne.Cast_Int64(t.Delta.Y*e.Delta.X)==ne.Cast_Int64(t.Delta.X*e.Delta.Y)},ne.ClipperBase.SlopesEqual4=function(t,e,o,n){return n?ve.op_Equality(ve.Int128Mul(t.Y-e.Y,e.X-o.X),ve.Int128Mul(t.X-e.X,e.Y-o.Y)):ne.Cast_Int64((t.Y-e.Y)*(e.X-o.X))-ne.Cast_Int64((t.X-e.X)*(e.Y-o.Y))===0},ne.ClipperBase.SlopesEqual5=function(t,e,o,n,i){return i?ve.op_Equality(ve.Int128Mul(t.Y-e.Y,o.X-n.X),ve.Int128Mul(t.X-e.X,o.Y-n.Y)):ne.Cast_Int64((t.Y-e.Y)*(o.X-n.X))-ne.Cast_Int64((t.X-e.X)*(o.Y-n.Y))===0},ne.ClipperBase.prototype.Clear=function(){this.DisposeLocalMinimaList();for(var t=0,e=this.m_edges.length;t<e;++t){for(var o=0,n=this.m_edges[t].length;o<n;++o)this.m_edges[t][o]=null;ne.Clear(this.m_edges[t])}ne.Clear(this.m_edges),this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},ne.ClipperBase.prototype.DisposeLocalMinimaList=function(){for(;null!==this.m_MinimaList;){var t=this.m_MinimaList.Next;this.m_MinimaList=null,this.m_MinimaList=t}this.m_CurrentLM=null},ne.ClipperBase.prototype.RangeTest=function(t,e){e.Value?(t.X>ne.ClipperBase.hiRange||t.Y>ne.ClipperBase.hiRange||-t.X>ne.ClipperBase.hiRange||-t.Y>ne.ClipperBase.hiRange)&&ne.Error("Coordinate outside allowed range in RangeTest()."):(t.X>ne.ClipperBase.loRange||t.Y>ne.ClipperBase.loRange||-t.X>ne.ClipperBase.loRange||-t.Y>ne.ClipperBase.loRange)&&(e.Value=!0,this.RangeTest(t,e))},ne.ClipperBase.prototype.InitEdge=function(t,e,o,n){t.Next=e,t.Prev=o,t.Curr.X=n.X,t.Curr.Y=n.Y,t.OutIdx=-1},ne.ClipperBase.prototype.InitEdge2=function(t,e){t.Curr.Y>=t.Next.Curr.Y?(t.Bot.X=t.Curr.X,t.Bot.Y=t.Curr.Y,t.Top.X=t.Next.Curr.X,t.Top.Y=t.Next.Curr.Y):(t.Top.X=t.Curr.X,t.Top.Y=t.Curr.Y,t.Bot.X=t.Next.Curr.X,t.Bot.Y=t.Next.Curr.Y),this.SetDx(t),t.PolyTyp=e},ne.ClipperBase.prototype.FindNextLocMin=function(t){for(var e;;){for(;ne.IntPoint.op_Inequality(t.Bot,t.Prev.Bot)||ne.IntPoint.op_Equality(t.Curr,t.Top);)t=t.Next;if(t.Dx!=ne.ClipperBase.horizontal&&t.Prev.Dx!=ne.ClipperBase.horizontal)break;for(;t.Prev.Dx==ne.ClipperBase.horizontal;)t=t.Prev;for(e=t;t.Dx==ne.ClipperBase.horizontal;)t=t.Next;if(t.Top.Y!=t.Prev.Bot.Y){e.Prev.Bot.X<t.Bot.X&&(t=e);break}}return t},ne.ClipperBase.prototype.ProcessBound=function(t,e){var o,n,i=t,r=t;if(t.Dx==ne.ClipperBase.horizontal&&(n=e?t.Prev.Bot.X:t.Next.Bot.X,t.Bot.X!=n&&this.ReverseHorizontal(t)),r.OutIdx!=ne.ClipperBase.Skip)if(e){for(;r.Top.Y==r.Next.Bot.Y&&r.Next.OutIdx!=ne.ClipperBase.Skip;)r=r.Next;if(r.Dx==ne.ClipperBase.horizontal&&r.Next.OutIdx!=ne.ClipperBase.Skip){for(o=r;o.Prev.Dx==ne.ClipperBase.horizontal;)o=o.Prev;o.Prev.Top.X==r.Next.Top.X?e||(r=o.Prev):o.Prev.Top.X>r.Next.Top.X&&(r=o.Prev)}for(;t!=r;)t.NextInLML=t.Next,t.Dx==ne.ClipperBase.horizontal&&t!=i&&t.Bot.X!=t.Prev.Top.X&&this.ReverseHorizontal(t),t=t.Next;t.Dx==ne.ClipperBase.horizontal&&t!=i&&t.Bot.X!=t.Prev.Top.X&&this.ReverseHorizontal(t),r=r.Next}else{for(;r.Top.Y==r.Prev.Bot.Y&&r.Prev.OutIdx!=ne.ClipperBase.Skip;)r=r.Prev;if(r.Dx==ne.ClipperBase.horizontal&&r.Prev.OutIdx!=ne.ClipperBase.Skip){for(o=r;o.Next.Dx==ne.ClipperBase.horizontal;)o=o.Next;o.Next.Top.X==r.Prev.Top.X?e||(r=o.Next):o.Next.Top.X>r.Prev.Top.X&&(r=o.Next)}for(;t!=r;)t.NextInLML=t.Prev,t.Dx==ne.ClipperBase.horizontal&&t!=i&&t.Bot.X!=t.Next.Top.X&&this.ReverseHorizontal(t),t=t.Prev;t.Dx==ne.ClipperBase.horizontal&&t!=i&&t.Bot.X!=t.Next.Top.X&&this.ReverseHorizontal(t),r=r.Prev}if(r.OutIdx==ne.ClipperBase.Skip){if(t=r,e){for(;t.Top.Y==t.Next.Bot.Y;)t=t.Next;for(;t!=r&&t.Dx==ne.ClipperBase.horizontal;)t=t.Prev}else{for(;t.Top.Y==t.Prev.Bot.Y;)t=t.Prev;for(;t!=r&&t.Dx==ne.ClipperBase.horizontal;)t=t.Next}if(t==r)r=e?t.Next:t.Prev;else{t=e?r.Next:r.Prev;var s=new ne.LocalMinima;s.Next=null,s.Y=t.Bot.Y,s.LeftBound=null,s.RightBound=t,s.RightBound.WindDelta=0,r=this.ProcessBound(s.RightBound,e),this.InsertLocalMinima(s)}}return r},ne.ClipperBase.prototype.AddPath=function(t,e,o){ee?o||e!=ne.PolyType.ptClip||ne.Error("AddPath: Open paths must be subject."):o||ne.Error("AddPath: Open paths have been disabled.");var n=t.length-1;if(o)for(;n>0&&ne.IntPoint.op_Equality(t[n],t[0]);)--n;for(;n>0&&ne.IntPoint.op_Equality(t[n],t[n-1]);)--n;if(o&&n<2||!o&&n<1)return!1;for(var i=new Array,r=0;r<=n;r++)i.push(new ne.TEdge);var s=!0;i[1].Curr.X=t[1].X,i[1].Curr.Y=t[1].Y;var a={Value:this.m_UseFullRange};this.RangeTest(t[0],a),this.m_UseFullRange=a.Value,a.Value=this.m_UseFullRange,this.RangeTest(t[n],a),this.m_UseFullRange=a.Value,this.InitEdge(i[0],i[1],i[n],t[0]),this.InitEdge(i[n],i[0],i[n-1],t[n]);for(var r=n-1;r>=1;--r)a.Value=this.m_UseFullRange,this.RangeTest(t[r],a),this.m_UseFullRange=a.Value,this.InitEdge(i[r],i[r+1],i[r-1],t[r]);for(var l=i[0],u=l,p=l;;)if(ne.IntPoint.op_Equality(u.Curr,u.Next.Curr)){if(u==u.Next)break;u==l&&(l=u.Next),u=this.RemoveEdge(u),p=u}else{if(u.Prev==u.Next)break;if(!o||!ne.ClipperBase.SlopesEqual(u.Prev.Curr,u.Curr,u.Next.Curr,this.m_UseFullRange)||this.PreserveCollinear&&this.Pt2IsBetweenPt1AndPt3(u.Prev.Curr,u.Curr,u.Next.Curr)){if(u=u.Next,u==p)break}else u==l&&(l=u.Next),u=this.RemoveEdge(u),u=u.Prev,p=u}if(!o&&u==u.Next||o&&u.Prev==u.Next)return!1;o||(this.m_HasOpenPaths=!0,l.Prev.OutIdx=ne.ClipperBase.Skip);u=l;do this.InitEdge2(u,e),u=u.Next,s&&u.Curr.Y!=l.Curr.Y&&(s=!1);while(u!=l);if(s){if(o)return!1;u.Prev.OutIdx=ne.ClipperBase.Skip,u.Prev.Bot.X<u.Prev.Top.X&&this.ReverseHorizontal(u.Prev);var c=new ne.LocalMinima;for(c.Next=null,c.Y=u.Bot.Y,c.LeftBound=null,c.RightBound=u,c.RightBound.Side=ne.EdgeSide.esRight,c.RightBound.WindDelta=0;u.Next.OutIdx!=ne.ClipperBase.Skip;)u.NextInLML=u.Next,u.Bot.X!=u.Prev.Top.X&&this.ReverseHorizontal(u),u=u.Next;return this.InsertLocalMinima(c),this.m_edges.push(i),!0}this.m_edges.push(i);for(var h,m=null;u=this.FindNextLocMin(u),u!=m;){null==m&&(m=u);var c=new ne.LocalMinima;c.Next=null,c.Y=u.Bot.Y,u.Dx<u.Prev.Dx?(c.LeftBound=u.Prev,c.RightBound=u,h=!1):(c.LeftBound=u,c.RightBound=u.Prev,h=!0),c.LeftBound.Side=ne.EdgeSide.esLeft,c.RightBound.Side=ne.EdgeSide.esRight,o?c.LeftBound.Next==c.RightBound?c.LeftBound.WindDelta=-1:c.LeftBound.WindDelta=1:c.LeftBound.WindDelta=0,c.RightBound.WindDelta=-c.LeftBound.WindDelta,u=this.ProcessBound(c.LeftBound,h);var d=this.ProcessBound(c.RightBound,!h);c.LeftBound.OutIdx==ne.ClipperBase.Skip?c.LeftBound=null:c.RightBound.OutIdx==ne.ClipperBase.Skip&&(c.RightBound=null),this.InsertLocalMinima(c),h||(u=d)}return!0},ne.ClipperBase.prototype.AddPaths=function(t,e,o){for(var n=!1,i=0,r=t.length;i<r;++i)this.AddPath(t[i],e,o)&&(n=!0);return n},ne.ClipperBase.prototype.Pt2IsBetweenPt1AndPt3=function(t,e,o){return!(ne.IntPoint.op_Equality(t,o)||ne.IntPoint.op_Equality(t,e)||ne.IntPoint.op_Equality(o,e))&&(t.X!=o.X?e.X>t.X==e.X<o.X:e.Y>t.Y==e.Y<o.Y)},ne.ClipperBase.prototype.RemoveEdge=function(t){t.Prev.Next=t.Next,t.Next.Prev=t.Prev;var e=t.Next;return t.Prev=null,e},ne.ClipperBase.prototype.SetDx=function(t){t.Delta.X=t.Top.X-t.Bot.X,t.Delta.Y=t.Top.Y-t.Bot.Y,0===t.Delta.Y?t.Dx=ne.ClipperBase.horizontal:t.Dx=t.Delta.X/t.Delta.Y},ne.ClipperBase.prototype.InsertLocalMinima=function(t){if(null===this.m_MinimaList)this.m_MinimaList=t;else if(t.Y>=this.m_MinimaList.Y)t.Next=this.m_MinimaList,this.m_MinimaList=t;else{for(var e=this.m_MinimaList;null!==e.Next&&t.Y<e.Next.Y;)e=e.Next;t.Next=e.Next,e.Next=t}},ne.ClipperBase.prototype.PopLocalMinima=function(){null!==this.m_CurrentLM&&(this.m_CurrentLM=this.m_CurrentLM.Next)},ne.ClipperBase.prototype.ReverseHorizontal=function(t){var e=t.Top.X;t.Top.X=t.Bot.X,t.Bot.X=e,te&&(e=t.Top.Z,t.Top.Z=t.Bot.Z,t.Bot.Z=e)},ne.ClipperBase.prototype.Reset=function(){if(this.m_CurrentLM=this.m_MinimaList,null!=this.m_CurrentLM)for(var t=this.m_MinimaList;null!=t;){var e=t.LeftBound;null!=e&&(e.Curr.X=e.Bot.X,e.Curr.Y=e.Bot.Y,e.Side=ne.EdgeSide.esLeft,e.OutIdx=ne.ClipperBase.Unassigned),e=t.RightBound,null!=e&&(e.Curr.X=e.Bot.X,e.Curr.Y=e.Bot.Y,e.Side=ne.EdgeSide.esRight,e.OutIdx=ne.ClipperBase.Unassigned),t=t.Next}},ne.Clipper=function(t){"undefined"==typeof t&&(t=0),this.m_PolyOuts=null,this.m_ClipType=ne.ClipType.ctIntersection,this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=null,this.m_IntersectNodeComparer=null,this.m_ExecuteLocked=!1,this.m_ClipFillType=ne.PolyFillType.pftEvenOdd,this.m_SubjFillType=ne.PolyFillType.pftEvenOdd,this.m_Joins=null,this.m_GhostJoins=null,this.m_UsingPolyTree=!1,this.ReverseSolution=!1,this.StrictlySimple=!1,ne.ClipperBase.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=new Array,this.m_IntersectNodeComparer=ne.MyIntersectNodeSort.Compare,this.m_ExecuteLocked=!1,this.m_UsingPolyTree=!1,this.m_PolyOuts=new Array,this.m_Joins=new Array,this.m_GhostJoins=new Array,this.ReverseSolution=0!==(1&t),this.StrictlySimple=0!==(2&t),this.PreserveCollinear=0!==(4&t),te&&(this.ZFillFunction=null)},ne.Clipper.ioReverseSolution=1,ne.Clipper.ioStrictlySimple=2,ne.Clipper.ioPreserveCollinear=4,ne.Clipper.prototype.Clear=function(){0!==this.m_edges.length&&(this.DisposeAllPolyPts(),ne.ClipperBase.prototype.Clear.call(this))},ne.Clipper.prototype.DisposeScanbeamList=function(){for(;null!==this.m_Scanbeam;){var t=this.m_Scanbeam.Next;this.m_Scanbeam=null,this.m_Scanbeam=t}},ne.Clipper.prototype.Reset=function(){ne.ClipperBase.prototype.Reset.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null;for(var t=this.m_MinimaList;null!==t;)this.InsertScanbeam(t.Y),t=t.Next},ne.Clipper.prototype.InsertScanbeam=function(t){if(null===this.m_Scanbeam)this.m_Scanbeam=new ne.Scanbeam,this.m_Scanbeam.Next=null,this.m_Scanbeam.Y=t;else if(t>this.m_Scanbeam.Y){var e=new ne.Scanbeam;e.Y=t,e.Next=this.m_Scanbeam,this.m_Scanbeam=e}else{for(var o=this.m_Scanbeam;null!==o.Next&&t<=o.Next.Y;)o=o.Next;if(t==o.Y)return;var e=new ne.Scanbeam;e.Y=t,e.Next=o.Next,o.Next=e}},ne.Clipper.prototype.Execute=function(){var t=arguments,e=t.length,o=t[1]instanceof ne.PolyTree;if(4==e&&!o){var n=t[0],i=t[1],r=t[2],s=t[3];if(this.m_ExecuteLocked)return!1;this.m_HasOpenPaths&&ne.Error("Error: PolyTree struct is need for open path clipping."),this.m_ExecuteLocked=!0,ne.Clear(i),this.m_SubjFillType=r,this.m_ClipFillType=s,this.m_ClipType=n,this.m_UsingPolyTree=!1;try{var a=this.ExecuteInternal();a&&this.BuildResult(i)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return a}if(4==e&&o){var n=t[0],l=t[1],r=t[2],s=t[3];if(this.m_ExecuteLocked)return!1;this.m_ExecuteLocked=!0,this.m_SubjFillType=r,this.m_ClipFillType=s,this.m_ClipType=n,this.m_UsingPolyTree=!0;try{var a=this.ExecuteInternal();a&&this.BuildResult2(l)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return a}if(2==e&&!o){var n=t[0],i=t[1];return this.Execute(n,i,ne.PolyFillType.pftEvenOdd,ne.PolyFillType.pftEvenOdd)}if(2==e&&o){var n=t[0],l=t[1];return this.Execute(n,l,ne.PolyFillType.pftEvenOdd,ne.PolyFillType.pftEvenOdd)}},ne.Clipper.prototype.FixHoleLinkage=function(t){if(null!==t.FirstLeft&&(t.IsHole==t.FirstLeft.IsHole||null===t.FirstLeft.Pts)){for(var e=t.FirstLeft;null!==e&&(e.IsHole==t.IsHole||null===e.Pts);)e=e.FirstLeft;t.FirstLeft=e}},ne.Clipper.prototype.ExecuteInternal=function(){try{if(this.Reset(),null===this.m_CurrentLM)return!1;var t=this.PopScanbeam();do{if(this.InsertLocalMinimaIntoAEL(t),ne.Clear(this.m_GhostJoins),this.ProcessHorizontals(!1),null===this.m_Scanbeam)break;var e=this.PopScanbeam();if(!this.ProcessIntersections(t,e))return!1;this.ProcessEdgesAtTopOfScanbeam(e),t=e}while(null!==this.m_Scanbeam||null!==this.m_CurrentLM);for(var o=0,n=this.m_PolyOuts.length;o<n;o++){var i=this.m_PolyOuts[o];null===i.Pts||i.IsOpen||(i.IsHole^this.ReverseSolution)==this.Area(i)>0&&this.ReversePolyPtLinks(i.Pts)}this.JoinCommonEdges();for(var o=0,n=this.m_PolyOuts.length;o<n;o++){var i=this.m_PolyOuts[o];null===i.Pts||i.IsOpen||this.FixupOutPolygon(i)}return this.StrictlySimple&&this.DoSimplePolygons(),!0}finally{ne.Clear(this.m_Joins),ne.Clear(this.m_GhostJoins)}},ne.Clipper.prototype.PopScanbeam=function(){var t=this.m_Scanbeam.Y,e=this.m_Scanbeam;return this.m_Scanbeam=this.m_Scanbeam.Next,e=null,t},ne.Clipper.prototype.DisposeAllPolyPts=function(){for(var t=0,e=this.m_PolyOuts.length;t<e;++t)this.DisposeOutRec(t);ne.Clear(this.m_PolyOuts)},ne.Clipper.prototype.DisposeOutRec=function(t){var e=this.m_PolyOuts[t];null!==e.Pts&&this.DisposeOutPts(e.Pts),e=null,this.m_PolyOuts[t]=null},ne.Clipper.prototype.DisposeOutPts=function(t){if(null!==t){var e=null;for(t.Prev.Next=null;null!==t;)e=t,t=t.Next,e=null}},ne.Clipper.prototype.AddJoin=function(t,e,o){var n=new ne.Join;n.OutPt1=t,n.OutPt2=e,n.OffPt.X=o.X,n.OffPt.Y=o.Y,this.m_Joins.push(n)},ne.Clipper.prototype.AddGhostJoin=function(t,e){var o=new ne.Join;o.OutPt1=t,o.OffPt.X=e.X,o.OffPt.Y=e.Y,this.m_GhostJoins.push(o)},te&&(ne.Clipper.prototype.SetZ=function(t,e){t.Z=0,null!==this.ZFillFunction&&(e.OutIdx<0?this.ZFillFunction(e.Bot,e.Top,t):this.ZFillFunction(e.Top,e.Bot,t))}),ne.Clipper.prototype.InsertLocalMinimaIntoAEL=function(t){for(;null!==this.m_CurrentLM&&this.m_CurrentLM.Y==t;){var e=this.m_CurrentLM.LeftBound,o=this.m_CurrentLM.RightBound;this.PopLocalMinima();var n=null;if(null===e?(this.InsertEdgeIntoAEL(o,null),this.SetWindingCount(o),this.IsContributing(o)&&(n=this.AddOutPt(o,o.Bot))):null==o?(this.InsertEdgeIntoAEL(e,null),this.SetWindingCount(e),this.IsContributing(e)&&(n=this.AddOutPt(e,e.Bot)),this.InsertScanbeam(e.Top.Y)):(this.InsertEdgeIntoAEL(e,null),this.InsertEdgeIntoAEL(o,e),this.SetWindingCount(e),o.WindCnt=e.WindCnt,o.WindCnt2=e.WindCnt2,this.IsContributing(e)&&(n=this.AddLocalMinPoly(e,o,e.Bot)),this.InsertScanbeam(e.Top.Y)),null!=o&&(ne.ClipperBase.IsHorizontal(o)?this.AddEdgeToSEL(o):this.InsertScanbeam(o.Top.Y)),null!=e&&null!=o){if(null!==n&&ne.ClipperBase.IsHorizontal(o)&&this.m_GhostJoins.length>0&&0!==o.WindDelta)for(var i=0,r=this.m_GhostJoins.length;i<r;i++){var s=this.m_GhostJoins[i];this.HorzSegmentsOverlap(s.OutPt1.Pt,s.OffPt,o.Bot,o.Top)&&this.AddJoin(s.OutPt1,n,s.OffPt)}if(e.OutIdx>=0&&null!==e.PrevInAEL&&e.PrevInAEL.Curr.X==e.Bot.X&&e.PrevInAEL.OutIdx>=0&&ne.ClipperBase.SlopesEqual(e.PrevInAEL,e,this.m_UseFullRange)&&0!==e.WindDelta&&0!==e.PrevInAEL.WindDelta){var a=this.AddOutPt(e.PrevInAEL,e.Bot);this.AddJoin(n,a,e.Top)}if(e.NextInAEL!=o){if(o.OutIdx>=0&&o.PrevInAEL.OutIdx>=0&&ne.ClipperBase.SlopesEqual(o.PrevInAEL,o,this.m_UseFullRange)&&0!==o.WindDelta&&0!==o.PrevInAEL.WindDelta){var a=this.AddOutPt(o.PrevInAEL,o.Bot);this.AddJoin(n,a,o.Top)}var l=e.NextInAEL;if(null!==l)for(;l!=o;)this.IntersectEdges(o,l,e.Curr,!1),l=l.NextInAEL}}}},ne.Clipper.prototype.InsertEdgeIntoAEL=function(t,e){if(null===this.m_ActiveEdges)t.PrevInAEL=null,t.NextInAEL=null,this.m_ActiveEdges=t;else if(null===e&&this.E2InsertsBeforeE1(this.m_ActiveEdges,t))t.PrevInAEL=null,t.NextInAEL=this.m_ActiveEdges,this.m_ActiveEdges.PrevInAEL=t,this.m_ActiveEdges=t;else{for(null===e&&(e=this.m_ActiveEdges);null!==e.NextInAEL&&!this.E2InsertsBeforeE1(e.NextInAEL,t);)e=e.NextInAEL;t.NextInAEL=e.NextInAEL,null!==e.NextInAEL&&(e.NextInAEL.PrevInAEL=t),t.PrevInAEL=e,e.NextInAEL=t}},ne.Clipper.prototype.E2InsertsBeforeE1=function(t,e){return e.Curr.X==t.Curr.X?e.Top.Y>t.Top.Y?e.Top.X<ne.Clipper.TopX(t,e.Top.Y):t.Top.X>ne.Clipper.TopX(e,t.Top.Y):e.Curr.X<t.Curr.X},ne.Clipper.prototype.IsEvenOddFillType=function(t){return t.PolyTyp==ne.PolyType.ptSubject?this.m_SubjFillType==ne.PolyFillType.pftEvenOdd:this.m_ClipFillType==ne.PolyFillType.pftEvenOdd},ne.Clipper.prototype.IsEvenOddAltFillType=function(t){return t.PolyTyp==ne.PolyType.ptSubject?this.m_ClipFillType==ne.PolyFillType.pftEvenOdd:this.m_SubjFillType==ne.PolyFillType.pftEvenOdd},ne.Clipper.prototype.IsContributing=function(t){var e,o;switch(t.PolyTyp==ne.PolyType.ptSubject?(e=this.m_SubjFillType,o=this.m_ClipFillType):(e=this.m_ClipFillType,o=this.m_SubjFillType),e){case ne.PolyFillType.pftEvenOdd:if(0===t.WindDelta&&1!=t.WindCnt)return!1;break;case ne.PolyFillType.pftNonZero:if(1!=Math.abs(t.WindCnt))return!1;break;case ne.PolyFillType.pftPositive:if(1!=t.WindCnt)return!1;break;default:if(t.WindCnt!=-1)return!1}switch(this.m_ClipType){case ne.ClipType.ctIntersection:switch(o){case ne.PolyFillType.pftEvenOdd:case ne.PolyFillType.pftNonZero:return 0!==t.WindCnt2;case ne.PolyFillType.pftPositive:return t.WindCnt2>0;default:return t.WindCnt2<0}case ne.ClipType.ctUnion:switch(o){case ne.PolyFillType.pftEvenOdd:case ne.PolyFillType.pftNonZero:return 0===t.WindCnt2;case ne.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}case ne.ClipType.ctDifference:if(t.PolyTyp==ne.PolyType.ptSubject)switch(o){case ne.PolyFillType.pftEvenOdd:case ne.PolyFillType.pftNonZero:return 0===t.WindCnt2;case ne.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}else switch(o){case ne.PolyFillType.pftEvenOdd:case ne.PolyFillType.pftNonZero:return 0!==t.WindCnt2;case ne.PolyFillType.pftPositive:return t.WindCnt2>0;default:return t.WindCnt2<0}case ne.ClipType.ctXor:if(0!==t.WindDelta)return!0;switch(o){case ne.PolyFillType.pftEvenOdd:case ne.PolyFillType.pftNonZero:return 0===t.WindCnt2;case ne.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}}return!0},ne.Clipper.prototype.SetWindingCount=function(t){for(var e=t.PrevInAEL;null!==e&&(e.PolyTyp!=t.PolyTyp||0===e.WindDelta);)e=e.PrevInAEL;if(null===e)t.WindCnt=0===t.WindDelta?1:t.WindDelta,t.WindCnt2=0,e=this.m_ActiveEdges;else if(0===t.WindDelta&&this.m_ClipType!=ne.ClipType.ctUnion)t.WindCnt=1,t.WindCnt2=e.WindCnt2,e=e.NextInAEL;else if(this.IsEvenOddFillType(t)){if(0===t.WindDelta){for(var o=!0,n=e.PrevInAEL;null!==n;)n.PolyTyp==e.PolyTyp&&0!==n.WindDelta&&(o=!o),n=n.PrevInAEL;t.WindCnt=o?0:1}else t.WindCnt=t.WindDelta;t.WindCnt2=e.WindCnt2,e=e.NextInAEL}else e.WindCnt*e.WindDelta<0?Math.abs(e.WindCnt)>1?e.WindDelta*t.WindDelta<0?t.WindCnt=e.WindCnt:t.WindCnt=e.WindCnt+t.WindDelta:t.WindCnt=0===t.WindDelta?1:t.WindDelta:0===t.WindDelta?t.WindCnt=e.WindCnt<0?e.WindCnt-1:e.WindCnt+1:e.WindDelta*t.WindDelta<0?t.WindCnt=e.WindCnt:t.WindCnt=e.WindCnt+t.WindDelta,t.WindCnt2=e.WindCnt2,e=e.NextInAEL;if(this.IsEvenOddAltFillType(t))for(;e!=t;)0!==e.WindDelta&&(t.WindCnt2=0===t.WindCnt2?1:0),e=e.NextInAEL;else for(;e!=t;)t.WindCnt2+=e.WindDelta,e=e.NextInAEL},ne.Clipper.prototype.AddEdgeToSEL=function(t){null===this.m_SortedEdges?(this.m_SortedEdges=t,t.PrevInSEL=null,t.NextInSEL=null):(t.NextInSEL=this.m_SortedEdges,t.PrevInSEL=null,this.m_SortedEdges.PrevInSEL=t,this.m_SortedEdges=t)},ne.Clipper.prototype.CopyAELToSEL=function(){var t=this.m_ActiveEdges;for(this.m_SortedEdges=t;null!==t;)t.PrevInSEL=t.PrevInAEL,t.NextInSEL=t.NextInAEL,t=t.NextInAEL},ne.Clipper.prototype.SwapPositionsInAEL=function(t,e){if(t.NextInAEL!=t.PrevInAEL&&e.NextInAEL!=e.PrevInAEL){if(t.NextInAEL==e){var o=e.NextInAEL;null!==o&&(o.PrevInAEL=t);var n=t.PrevInAEL;null!==n&&(n.NextInAEL=e),e.PrevInAEL=n,e.NextInAEL=t,t.PrevInAEL=e,t.NextInAEL=o}else if(e.NextInAEL==t){var o=t.NextInAEL;null!==o&&(o.PrevInAEL=e);var n=e.PrevInAEL;null!==n&&(n.NextInAEL=t),t.PrevInAEL=n,t.NextInAEL=e,e.PrevInAEL=t,e.NextInAEL=o}else{var o=t.NextInAEL,n=t.PrevInAEL;t.NextInAEL=e.NextInAEL,null!==t.NextInAEL&&(t.NextInAEL.PrevInAEL=t),t.PrevInAEL=e.PrevInAEL,null!==t.PrevInAEL&&(t.PrevInAEL.NextInAEL=t),e.NextInAEL=o,null!==e.NextInAEL&&(e.NextInAEL.PrevInAEL=e),e.PrevInAEL=n,null!==e.PrevInAEL&&(e.PrevInAEL.NextInAEL=e)}null===t.PrevInAEL?this.m_ActiveEdges=t:null===e.PrevInAEL&&(this.m_ActiveEdges=e)}},ne.Clipper.prototype.SwapPositionsInSEL=function(t,e){if(!(null===t.NextInSEL&&null===t.PrevInSEL||null===e.NextInSEL&&null===e.PrevInSEL)){if(t.NextInSEL==e){var o=e.NextInSEL;null!==o&&(o.PrevInSEL=t);var n=t.PrevInSEL;null!==n&&(n.NextInSEL=e),e.PrevInSEL=n,e.NextInSEL=t,t.PrevInSEL=e,t.NextInSEL=o}else if(e.NextInSEL==t){var o=t.NextInSEL;null!==o&&(o.PrevInSEL=e);var n=e.PrevInSEL;null!==n&&(n.NextInSEL=t),t.PrevInSEL=n,t.NextInSEL=e,e.PrevInSEL=t,e.NextInSEL=o}else{var o=t.NextInSEL,n=t.PrevInSEL;t.NextInSEL=e.NextInSEL,null!==t.NextInSEL&&(t.NextInSEL.PrevInSEL=t),t.PrevInSEL=e.PrevInSEL,null!==t.PrevInSEL&&(t.PrevInSEL.NextInSEL=t),e.NextInSEL=o,null!==e.NextInSEL&&(e.NextInSEL.PrevInSEL=e),e.PrevInSEL=n,null!==e.PrevInSEL&&(e.PrevInSEL.NextInSEL=e)}null===t.PrevInSEL?this.m_SortedEdges=t:null===e.PrevInSEL&&(this.m_SortedEdges=e)}},ne.Clipper.prototype.AddLocalMaxPoly=function(t,e,o){this.AddOutPt(t,o),0==e.WindDelta&&this.AddOutPt(e,o),t.OutIdx==e.OutIdx?(t.OutIdx=-1,e.OutIdx=-1):t.OutIdx<e.OutIdx?this.AppendPolygon(t,e):this.AppendPolygon(e,t)},ne.Clipper.prototype.AddLocalMinPoly=function(t,e,o){var n,i,r;if(ne.ClipperBase.IsHorizontal(e)||t.Dx>e.Dx?(n=this.AddOutPt(t,o),e.OutIdx=t.OutIdx,t.Side=ne.EdgeSide.esLeft,e.Side=ne.EdgeSide.esRight,i=t,r=i.PrevInAEL==e?e.PrevInAEL:i.PrevInAEL):(n=this.AddOutPt(e,o),t.OutIdx=e.OutIdx,t.Side=ne.EdgeSide.esRight,e.Side=ne.EdgeSide.esLeft,i=e,r=i.PrevInAEL==t?t.PrevInAEL:i.PrevInAEL),null!==r&&r.OutIdx>=0&&ne.Clipper.TopX(r,o.Y)==ne.Clipper.TopX(i,o.Y)&&ne.ClipperBase.SlopesEqual(i,r,this.m_UseFullRange)&&0!==i.WindDelta&&0!==r.WindDelta){var s=this.AddOutPt(r,o);this.AddJoin(n,s,i.Top)}return n},ne.Clipper.prototype.CreateOutRec=function(){var t=new ne.OutRec;return t.Idx=-1,t.IsHole=!1,t.IsOpen=!1,t.FirstLeft=null,t.Pts=null,t.BottomPt=null,t.PolyNode=null,this.m_PolyOuts.push(t),t.Idx=this.m_PolyOuts.length-1,t},ne.Clipper.prototype.AddOutPt=function(t,e){var o=t.Side==ne.EdgeSide.esLeft;if(t.OutIdx<0){var n=this.CreateOutRec();n.IsOpen=0===t.WindDelta;var i=new ne.OutPt;return n.Pts=i,i.Idx=n.Idx,i.Pt.X=e.X,i.Pt.Y=e.Y,i.Next=i,i.Prev=i,n.IsOpen||this.SetHoleState(t,n),te&&(ne.IntPoint.op_Equality(e,t.Bot)?(i.Pt.X=t.Bot.X,i.Pt.Y=t.Bot.Y,i.Pt.Z=t.Bot.Z):ne.IntPoint.op_Equality(e,t.Top)?(i.Pt.X=t.Top.X,i.Pt.Y=t.Top.Y,i.Pt.Z=t.Top.Z):this.SetZ(i.Pt,t)),t.OutIdx=n.Idx,i}var n=this.m_PolyOuts[t.OutIdx],r=n.Pts;if(o&&ne.IntPoint.op_Equality(e,r.Pt))return r;if(!o&&ne.IntPoint.op_Equality(e,r.Prev.Pt))return r.Prev;var i=new ne.OutPt;return i.Idx=n.Idx,i.Pt.X=e.X,i.Pt.Y=e.Y,i.Next=r,i.Prev=r.Prev,i.Prev.Next=i,r.Prev=i,o&&(n.Pts=i),te&&(ne.IntPoint.op_Equality(e,t.Bot)?(i.Pt.X=t.Bot.X,i.Pt.Y=t.Bot.Y,i.Pt.Z=t.Bot.Z):ne.IntPoint.op_Equality(e,t.Top)?(i.Pt.X=t.Top.X,i.Pt.Y=t.Top.Y,i.Pt.Z=t.Top.Z):this.SetZ(i.Pt,t)),i},ne.Clipper.prototype.SwapPoints=function(t,e){var o=new ne.IntPoint(t.Value);t.Value.X=e.Value.X,t.Value.Y=e.Value.Y,e.Value.X=o.X,e.Value.Y=o.Y},ne.Clipper.prototype.HorzSegmentsOverlap=function(t,e,o,n){return t.X>o.X==t.X<n.X||(e.X>o.X==e.X<n.X||(o.X>t.X==o.X<e.X||(n.X>t.X==n.X<e.X||(t.X==o.X&&e.X==n.X||t.X==n.X&&e.X==o.X))))},ne.Clipper.prototype.InsertPolyPtBetween=function(t,e,o){var n=new ne.OutPt;return n.Pt.X=o.X,n.Pt.Y=o.Y,e==t.Next?(t.Next=n,e.Prev=n,n.Next=e,n.Prev=t):(e.Next=n,t.Prev=n,n.Next=t,n.Prev=e),n},ne.Clipper.prototype.SetHoleState=function(t,e){for(var o=!1,n=t.PrevInAEL;null!==n;)n.OutIdx>=0&&0!=n.WindDelta&&(o=!o,null===e.FirstLeft&&(e.FirstLeft=this.m_PolyOuts[n.OutIdx])),n=n.PrevInAEL;o&&(e.IsHole=!0)},ne.Clipper.prototype.GetDx=function(t,e){return t.Y==e.Y?ne.ClipperBase.horizontal:(e.X-t.X)/(e.Y-t.Y)},ne.Clipper.prototype.FirstIsBottomPt=function(t,e){for(var o=t.Prev;ne.IntPoint.op_Equality(o.Pt,t.Pt)&&o!=t;)o=o.Prev;var n=Math.abs(this.GetDx(t.Pt,o.Pt));for(o=t.Next;ne.IntPoint.op_Equality(o.Pt,t.Pt)&&o!=t;)o=o.Next;var i=Math.abs(this.GetDx(t.Pt,o.Pt));for(o=e.Prev;ne.IntPoint.op_Equality(o.Pt,e.Pt)&&o!=e;)o=o.Prev;var r=Math.abs(this.GetDx(e.Pt,o.Pt));for(o=e.Next;ne.IntPoint.op_Equality(o.Pt,e.Pt)&&o!=e;)o=o.Next;var s=Math.abs(this.GetDx(e.Pt,o.Pt));return n>=r&&n>=s||i>=r&&i>=s},ne.Clipper.prototype.GetBottomPt=function(t){for(var e=null,o=t.Next;o!=t;)o.Pt.Y>t.Pt.Y?(t=o,e=null):o.Pt.Y==t.Pt.Y&&o.Pt.X<=t.Pt.X&&(o.Pt.X<t.Pt.X?(e=null,t=o):o.Next!=t&&o.Prev!=t&&(e=o)),o=o.Next;if(null!==e)for(;e!=o;)for(this.FirstIsBottomPt(o,e)||(t=e),e=e.Next;ne.IntPoint.op_Inequality(e.Pt,t.Pt);)e=e.Next;return t},ne.Clipper.prototype.GetLowermostRec=function(t,e){null===t.BottomPt&&(t.BottomPt=this.GetBottomPt(t.Pts)),null===e.BottomPt&&(e.BottomPt=this.GetBottomPt(e.Pts));var o=t.BottomPt,n=e.BottomPt;return o.Pt.Y>n.Pt.Y?t:o.Pt.Y<n.Pt.Y?e:o.Pt.X<n.Pt.X?t:o.Pt.X>n.Pt.X?e:o.Next==o?e:n.Next==n?t:this.FirstIsBottomPt(o,n)?t:e},ne.Clipper.prototype.Param1RightOfParam2=function(t,e){do if(t=t.FirstLeft,t==e)return!0;while(null!==t);return!1},ne.Clipper.prototype.GetOutRec=function(t){for(var e=this.m_PolyOuts[t];e!=this.m_PolyOuts[e.Idx];)e=this.m_PolyOuts[e.Idx];return e},ne.Clipper.prototype.AppendPolygon=function(t,e){var o,n=this.m_PolyOuts[t.OutIdx],i=this.m_PolyOuts[e.OutIdx];o=this.Param1RightOfParam2(n,i)?i:this.Param1RightOfParam2(i,n)?n:this.GetLowermostRec(n,i);var r,s=n.Pts,a=s.Prev,l=i.Pts,u=l.Prev;t.Side==ne.EdgeSide.esLeft?(e.Side==ne.EdgeSide.esLeft?(this.ReversePolyPtLinks(l),l.Next=s,s.Prev=l,a.Next=u,u.Prev=a,n.Pts=u):(u.Next=s,s.Prev=u,l.Prev=a,a.Next=l,n.Pts=l),r=ne.EdgeSide.esLeft):(e.Side==ne.EdgeSide.esRight?(this.ReversePolyPtLinks(l),a.Next=u,u.Prev=a,l.Next=s,s.Prev=l):(a.Next=l,l.Prev=a,s.Prev=u,u.Next=s),r=ne.EdgeSide.esRight),n.BottomPt=null,o==i&&(i.FirstLeft!=n&&(n.FirstLeft=i.FirstLeft),n.IsHole=i.IsHole),i.Pts=null,i.BottomPt=null,i.FirstLeft=n;var p=t.OutIdx,c=e.OutIdx;t.OutIdx=-1,e.OutIdx=-1;for(var h=this.m_ActiveEdges;null!==h;){if(h.OutIdx==c){h.OutIdx=p,h.Side=r;break}h=h.NextInAEL}i.Idx=n.Idx},ne.Clipper.prototype.ReversePolyPtLinks=function(t){if(null!==t){var e,o;e=t;do o=e.Next,e.Next=e.Prev,e.Prev=o,e=o;while(e!=t)}},ne.Clipper.SwapSides=function(t,e){var o=t.Side;t.Side=e.Side,e.Side=o},ne.Clipper.SwapPolyIndexes=function(t,e){var o=t.OutIdx;t.OutIdx=e.OutIdx,e.OutIdx=o},ne.Clipper.prototype.IntersectEdges=function(t,e,o,n){var i=!n&&null===t.NextInLML&&t.Top.X==o.X&&t.Top.Y==o.Y,r=!n&&null===e.NextInLML&&e.Top.X==o.X&&e.Top.Y==o.Y,s=t.OutIdx>=0,a=e.OutIdx>=0;if(ee&&(0===t.WindDelta||0===e.WindDelta))return 0===t.WindDelta&&0===e.WindDelta?(i||r)&&s&&a&&this.AddLocalMaxPoly(t,e,o):t.PolyTyp==e.PolyTyp&&t.WindDelta!=e.WindDelta&&this.m_ClipType==ne.ClipType.ctUnion?0===t.WindDelta?a&&(this.AddOutPt(t,o),s&&(t.OutIdx=-1)):s&&(this.AddOutPt(e,o),a&&(e.OutIdx=-1)):t.PolyTyp!=e.PolyTyp&&(0!==t.WindDelta||1!=Math.abs(e.WindCnt)||this.m_ClipType==ne.ClipType.ctUnion&&0!==e.WindCnt2?0!==e.WindDelta||1!=Math.abs(t.WindCnt)||this.m_ClipType==ne.ClipType.ctUnion&&0!==t.WindCnt2||(this.AddOutPt(e,o),a&&(e.OutIdx=-1)):(this.AddOutPt(t,o),s&&(t.OutIdx=-1))),i&&(t.OutIdx<0?this.DeleteFromAEL(t):ne.Error("Error intersecting polylines")),
void(r&&(e.OutIdx<0?this.DeleteFromAEL(e):ne.Error("Error intersecting polylines")));if(t.PolyTyp==e.PolyTyp)if(this.IsEvenOddFillType(t)){var l=t.WindCnt;t.WindCnt=e.WindCnt,e.WindCnt=l}else t.WindCnt+e.WindDelta===0?t.WindCnt=-t.WindCnt:t.WindCnt+=e.WindDelta,e.WindCnt-t.WindDelta===0?e.WindCnt=-e.WindCnt:e.WindCnt-=t.WindDelta;else this.IsEvenOddFillType(e)?t.WindCnt2=0===t.WindCnt2?1:0:t.WindCnt2+=e.WindDelta,this.IsEvenOddFillType(t)?e.WindCnt2=0===e.WindCnt2?1:0:e.WindCnt2-=t.WindDelta;var u,p,c,h;t.PolyTyp==ne.PolyType.ptSubject?(u=this.m_SubjFillType,c=this.m_ClipFillType):(u=this.m_ClipFillType,c=this.m_SubjFillType),e.PolyTyp==ne.PolyType.ptSubject?(p=this.m_SubjFillType,h=this.m_ClipFillType):(p=this.m_ClipFillType,h=this.m_SubjFillType);var m,d;switch(u){case ne.PolyFillType.pftPositive:m=t.WindCnt;break;case ne.PolyFillType.pftNegative:m=-t.WindCnt;break;default:m=Math.abs(t.WindCnt)}switch(p){case ne.PolyFillType.pftPositive:d=e.WindCnt;break;case ne.PolyFillType.pftNegative:d=-e.WindCnt;break;default:d=Math.abs(e.WindCnt)}if(s&&a)i||r||0!==m&&1!=m||0!==d&&1!=d||t.PolyTyp!=e.PolyTyp&&this.m_ClipType!=ne.ClipType.ctXor?this.AddLocalMaxPoly(t,e,o):(this.AddOutPt(t,o),this.AddOutPt(e,o),ne.Clipper.SwapSides(t,e),ne.Clipper.SwapPolyIndexes(t,e));else if(s)0!==d&&1!=d||(this.AddOutPt(t,o),ne.Clipper.SwapSides(t,e),ne.Clipper.SwapPolyIndexes(t,e));else if(a)0!==m&&1!=m||(this.AddOutPt(e,o),ne.Clipper.SwapSides(t,e),ne.Clipper.SwapPolyIndexes(t,e));else if(!(0!==m&&1!=m||0!==d&&1!=d||i||r)){var _,y;switch(c){case ne.PolyFillType.pftPositive:_=t.WindCnt2;break;case ne.PolyFillType.pftNegative:_=-t.WindCnt2;break;default:_=Math.abs(t.WindCnt2)}switch(h){case ne.PolyFillType.pftPositive:y=e.WindCnt2;break;case ne.PolyFillType.pftNegative:y=-e.WindCnt2;break;default:y=Math.abs(e.WindCnt2)}if(t.PolyTyp!=e.PolyTyp)this.AddLocalMinPoly(t,e,o);else if(1==m&&1==d)switch(this.m_ClipType){case ne.ClipType.ctIntersection:_>0&&y>0&&this.AddLocalMinPoly(t,e,o);break;case ne.ClipType.ctUnion:_<=0&&y<=0&&this.AddLocalMinPoly(t,e,o);break;case ne.ClipType.ctDifference:(t.PolyTyp==ne.PolyType.ptClip&&_>0&&y>0||t.PolyTyp==ne.PolyType.ptSubject&&_<=0&&y<=0)&&this.AddLocalMinPoly(t,e,o);break;case ne.ClipType.ctXor:this.AddLocalMinPoly(t,e,o)}else ne.Clipper.SwapSides(t,e)}i!=r&&(i&&t.OutIdx>=0||r&&e.OutIdx>=0)&&(ne.Clipper.SwapSides(t,e),ne.Clipper.SwapPolyIndexes(t,e)),i&&this.DeleteFromAEL(t),r&&this.DeleteFromAEL(e)},ne.Clipper.prototype.DeleteFromAEL=function(t){var e=t.PrevInAEL,o=t.NextInAEL;null===e&&null===o&&t!=this.m_ActiveEdges||(null!==e?e.NextInAEL=o:this.m_ActiveEdges=o,null!==o&&(o.PrevInAEL=e),t.NextInAEL=null,t.PrevInAEL=null)},ne.Clipper.prototype.DeleteFromSEL=function(t){var e=t.PrevInSEL,o=t.NextInSEL;null===e&&null===o&&t!=this.m_SortedEdges||(null!==e?e.NextInSEL=o:this.m_SortedEdges=o,null!==o&&(o.PrevInSEL=e),t.NextInSEL=null,t.PrevInSEL=null)},ne.Clipper.prototype.UpdateEdgeIntoAEL=function(t){null===t.NextInLML&&ne.Error("UpdateEdgeIntoAEL: invalid call");var e=t.PrevInAEL,o=t.NextInAEL;return t.NextInLML.OutIdx=t.OutIdx,null!==e?e.NextInAEL=t.NextInLML:this.m_ActiveEdges=t.NextInLML,null!==o&&(o.PrevInAEL=t.NextInLML),t.NextInLML.Side=t.Side,t.NextInLML.WindDelta=t.WindDelta,t.NextInLML.WindCnt=t.WindCnt,t.NextInLML.WindCnt2=t.WindCnt2,t=t.NextInLML,t.Curr.X=t.Bot.X,t.Curr.Y=t.Bot.Y,t.PrevInAEL=e,t.NextInAEL=o,ne.ClipperBase.IsHorizontal(t)||this.InsertScanbeam(t.Top.Y),t},ne.Clipper.prototype.ProcessHorizontals=function(t){for(var e=this.m_SortedEdges;null!==e;)this.DeleteFromSEL(e),this.ProcessHorizontal(e,t),e=this.m_SortedEdges},ne.Clipper.prototype.GetHorzDirection=function(t,e){t.Bot.X<t.Top.X?(e.Left=t.Bot.X,e.Right=t.Top.X,e.Dir=ne.Direction.dLeftToRight):(e.Left=t.Top.X,e.Right=t.Bot.X,e.Dir=ne.Direction.dRightToLeft)},ne.Clipper.prototype.PrepareHorzJoins=function(t,e){var o=this.m_PolyOuts[t.OutIdx].Pts;t.Side!=ne.EdgeSide.esLeft&&(o=o.Prev),e&&(ne.IntPoint.op_Equality(o.Pt,t.Top)?this.AddGhostJoin(o,t.Bot):this.AddGhostJoin(o,t.Top))},ne.Clipper.prototype.ProcessHorizontal=function(t,e){var o={Dir:null,Left:null,Right:null};this.GetHorzDirection(t,o);for(var n=o.Dir,i=o.Left,r=o.Right,s=t,a=null;null!==s.NextInLML&&ne.ClipperBase.IsHorizontal(s.NextInLML);)s=s.NextInLML;for(null===s.NextInLML&&(a=this.GetMaximaPair(s));;){for(var l=t==s,u=this.GetNextInAEL(t,n);null!==u&&!(u.Curr.X==t.Top.X&&null!==t.NextInLML&&u.Dx<t.NextInLML.Dx);){var p=this.GetNextInAEL(u,n);if(n==ne.Direction.dLeftToRight&&u.Curr.X<=r||n==ne.Direction.dRightToLeft&&u.Curr.X>=i){if(t.OutIdx>=0&&0!=t.WindDelta&&this.PrepareHorzJoins(t,e),u==a&&l)return n==ne.Direction.dLeftToRight?this.IntersectEdges(t,u,u.Top,!1):this.IntersectEdges(u,t,u.Top,!1),void(a.OutIdx>=0&&ne.Error("ProcessHorizontal error"));if(n==ne.Direction.dLeftToRight){var c=new ne.IntPoint(u.Curr.X,t.Curr.Y);this.IntersectEdges(t,u,c,!0)}else{var c=new ne.IntPoint(u.Curr.X,t.Curr.Y);this.IntersectEdges(u,t,c,!0)}this.SwapPositionsInAEL(t,u)}else if(n==ne.Direction.dLeftToRight&&u.Curr.X>=r||n==ne.Direction.dRightToLeft&&u.Curr.X<=i)break;u=p}if(t.OutIdx>=0&&0!==t.WindDelta&&this.PrepareHorzJoins(t,e),null===t.NextInLML||!ne.ClipperBase.IsHorizontal(t.NextInLML))break;t=this.UpdateEdgeIntoAEL(t),t.OutIdx>=0&&this.AddOutPt(t,t.Bot);var o={Dir:n,Left:i,Right:r};this.GetHorzDirection(t,o),n=o.Dir,i=o.Left,r=o.Right}if(null!==t.NextInLML)if(t.OutIdx>=0){var h=this.AddOutPt(t,t.Top);if(t=this.UpdateEdgeIntoAEL(t),0===t.WindDelta)return;var m=t.PrevInAEL,p=t.NextInAEL;if(null!==m&&m.Curr.X==t.Bot.X&&m.Curr.Y==t.Bot.Y&&0!==m.WindDelta&&m.OutIdx>=0&&m.Curr.Y>m.Top.Y&&ne.ClipperBase.SlopesEqual(t,m,this.m_UseFullRange)){var d=this.AddOutPt(m,t.Bot);this.AddJoin(h,d,t.Top)}else if(null!==p&&p.Curr.X==t.Bot.X&&p.Curr.Y==t.Bot.Y&&0!==p.WindDelta&&p.OutIdx>=0&&p.Curr.Y>p.Top.Y&&ne.ClipperBase.SlopesEqual(t,p,this.m_UseFullRange)){var d=this.AddOutPt(p,t.Bot);this.AddJoin(h,d,t.Top)}}else t=this.UpdateEdgeIntoAEL(t);else null!==a?a.OutIdx>=0?(n==ne.Direction.dLeftToRight?this.IntersectEdges(t,a,t.Top,!1):this.IntersectEdges(a,t,t.Top,!1),a.OutIdx>=0&&ne.Error("ProcessHorizontal error")):(this.DeleteFromAEL(t),this.DeleteFromAEL(a)):(t.OutIdx>=0&&this.AddOutPt(t,t.Top),this.DeleteFromAEL(t))},ne.Clipper.prototype.GetNextInAEL=function(t,e){return e==ne.Direction.dLeftToRight?t.NextInAEL:t.PrevInAEL},ne.Clipper.prototype.IsMinima=function(t){return null!==t&&t.Prev.NextInLML!=t&&t.Next.NextInLML!=t},ne.Clipper.prototype.IsMaxima=function(t,e){return null!==t&&t.Top.Y==e&&null===t.NextInLML},ne.Clipper.prototype.IsIntermediate=function(t,e){return t.Top.Y==e&&null!==t.NextInLML},ne.Clipper.prototype.GetMaximaPair=function(t){var e=null;return ne.IntPoint.op_Equality(t.Next.Top,t.Top)&&null===t.Next.NextInLML?e=t.Next:ne.IntPoint.op_Equality(t.Prev.Top,t.Top)&&null===t.Prev.NextInLML&&(e=t.Prev),null===e||e.OutIdx!=-2&&(e.NextInAEL!=e.PrevInAEL||ne.ClipperBase.IsHorizontal(e))?e:null},ne.Clipper.prototype.ProcessIntersections=function(t,e){if(null==this.m_ActiveEdges)return!0;try{if(this.BuildIntersectList(t,e),0==this.m_IntersectList.length)return!0;if(1!=this.m_IntersectList.length&&!this.FixupIntersectionOrder())return!1;this.ProcessIntersectList()}catch(o){this.m_SortedEdges=null,this.m_IntersectList.length=0,ne.Error("ProcessIntersections error")}return this.m_SortedEdges=null,!0},ne.Clipper.prototype.BuildIntersectList=function(t,e){if(null!==this.m_ActiveEdges){var o=this.m_ActiveEdges;for(this.m_SortedEdges=o;null!==o;)o.PrevInSEL=o.PrevInAEL,o.NextInSEL=o.NextInAEL,o.Curr.X=ne.Clipper.TopX(o,e),o=o.NextInAEL;for(var n=!0;n&&null!==this.m_SortedEdges;){for(n=!1,o=this.m_SortedEdges;null!==o.NextInSEL;){var i=o.NextInSEL,r=new ne.IntPoint;if(o.Curr.X>i.Curr.X){!this.IntersectPoint(o,i,r)&&o.Curr.X>i.Curr.X+1&&ne.Error("Intersection error"),r.Y>t&&(r.Y=t,Math.abs(o.Dx)>Math.abs(i.Dx)?r.X=ne.Clipper.TopX(i,t):r.X=ne.Clipper.TopX(o,t));var s=new ne.IntersectNode;s.Edge1=o,s.Edge2=i,s.Pt.X=r.X,s.Pt.Y=r.Y,this.m_IntersectList.push(s),this.SwapPositionsInSEL(o,i),n=!0}else o=i}if(null===o.PrevInSEL)break;o.PrevInSEL.NextInSEL=null}this.m_SortedEdges=null}},ne.Clipper.prototype.EdgesAdjacent=function(t){return t.Edge1.NextInSEL==t.Edge2||t.Edge1.PrevInSEL==t.Edge2},ne.Clipper.IntersectNodeSort=function(t,e){return e.Pt.Y-t.Pt.Y},ne.Clipper.prototype.FixupIntersectionOrder=function(){this.m_IntersectList.sort(this.m_IntersectNodeComparer),this.CopyAELToSEL();for(var t=this.m_IntersectList.length,e=0;e<t;e++){if(!this.EdgesAdjacent(this.m_IntersectList[e])){for(var o=e+1;o<t&&!this.EdgesAdjacent(this.m_IntersectList[o]);)o++;if(o==t)return!1;var n=this.m_IntersectList[e];this.m_IntersectList[e]=this.m_IntersectList[o],this.m_IntersectList[o]=n}this.SwapPositionsInSEL(this.m_IntersectList[e].Edge1,this.m_IntersectList[e].Edge2)}return!0},ne.Clipper.prototype.ProcessIntersectList=function(){for(var t=0,e=this.m_IntersectList.length;t<e;t++){var o=this.m_IntersectList[t];this.IntersectEdges(o.Edge1,o.Edge2,o.Pt,!0),this.SwapPositionsInAEL(o.Edge1,o.Edge2)}this.m_IntersectList.length=0};var ge=function(t){return t<0?Math.ceil(t-.5):Math.round(t)},be=function(t){return t<0?Math.ceil(t-.5):Math.floor(t+.5)},Ce=function(t){return t<0?-Math.round(Math.abs(t)):Math.round(t)},Ee=function(t){return t<0?(t-=.5,t<-2147483648?Math.ceil(t):0|t):(t+=.5,t>2147483647?Math.floor(t):0|t)};ae.msie?ne.Clipper.Round=ge:ae.chromium?ne.Clipper.Round=Ce:ae.safari?ne.Clipper.Round=Ee:ne.Clipper.Round=be,ne.Clipper.TopX=function(t,e){return e==t.Top.Y?t.Top.X:t.Bot.X+ne.Clipper.Round(t.Dx*(e-t.Bot.Y))},ne.Clipper.prototype.IntersectPoint=function(t,e,o){o.X=0,o.Y=0;var n,i;if(ne.ClipperBase.SlopesEqual(t,e,this.m_UseFullRange)||t.Dx==e.Dx)return e.Bot.Y>t.Bot.Y?(o.X=e.Bot.X,o.Y=e.Bot.Y):(o.X=t.Bot.X,o.Y=t.Bot.Y),!1;if(0===t.Delta.X)o.X=t.Bot.X,ne.ClipperBase.IsHorizontal(e)?o.Y=e.Bot.Y:(i=e.Bot.Y-e.Bot.X/e.Dx,o.Y=ne.Clipper.Round(o.X/e.Dx+i));else if(0===e.Delta.X)o.X=e.Bot.X,ne.ClipperBase.IsHorizontal(t)?o.Y=t.Bot.Y:(n=t.Bot.Y-t.Bot.X/t.Dx,o.Y=ne.Clipper.Round(o.X/t.Dx+n));else{n=t.Bot.X-t.Bot.Y*t.Dx,i=e.Bot.X-e.Bot.Y*e.Dx;var r=(i-n)/(t.Dx-e.Dx);o.Y=ne.Clipper.Round(r),Math.abs(t.Dx)<Math.abs(e.Dx)?o.X=ne.Clipper.Round(t.Dx*r+n):o.X=ne.Clipper.Round(e.Dx*r+i)}if(o.Y<t.Top.Y||o.Y<e.Top.Y){if(t.Top.Y>e.Top.Y)return o.Y=t.Top.Y,o.X=ne.Clipper.TopX(e,t.Top.Y),o.X<t.Top.X;o.Y=e.Top.Y,Math.abs(t.Dx)<Math.abs(e.Dx)?o.X=ne.Clipper.TopX(t,o.Y):o.X=ne.Clipper.TopX(e,o.Y)}return!0},ne.Clipper.prototype.ProcessEdgesAtTopOfScanbeam=function(t){for(var e=this.m_ActiveEdges;null!==e;){var o=this.IsMaxima(e,t);if(o){var n=this.GetMaximaPair(e);o=null===n||!ne.ClipperBase.IsHorizontal(n)}if(o){var i=e.PrevInAEL;this.DoMaxima(e),e=null===i?this.m_ActiveEdges:i.NextInAEL}else{if(this.IsIntermediate(e,t)&&ne.ClipperBase.IsHorizontal(e.NextInLML)?(e=this.UpdateEdgeIntoAEL(e),e.OutIdx>=0&&this.AddOutPt(e,e.Bot),this.AddEdgeToSEL(e)):(e.Curr.X=ne.Clipper.TopX(e,t),e.Curr.Y=t),this.StrictlySimple){var i=e.PrevInAEL;if(e.OutIdx>=0&&0!==e.WindDelta&&null!==i&&i.OutIdx>=0&&i.Curr.X==e.Curr.X&&0!==i.WindDelta){var r=this.AddOutPt(i,e.Curr),s=this.AddOutPt(e,e.Curr);this.AddJoin(r,s,e.Curr)}}e=e.NextInAEL}}for(this.ProcessHorizontals(!0),e=this.m_ActiveEdges;null!==e;){if(this.IsIntermediate(e,t)){var r=null;e.OutIdx>=0&&(r=this.AddOutPt(e,e.Top)),e=this.UpdateEdgeIntoAEL(e);var i=e.PrevInAEL,a=e.NextInAEL;if(null!==i&&i.Curr.X==e.Bot.X&&i.Curr.Y==e.Bot.Y&&null!==r&&i.OutIdx>=0&&i.Curr.Y>i.Top.Y&&ne.ClipperBase.SlopesEqual(e,i,this.m_UseFullRange)&&0!==e.WindDelta&&0!==i.WindDelta){var s=this.AddOutPt(i,e.Bot);this.AddJoin(r,s,e.Top)}else if(null!==a&&a.Curr.X==e.Bot.X&&a.Curr.Y==e.Bot.Y&&null!==r&&a.OutIdx>=0&&a.Curr.Y>a.Top.Y&&ne.ClipperBase.SlopesEqual(e,a,this.m_UseFullRange)&&0!==e.WindDelta&&0!==a.WindDelta){var s=this.AddOutPt(a,e.Bot);this.AddJoin(r,s,e.Top)}}e=e.NextInAEL}},ne.Clipper.prototype.DoMaxima=function(t){var e=this.GetMaximaPair(t);if(null===e)return t.OutIdx>=0&&this.AddOutPt(t,t.Top),void this.DeleteFromAEL(t);for(var o=t.NextInAEL,n=!0;null!==o&&o!=e;)this.IntersectEdges(t,o,t.Top,!0),this.SwapPositionsInAEL(t,o),o=t.NextInAEL;t.OutIdx==-1&&e.OutIdx==-1?(this.DeleteFromAEL(t),this.DeleteFromAEL(e)):t.OutIdx>=0&&e.OutIdx>=0?this.IntersectEdges(t,e,t.Top,!1):n&&0===t.WindDelta?(t.OutIdx>=0&&(this.AddOutPt(t,t.Top),t.OutIdx=-1),this.DeleteFromAEL(t),e.OutIdx>=0&&(this.AddOutPt(e,t.Top),e.OutIdx=-1),this.DeleteFromAEL(e)):ne.Error("DoMaxima error")},ne.Clipper.ReversePaths=function(t){for(var e=0,o=t.length;e<o;e++)t[e].reverse()},ne.Clipper.Orientation=function(t){return ne.Clipper.Area(t)>=0},ne.Clipper.prototype.PointCount=function(t){if(null===t)return 0;var e=0,o=t;do e++,o=o.Next;while(o!=t);return e},ne.Clipper.prototype.BuildResult=function(t){ne.Clear(t);for(var e=0,o=this.m_PolyOuts.length;e<o;e++){var n=this.m_PolyOuts[e];if(null!==n.Pts){var i=n.Pts.Prev,r=this.PointCount(i);if(!(r<2)){for(var s=new Array(r),a=0;a<r;a++)s[a]=i.Pt,i=i.Prev;t.push(s)}}}},ne.Clipper.prototype.BuildResult2=function(t){t.Clear();for(var e=0,o=this.m_PolyOuts.length;e<o;e++){var n=this.m_PolyOuts[e],i=this.PointCount(n.Pts);if(!(n.IsOpen&&i<2||!n.IsOpen&&i<3)){this.FixHoleLinkage(n);var r=new ne.PolyNode;t.m_AllPolys.push(r),n.PolyNode=r,r.m_polygon.length=i;for(var s=n.Pts.Prev,a=0;a<i;a++)r.m_polygon[a]=s.Pt,s=s.Prev}}for(var e=0,o=this.m_PolyOuts.length;e<o;e++){var n=this.m_PolyOuts[e];null!==n.PolyNode&&(n.IsOpen?(n.PolyNode.IsOpen=!0,t.AddChild(n.PolyNode)):null!==n.FirstLeft&&null!=n.FirstLeft.PolyNode?n.FirstLeft.PolyNode.AddChild(n.PolyNode):t.AddChild(n.PolyNode))}},ne.Clipper.prototype.FixupOutPolygon=function(t){var e=null;t.BottomPt=null;for(var o=t.Pts;;){if(o.Prev==o||o.Prev==o.Next)return this.DisposeOutPts(o),void(t.Pts=null);if(ne.IntPoint.op_Equality(o.Pt,o.Next.Pt)||ne.IntPoint.op_Equality(o.Pt,o.Prev.Pt)||ne.ClipperBase.SlopesEqual(o.Prev.Pt,o.Pt,o.Next.Pt,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(o.Prev.Pt,o.Pt,o.Next.Pt))){e=null;var n=o;o.Prev.Next=o.Next,o.Next.Prev=o.Prev,o=o.Prev,n=null}else{if(o==e)break;null===e&&(e=o),o=o.Next}}t.Pts=o},ne.Clipper.prototype.DupOutPt=function(t,e){var o=new ne.OutPt;return o.Pt.X=t.Pt.X,o.Pt.Y=t.Pt.Y,o.Idx=t.Idx,e?(o.Next=t.Next,o.Prev=t,t.Next.Prev=o,t.Next=o):(o.Prev=t.Prev,o.Next=t,t.Prev.Next=o,t.Prev=o),o},ne.Clipper.prototype.GetOverlap=function(t,e,o,n,i){return t<e?o<n?(i.Left=Math.max(t,o),i.Right=Math.min(e,n)):(i.Left=Math.max(t,n),i.Right=Math.min(e,o)):o<n?(i.Left=Math.max(e,o),i.Right=Math.min(t,n)):(i.Left=Math.max(e,n),i.Right=Math.min(t,o)),i.Left<i.Right},ne.Clipper.prototype.JoinHorz=function(t,e,o,n,i,r){var s=t.Pt.X>e.Pt.X?ne.Direction.dRightToLeft:ne.Direction.dLeftToRight,a=o.Pt.X>n.Pt.X?ne.Direction.dRightToLeft:ne.Direction.dLeftToRight;if(s==a)return!1;if(s==ne.Direction.dLeftToRight){for(;t.Next.Pt.X<=i.X&&t.Next.Pt.X>=t.Pt.X&&t.Next.Pt.Y==i.Y;)t=t.Next;r&&t.Pt.X!=i.X&&(t=t.Next),e=this.DupOutPt(t,!r),ne.IntPoint.op_Inequality(e.Pt,i)&&(t=e,t.Pt.X=i.X,t.Pt.Y=i.Y,e=this.DupOutPt(t,!r))}else{for(;t.Next.Pt.X>=i.X&&t.Next.Pt.X<=t.Pt.X&&t.Next.Pt.Y==i.Y;)t=t.Next;r||t.Pt.X==i.X||(t=t.Next),e=this.DupOutPt(t,r),ne.IntPoint.op_Inequality(e.Pt,i)&&(t=e,t.Pt.X=i.X,t.Pt.Y=i.Y,e=this.DupOutPt(t,r))}if(a==ne.Direction.dLeftToRight){for(;o.Next.Pt.X<=i.X&&o.Next.Pt.X>=o.Pt.X&&o.Next.Pt.Y==i.Y;)o=o.Next;r&&o.Pt.X!=i.X&&(o=o.Next),n=this.DupOutPt(o,!r),ne.IntPoint.op_Inequality(n.Pt,i)&&(o=n,o.Pt.X=i.X,o.Pt.Y=i.Y,n=this.DupOutPt(o,!r))}else{for(;o.Next.Pt.X>=i.X&&o.Next.Pt.X<=o.Pt.X&&o.Next.Pt.Y==i.Y;)o=o.Next;r||o.Pt.X==i.X||(o=o.Next),n=this.DupOutPt(o,r),ne.IntPoint.op_Inequality(n.Pt,i)&&(o=n,o.Pt.X=i.X,o.Pt.Y=i.Y,n=this.DupOutPt(o,r))}return s==ne.Direction.dLeftToRight==r?(t.Prev=o,o.Next=t,e.Next=n,n.Prev=e):(t.Next=o,o.Prev=t,e.Prev=n,n.Next=e),!0},ne.Clipper.prototype.JoinPoints=function(t,e,o){var n=t.OutPt1,i=new ne.OutPt,r=t.OutPt2,s=new ne.OutPt,a=t.OutPt1.Pt.Y==t.OffPt.Y;if(a&&ne.IntPoint.op_Equality(t.OffPt,t.OutPt1.Pt)&&ne.IntPoint.op_Equality(t.OffPt,t.OutPt2.Pt)){for(i=t.OutPt1.Next;i!=n&&ne.IntPoint.op_Equality(i.Pt,t.OffPt);)i=i.Next;var l=i.Pt.Y>t.OffPt.Y;for(s=t.OutPt2.Next;s!=r&&ne.IntPoint.op_Equality(s.Pt,t.OffPt);)s=s.Next;var u=s.Pt.Y>t.OffPt.Y;return l!=u&&(l?(i=this.DupOutPt(n,!1),s=this.DupOutPt(r,!0),n.Prev=r,r.Next=n,i.Next=s,s.Prev=i,t.OutPt1=n,t.OutPt2=i,!0):(i=this.DupOutPt(n,!0),s=this.DupOutPt(r,!1),n.Next=r,r.Prev=n,i.Prev=s,s.Next=i,t.OutPt1=n,t.OutPt2=i,!0))}if(a){for(i=n;n.Prev.Pt.Y==n.Pt.Y&&n.Prev!=i&&n.Prev!=r;)n=n.Prev;for(;i.Next.Pt.Y==i.Pt.Y&&i.Next!=n&&i.Next!=r;)i=i.Next;if(i.Next==n||i.Next==r)return!1;for(s=r;r.Prev.Pt.Y==r.Pt.Y&&r.Prev!=s&&r.Prev!=i;)r=r.Prev;for(;s.Next.Pt.Y==s.Pt.Y&&s.Next!=r&&s.Next!=n;)s=s.Next;if(s.Next==r||s.Next==n)return!1;var p={Left:null,Right:null};if(!this.GetOverlap(n.Pt.X,i.Pt.X,r.Pt.X,s.Pt.X,p))return!1;var c,h=p.Left,m=p.Right,d=new ne.IntPoint;return n.Pt.X>=h&&n.Pt.X<=m?(d.X=n.Pt.X,d.Y=n.Pt.Y,c=n.Pt.X>i.Pt.X):r.Pt.X>=h&&r.Pt.X<=m?(d.X=r.Pt.X,d.Y=r.Pt.Y,c=r.Pt.X>s.Pt.X):i.Pt.X>=h&&i.Pt.X<=m?(d.X=i.Pt.X,d.Y=i.Pt.Y,c=i.Pt.X>n.Pt.X):(d.X=s.Pt.X,d.Y=s.Pt.Y,c=s.Pt.X>r.Pt.X),t.OutPt1=n,t.OutPt2=r,this.JoinHorz(n,i,r,s,d,c)}for(i=n.Next;ne.IntPoint.op_Equality(i.Pt,n.Pt)&&i!=n;)i=i.Next;var _=i.Pt.Y>n.Pt.Y||!ne.ClipperBase.SlopesEqual(n.Pt,i.Pt,t.OffPt,this.m_UseFullRange);if(_){for(i=n.Prev;ne.IntPoint.op_Equality(i.Pt,n.Pt)&&i!=n;)i=i.Prev;if(i.Pt.Y>n.Pt.Y||!ne.ClipperBase.SlopesEqual(n.Pt,i.Pt,t.OffPt,this.m_UseFullRange))return!1}for(s=r.Next;ne.IntPoint.op_Equality(s.Pt,r.Pt)&&s!=r;)s=s.Next;var y=s.Pt.Y>r.Pt.Y||!ne.ClipperBase.SlopesEqual(r.Pt,s.Pt,t.OffPt,this.m_UseFullRange);if(y){for(s=r.Prev;ne.IntPoint.op_Equality(s.Pt,r.Pt)&&s!=r;)s=s.Prev;if(s.Pt.Y>r.Pt.Y||!ne.ClipperBase.SlopesEqual(r.Pt,s.Pt,t.OffPt,this.m_UseFullRange))return!1}return i!=n&&s!=r&&i!=s&&(e!=o||_!=y)&&(_?(i=this.DupOutPt(n,!1),s=this.DupOutPt(r,!0),n.Prev=r,r.Next=n,i.Next=s,s.Prev=i,t.OutPt1=n,t.OutPt2=i,!0):(i=this.DupOutPt(n,!0),s=this.DupOutPt(r,!1),n.Next=r,r.Prev=n,i.Prev=s,s.Next=i,t.OutPt1=n,t.OutPt2=i,!0))},ne.Clipper.GetBounds=function(t){for(var e=0,o=t.length;e<o&&0==t[e].length;)e++;if(e==o)return new ne.IntRect(0,0,0,0);var n=new ne.IntRect;for(n.left=t[e][0].X,n.right=n.left,n.top=t[e][0].Y,n.bottom=n.top;e<o;e++)for(var i=0,r=t[e].length;i<r;i++)t[e][i].X<n.left?n.left=t[e][i].X:t[e][i].X>n.right&&(n.right=t[e][i].X),t[e][i].Y<n.top?n.top=t[e][i].Y:t[e][i].Y>n.bottom&&(n.bottom=t[e][i].Y);return n},ne.Clipper.prototype.GetBounds2=function(t){var e=t,o=new ne.IntRect;for(o.left=t.Pt.X,o.right=t.Pt.X,o.top=t.Pt.Y,o.bottom=t.Pt.Y,t=t.Next;t!=e;)t.Pt.X<o.left&&(o.left=t.Pt.X),t.Pt.X>o.right&&(o.right=t.Pt.X),t.Pt.Y<o.top&&(o.top=t.Pt.Y),t.Pt.Y>o.bottom&&(o.bottom=t.Pt.Y),t=t.Next;return o},ne.Clipper.PointInPolygon=function(t,e){var o=0,n=e.length;if(n<3)return 0;for(var i=e[0],r=1;r<=n;++r){var s=r==n?e[0]:e[r];if(s.Y==t.Y&&(s.X==t.X||i.Y==t.Y&&s.X>t.X==i.X<t.X))return-1;if(i.Y<t.Y!=s.Y<t.Y)if(i.X>=t.X)if(s.X>t.X)o=1-o;else{var a=(i.X-t.X)*(s.Y-t.Y)-(s.X-t.X)*(i.Y-t.Y);if(0==a)return-1;a>0==s.Y>i.Y&&(o=1-o)}else if(s.X>t.X){var a=(i.X-t.X)*(s.Y-t.Y)-(s.X-t.X)*(i.Y-t.Y);if(0==a)return-1;a>0==s.Y>i.Y&&(o=1-o)}i=s}return o},ne.Clipper.prototype.PointInPolygon=function(t,e){for(var o=0,n=e;;){var i=e.Pt.X,r=e.Pt.Y,s=e.Next.Pt.X,a=e.Next.Pt.Y;if(a==t.Y&&(s==t.X||r==t.Y&&s>t.X==i<t.X))return-1;if(r<t.Y!=a<t.Y)if(i>=t.X)if(s>t.X)o=1-o;else{var l=(i-t.X)*(a-t.Y)-(s-t.X)*(r-t.Y);if(0==l)return-1;l>0==a>r&&(o=1-o)}else if(s>t.X){var l=(i-t.X)*(a-t.Y)-(s-t.X)*(r-t.Y);if(0==l)return-1;l>0==a>r&&(o=1-o)}if(e=e.Next,n==e)break}return o},ne.Clipper.prototype.Poly2ContainsPoly1=function(t,e){var o=t;do{var n=this.PointInPolygon(o.Pt,e);if(n>=0)return 0!=n;o=o.Next}while(o!=t);return!0},ne.Clipper.prototype.FixupFirstLefts1=function(t,e){for(var o=0,n=this.m_PolyOuts.length;o<n;o++){var i=this.m_PolyOuts[o];null!==i.Pts&&i.FirstLeft==t&&this.Poly2ContainsPoly1(i.Pts,e.Pts)&&(i.FirstLeft=e)}},ne.Clipper.prototype.FixupFirstLefts2=function(t,e){for(var o=0,n=this.m_PolyOuts,i=n.length,r=n[o];o<i;o++,r=n[o])r.FirstLeft==t&&(r.FirstLeft=e)},ne.Clipper.ParseFirstLeft=function(t){for(;null!=t&&null==t.Pts;)t=t.FirstLeft;return t},ne.Clipper.prototype.JoinCommonEdges=function(){for(var t=0,e=this.m_Joins.length;t<e;t++){var o=this.m_Joins[t],n=this.GetOutRec(o.OutPt1.Idx),i=this.GetOutRec(o.OutPt2.Idx);if(null!=n.Pts&&null!=i.Pts){var r;if(r=n==i?n:this.Param1RightOfParam2(n,i)?i:this.Param1RightOfParam2(i,n)?n:this.GetLowermostRec(n,i),this.JoinPoints(o,n,i))if(n==i){if(n.Pts=o.OutPt1,n.BottomPt=null,i=this.CreateOutRec(),i.Pts=o.OutPt2,this.UpdateOutPtIdxs(i),this.m_UsingPolyTree)for(var s=0,a=this.m_PolyOuts.length;s<a-1;s++){var l=this.m_PolyOuts[s];null!=l.Pts&&ne.Clipper.ParseFirstLeft(l.FirstLeft)==n&&l.IsHole!=n.IsHole&&this.Poly2ContainsPoly1(l.Pts,o.OutPt2)&&(l.FirstLeft=i)}this.Poly2ContainsPoly1(i.Pts,n.Pts)?(i.IsHole=!n.IsHole,i.FirstLeft=n,this.m_UsingPolyTree&&this.FixupFirstLefts2(i,n),(i.IsHole^this.ReverseSolution)==this.Area(i)>0&&this.ReversePolyPtLinks(i.Pts)):this.Poly2ContainsPoly1(n.Pts,i.Pts)?(i.IsHole=n.IsHole,n.IsHole=!i.IsHole,i.FirstLeft=n.FirstLeft,n.FirstLeft=i,this.m_UsingPolyTree&&this.FixupFirstLefts2(n,i),(n.IsHole^this.ReverseSolution)==this.Area(n)>0&&this.ReversePolyPtLinks(n.Pts)):(i.IsHole=n.IsHole,i.FirstLeft=n.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(n,i))}else i.Pts=null,i.BottomPt=null,i.Idx=n.Idx,n.IsHole=r.IsHole,r==i&&(n.FirstLeft=i.FirstLeft),i.FirstLeft=n,this.m_UsingPolyTree&&this.FixupFirstLefts2(i,n)}}},ne.Clipper.prototype.UpdateOutPtIdxs=function(t){var e=t.Pts;do e.Idx=t.Idx,e=e.Prev;while(e!=t.Pts)},ne.Clipper.prototype.DoSimplePolygons=function(){for(var t=0;t<this.m_PolyOuts.length;){var e=this.m_PolyOuts[t++],o=e.Pts;if(null!==o)do{for(var n=o.Next;n!=e.Pts;){if(ne.IntPoint.op_Equality(o.Pt,n.Pt)&&n.Next!=o&&n.Prev!=o){var i=o.Prev,r=n.Prev;o.Prev=r,r.Next=o,n.Prev=i,i.Next=n,e.Pts=o;var s=this.CreateOutRec();s.Pts=n,this.UpdateOutPtIdxs(s),this.Poly2ContainsPoly1(s.Pts,e.Pts)?(s.IsHole=!e.IsHole,s.FirstLeft=e):this.Poly2ContainsPoly1(e.Pts,s.Pts)?(s.IsHole=e.IsHole,e.IsHole=!s.IsHole,s.FirstLeft=e.FirstLeft,e.FirstLeft=s):(s.IsHole=e.IsHole,s.FirstLeft=e.FirstLeft),n=o}n=n.Next}o=o.Next}while(o!=e.Pts)}},ne.Clipper.Area=function(t){var e=t.length;if(e<3)return 0;for(var o=0,n=0,i=e-1;n<e;++n)o+=(t[i].X+t[n].X)*(t[i].Y-t[n].Y),i=n;return.5*-o},ne.Clipper.prototype.Area=function(t){var e=t.Pts;if(null==e)return 0;var o=0;do o+=(e.Prev.Pt.X+e.Pt.X)*(e.Prev.Pt.Y-e.Pt.Y),e=e.Next;while(e!=t.Pts);return.5*o},oe&&(ne.Clipper.OffsetPaths=function(t,e,o,n,i){var r=new ne.Paths,s=new ne.ClipperOffset(i,i);return s.AddPaths(t,o,n),s.Execute(r,e),r}),ne.Clipper.SimplifyPolygon=function(t,e){var o=new Array,n=new ne.Clipper(0);return n.StrictlySimple=!0,n.AddPath(t,ne.PolyType.ptSubject,!0),n.Execute(ne.ClipType.ctUnion,o,e,e),o},ne.Clipper.SimplifyPolygons=function(t,e){"undefined"==typeof e&&(e=ne.PolyFillType.pftEvenOdd);var o=new Array,n=new ne.Clipper(0);return n.StrictlySimple=!0,n.AddPaths(t,ne.PolyType.ptSubject,!0),n.Execute(ne.ClipType.ctUnion,o,e,e),o},ne.Clipper.DistanceSqrd=function(t,e){var o=t.X-e.X,n=t.Y-e.Y;return o*o+n*n},ne.Clipper.DistanceFromLineSqrd=function(t,e,o){var n=e.Y-o.Y,i=o.X-e.X,r=n*e.X+i*e.Y;return r=n*t.X+i*t.Y-r,r*r/(n*n+i*i)},ne.Clipper.SlopesNearCollinear=function(t,e,o,n){return ne.Clipper.DistanceFromLineSqrd(e,t,o)<n},ne.Clipper.PointsAreClose=function(t,e,o){var n=t.X-e.X,i=t.Y-e.Y;return n*n+i*i<=o},ne.Clipper.ExcludeOp=function(t){var e=t.Prev;return e.Next=t.Next,t.Next.Prev=e,e.Idx=0,e},ne.Clipper.CleanPolygon=function(t,e){"undefined"==typeof e&&(e=1.415);var o=t.length;if(0==o)return new Array;for(var n=new Array(o),i=0;i<o;++i)n[i]=new ne.OutPt;for(var i=0;i<o;++i)n[i].Pt=t[i],n[i].Next=n[(i+1)%o],n[i].Next.Prev=n[i],n[i].Idx=0;for(var r=e*e,s=n[0];0==s.Idx&&s.Next!=s.Prev;)ne.Clipper.PointsAreClose(s.Pt,s.Prev.Pt,r)?(s=ne.Clipper.ExcludeOp(s),o--):ne.Clipper.PointsAreClose(s.Prev.Pt,s.Next.Pt,r)?(ne.Clipper.ExcludeOp(s.Next),s=ne.Clipper.ExcludeOp(s),o-=2):ne.Clipper.SlopesNearCollinear(s.Prev.Pt,s.Pt,s.Next.Pt,r)?(s=ne.Clipper.ExcludeOp(s),o--):(s.Idx=1,s=s.Next);o<3&&(o=0);for(var a=new Array(o),i=0;i<o;++i)a[i]=new ne.IntPoint(s.Pt),s=s.Next;return n=null,a},ne.Clipper.CleanPolygons=function(t,e){for(var o=new Array(t.length),n=0,i=t.length;n<i;n++)o[n]=ne.Clipper.CleanPolygon(t[n],e);return o},ne.Clipper.Minkowski=function(t,e,o,n){var i=n?1:0,r=t.length,s=e.length,a=new Array;if(o)for(var l=0;l<s;l++){for(var u=new Array(r),p=0,c=t.length,h=t[p];p<c;p++,h=t[p])u[p]=new ne.IntPoint(e[l].X+h.X,e[l].Y+h.Y);a.push(u)}else for(var l=0;l<s;l++){for(var u=new Array(r),p=0,c=t.length,h=t[p];p<c;p++,h=t[p])u[p]=new ne.IntPoint(e[l].X-h.X,e[l].Y-h.Y);a.push(u)}for(var m=new Array,l=0;l<s-1+i;l++)for(var p=0;p<r;p++){var d=new Array;d.push(a[l%s][p%r]),d.push(a[(l+1)%s][p%r]),d.push(a[(l+1)%s][(p+1)%r]),d.push(a[l%s][(p+1)%r]),ne.Clipper.Orientation(d)||d.reverse(),m.push(d)}var _=new ne.Clipper(0);return _.AddPaths(m,ne.PolyType.ptSubject,!0),_.Execute(ne.ClipType.ctUnion,a,ne.PolyFillType.pftNonZero,ne.PolyFillType.pftNonZero),a},ne.Clipper.MinkowskiSum=function(){var t=arguments,e=t.length;if(3==e){var o=t[0],n=t[1],i=t[2];return ne.Clipper.Minkowski(o,n,!0,i)}if(4==e){for(var r,o=t[0],s=t[1],a=t[2],i=t[3],l=new ne.Clipper,u=0,p=s.length;u<p;++u){var r=ne.Clipper.Minkowski(o,s[u],!0,i);l.AddPaths(r,ne.PolyType.ptSubject,!0)}i&&l.AddPaths(s,ne.PolyType.ptClip,!0);var c=new ne.Paths;return l.Execute(ne.ClipType.ctUnion,c,a,a),c}},ne.Clipper.MinkowskiDiff=function(t,e,o){return ne.Clipper.Minkowski(t,e,!1,o)},ne.Clipper.PolyTreeToPaths=function(t){var e=new Array;return ne.Clipper.AddPolyNodeToPaths(t,ne.Clipper.NodeType.ntAny,e),e},ne.Clipper.AddPolyNodeToPaths=function(t,e,o){var n=!0;switch(e){case ne.Clipper.NodeType.ntOpen:return;case ne.Clipper.NodeType.ntClosed:n=!t.IsOpen}t.m_polygon.length>0&&n&&o.push(t.m_polygon);for(var i=0,r=t.Childs(),s=r.length,a=r[i];i<s;i++,a=r[i])ne.Clipper.AddPolyNodeToPaths(a,e,o)},ne.Clipper.OpenPathsFromPolyTree=function(t){for(var e=new ne.Paths,o=0,n=t.ChildCount();o<n;o++)t.Childs()[o].IsOpen&&e.push(t.Childs()[o].m_polygon);return e},ne.Clipper.ClosedPathsFromPolyTree=function(t){var e=new ne.Paths;return ne.Clipper.AddPolyNodeToPaths(t,ne.Clipper.NodeType.ntClosed,e),e},xe(ne.Clipper,ne.ClipperBase),ne.Clipper.NodeType={ntAny:0,ntOpen:1,ntClosed:2},ne.ClipperOffset=function(t,e){"undefined"==typeof t&&(t=2),"undefined"==typeof e&&(e=ne.ClipperOffset.def_arc_tolerance),this.m_destPolys=new ne.Paths,this.m_srcPoly=new ne.Path,this.m_destPoly=new ne.Path,this.m_normals=new Array,this.m_delta=0,this.m_sinA=0,this.m_sin=0,this.m_cos=0,this.m_miterLim=0,this.m_StepsPerRad=0,this.m_lowest=new ne.IntPoint,this.m_polyNodes=new ne.PolyNode,this.MiterLimit=t,this.ArcTolerance=e,this.m_lowest.X=-1},ne.ClipperOffset.two_pi=6.28318530717959,ne.ClipperOffset.def_arc_tolerance=.25,ne.ClipperOffset.prototype.Clear=function(){ne.Clear(this.m_polyNodes.Childs()),this.m_lowest.X=-1},ne.ClipperOffset.Round=ne.Clipper.Round,ne.ClipperOffset.prototype.AddPath=function(t,e,o){var n=t.length-1;if(!(n<0)){var i=new ne.PolyNode;if(i.m_jointype=e,i.m_endtype=o,o==ne.EndType.etClosedLine||o==ne.EndType.etClosedPolygon)for(;n>0&&ne.IntPoint.op_Equality(t[0],t[n]);)n--;i.m_polygon.push(t[0]);for(var r=0,s=0,a=1;a<=n;a++)ne.IntPoint.op_Inequality(i.m_polygon[r],t[a])&&(r++,i.m_polygon.push(t[a]),(t[a].Y>i.m_polygon[s].Y||t[a].Y==i.m_polygon[s].Y&&t[a].X<i.m_polygon[s].X)&&(s=r));if(!(o==ne.EndType.etClosedPolygon&&r<2||o!=ne.EndType.etClosedPolygon&&r<0)&&(this.m_polyNodes.AddChild(i),o==ne.EndType.etClosedPolygon))if(this.m_lowest.X<0)this.m_lowest=new ne.IntPoint(0,s);else{var l=this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon[this.m_lowest.Y];(i.m_polygon[s].Y>l.Y||i.m_polygon[s].Y==l.Y&&i.m_polygon[s].X<l.X)&&(this.m_lowest=new ne.IntPoint(this.m_polyNodes.ChildCount()-1,s))}}},ne.ClipperOffset.prototype.AddPaths=function(t,e,o){for(var n=0,i=t.length;n<i;n++)this.AddPath(t[n],e,o)},ne.ClipperOffset.prototype.FixOrientations=function(){if(this.m_lowest.X>=0&&!ne.Clipper.Orientation(this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon))for(var t=0;t<this.m_polyNodes.ChildCount();t++){var e=this.m_polyNodes.Childs()[t];(e.m_endtype==ne.EndType.etClosedPolygon||e.m_endtype==ne.EndType.etClosedLine&&ne.Clipper.Orientation(e.m_polygon))&&e.m_polygon.reverse()}else for(var t=0;t<this.m_polyNodes.ChildCount();t++){var e=this.m_polyNodes.Childs()[t];e.m_endtype!=ne.EndType.etClosedLine||ne.Clipper.Orientation(e.m_polygon)||e.m_polygon.reverse()}},ne.ClipperOffset.GetUnitNormal=function(t,e){var o=e.X-t.X,n=e.Y-t.Y;if(0==o&&0==n)return new ne.DoublePoint(0,0);var i=1/Math.sqrt(o*o+n*n);return o*=i,n*=i,new ne.DoublePoint(n,(-o))},ne.ClipperOffset.prototype.DoOffset=function(t){if(this.m_destPolys=new Array,this.m_delta=t,ne.ClipperBase.near_zero(t))for(var e=0;e<this.m_polyNodes.ChildCount();e++){var o=this.m_polyNodes.Childs()[e];o.m_endtype==ne.EndType.etClosedPolygon&&this.m_destPolys.push(o.m_polygon)}else{this.MiterLimit>2?this.m_miterLim=2/(this.MiterLimit*this.MiterLimit):this.m_miterLim=.5;var n;n=this.ArcTolerance<=0?ne.ClipperOffset.def_arc_tolerance:this.ArcTolerance>Math.abs(t)*ne.ClipperOffset.def_arc_tolerance?Math.abs(t)*ne.ClipperOffset.def_arc_tolerance:this.ArcTolerance;var i=3.14159265358979/Math.acos(1-n/Math.abs(t));this.m_sin=Math.sin(ne.ClipperOffset.two_pi/i),this.m_cos=Math.cos(ne.ClipperOffset.two_pi/i),this.m_StepsPerRad=i/ne.ClipperOffset.two_pi,t<0&&(this.m_sin=-this.m_sin);for(var e=0;e<this.m_polyNodes.ChildCount();e++){var o=this.m_polyNodes.Childs()[e];this.m_srcPoly=o.m_polygon;var r=this.m_srcPoly.length;if(!(0==r||t<=0&&(r<3||o.m_endtype!=ne.EndType.etClosedPolygon)))if(this.m_destPoly=new Array,1!=r){this.m_normals.length=0;for(var s=0;s<r-1;s++)this.m_normals.push(ne.ClipperOffset.GetUnitNormal(this.m_srcPoly[s],this.m_srcPoly[s+1]));if(o.m_endtype==ne.EndType.etClosedLine||o.m_endtype==ne.EndType.etClosedPolygon?this.m_normals.push(ne.ClipperOffset.GetUnitNormal(this.m_srcPoly[r-1],this.m_srcPoly[0])):this.m_normals.push(new ne.DoublePoint(this.m_normals[r-2])),o.m_endtype==ne.EndType.etClosedPolygon){for(var a=r-1,s=0;s<r;s++)a=this.OffsetPoint(s,a,o.m_jointype);this.m_destPolys.push(this.m_destPoly)}else if(o.m_endtype==ne.EndType.etClosedLine){for(var a=r-1,s=0;s<r;s++)a=this.OffsetPoint(s,a,o.m_jointype);this.m_destPolys.push(this.m_destPoly),this.m_destPoly=new Array;for(var l=this.m_normals[r-1],s=r-1;s>0;s--)this.m_normals[s]=new ne.DoublePoint((-this.m_normals[s-1].X),(-this.m_normals[s-1].Y));this.m_normals[0]=new ne.DoublePoint((-l.X),(-l.Y)),a=0;for(var s=r-1;s>=0;s--)a=this.OffsetPoint(s,a,o.m_jointype);this.m_destPolys.push(this.m_destPoly)}else{for(var a=0,s=1;s<r-1;++s)a=this.OffsetPoint(s,a,o.m_jointype);var u;if(o.m_endtype==ne.EndType.etOpenButt){var s=r-1;u=new ne.IntPoint(ne.ClipperOffset.Round(this.m_srcPoly[s].X+this.m_normals[s].X*t),ne.ClipperOffset.Round(this.m_srcPoly[s].Y+this.m_normals[s].Y*t)),this.m_destPoly.push(u),u=new ne.IntPoint(ne.ClipperOffset.Round(this.m_srcPoly[s].X-this.m_normals[s].X*t),ne.ClipperOffset.Round(this.m_srcPoly[s].Y-this.m_normals[s].Y*t)),this.m_destPoly.push(u)}else{var s=r-1;a=r-2,this.m_sinA=0,this.m_normals[s]=new ne.DoublePoint((-this.m_normals[s].X),(-this.m_normals[s].Y)),o.m_endtype==ne.EndType.etOpenSquare?this.DoSquare(s,a):this.DoRound(s,a)}for(var s=r-1;s>0;s--)this.m_normals[s]=new ne.DoublePoint((-this.m_normals[s-1].X),(-this.m_normals[s-1].Y));this.m_normals[0]=new ne.DoublePoint((-this.m_normals[1].X),(-this.m_normals[1].Y)),a=r-1;for(var s=a-1;s>0;--s)a=this.OffsetPoint(s,a,o.m_jointype);o.m_endtype==ne.EndType.etOpenButt?(u=new ne.IntPoint(ne.ClipperOffset.Round(this.m_srcPoly[0].X-this.m_normals[0].X*t),ne.ClipperOffset.Round(this.m_srcPoly[0].Y-this.m_normals[0].Y*t)),
this.m_destPoly.push(u),u=new ne.IntPoint(ne.ClipperOffset.Round(this.m_srcPoly[0].X+this.m_normals[0].X*t),ne.ClipperOffset.Round(this.m_srcPoly[0].Y+this.m_normals[0].Y*t)),this.m_destPoly.push(u)):(a=1,this.m_sinA=0,o.m_endtype==ne.EndType.etOpenSquare?this.DoSquare(0,1):this.DoRound(0,1)),this.m_destPolys.push(this.m_destPoly)}}else{if(o.m_jointype==ne.JoinType.jtRound)for(var p=1,c=0,s=1;s<=i;s++){this.m_destPoly.push(new ne.IntPoint(ne.ClipperOffset.Round(this.m_srcPoly[0].X+p*t),ne.ClipperOffset.Round(this.m_srcPoly[0].Y+c*t)));var h=p;p=p*this.m_cos-this.m_sin*c,c=h*this.m_sin+c*this.m_cos}else for(var p=-1,c=-1,s=0;s<4;++s)this.m_destPoly.push(new ne.IntPoint(ne.ClipperOffset.Round(this.m_srcPoly[0].X+p*t),ne.ClipperOffset.Round(this.m_srcPoly[0].Y+c*t))),p<0?p=1:c<0?c=1:p=-1;this.m_destPolys.push(this.m_destPoly)}}}},ne.ClipperOffset.prototype.Execute=function(){var t=arguments,e=t[0]instanceof ne.PolyTree;if(e){var o=t[0],n=t[1];o.Clear(),this.FixOrientations(),this.DoOffset(n);var i=new ne.Clipper(0);if(i.AddPaths(this.m_destPolys,ne.PolyType.ptSubject,!0),n>0)i.Execute(ne.ClipType.ctUnion,o,ne.PolyFillType.pftPositive,ne.PolyFillType.pftPositive);else{var r=ne.Clipper.GetBounds(this.m_destPolys),s=new ne.Path;if(s.push(new ne.IntPoint(r.left-10,r.bottom+10)),s.push(new ne.IntPoint(r.right+10,r.bottom+10)),s.push(new ne.IntPoint(r.right+10,r.top-10)),s.push(new ne.IntPoint(r.left-10,r.top-10)),i.AddPath(s,ne.PolyType.ptSubject,!0),i.ReverseSolution=!0,i.Execute(ne.ClipType.ctUnion,o,ne.PolyFillType.pftNegative,ne.PolyFillType.pftNegative),1==o.ChildCount()&&o.Childs()[0].ChildCount()>0){var a=o.Childs()[0];o.Childs()[0]=a.Childs()[0];for(var l=1;l<a.ChildCount();l++)o.AddChild(a.Childs()[l])}else o.Clear()}}else{var o=t[0],n=t[1];ne.Clear(o),this.FixOrientations(),this.DoOffset(n);var i=new ne.Clipper(0);if(i.AddPaths(this.m_destPolys,ne.PolyType.ptSubject,!0),n>0)i.Execute(ne.ClipType.ctUnion,o,ne.PolyFillType.pftPositive,ne.PolyFillType.pftPositive);else{var r=ne.Clipper.GetBounds(this.m_destPolys),s=new ne.Path;s.push(new ne.IntPoint(r.left-10,r.bottom+10)),s.push(new ne.IntPoint(r.right+10,r.bottom+10)),s.push(new ne.IntPoint(r.right+10,r.top-10)),s.push(new ne.IntPoint(r.left-10,r.top-10)),i.AddPath(s,ne.PolyType.ptSubject,!0),i.ReverseSolution=!0,i.Execute(ne.ClipType.ctUnion,o,ne.PolyFillType.pftNegative,ne.PolyFillType.pftNegative),o.length>0&&o.splice(0,1)}}},ne.ClipperOffset.prototype.OffsetPoint=function(t,e,o){if(this.m_sinA=this.m_normals[e].X*this.m_normals[t].Y-this.m_normals[t].X*this.m_normals[e].Y,this.m_sinA<5e-5&&this.m_sinA>-5e-5)return e;if(this.m_sinA>1?this.m_sinA=1:this.m_sinA<-1&&(this.m_sinA=-1),this.m_sinA*this.m_delta<0)this.m_destPoly.push(new ne.IntPoint(ne.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[e].X*this.m_delta),ne.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[e].Y*this.m_delta))),this.m_destPoly.push(new ne.IntPoint(this.m_srcPoly[t])),this.m_destPoly.push(new ne.IntPoint(ne.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[t].X*this.m_delta),ne.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[t].Y*this.m_delta)));else switch(o){case ne.JoinType.jtMiter:var n=1+(this.m_normals[t].X*this.m_normals[e].X+this.m_normals[t].Y*this.m_normals[e].Y);n>=this.m_miterLim?this.DoMiter(t,e,n):this.DoSquare(t,e);break;case ne.JoinType.jtSquare:this.DoSquare(t,e);break;case ne.JoinType.jtRound:this.DoRound(t,e)}return e=t},ne.ClipperOffset.prototype.DoSquare=function(t,e){var o=Math.tan(Math.atan2(this.m_sinA,this.m_normals[e].X*this.m_normals[t].X+this.m_normals[e].Y*this.m_normals[t].Y)/4);this.m_destPoly.push(new ne.IntPoint(ne.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_delta*(this.m_normals[e].X-this.m_normals[e].Y*o)),ne.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_delta*(this.m_normals[e].Y+this.m_normals[e].X*o)))),this.m_destPoly.push(new ne.IntPoint(ne.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_delta*(this.m_normals[t].X+this.m_normals[t].Y*o)),ne.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_delta*(this.m_normals[t].Y-this.m_normals[t].X*o))))},ne.ClipperOffset.prototype.DoMiter=function(t,e,o){var n=this.m_delta/o;this.m_destPoly.push(new ne.IntPoint(ne.ClipperOffset.Round(this.m_srcPoly[t].X+(this.m_normals[e].X+this.m_normals[t].X)*n),ne.ClipperOffset.Round(this.m_srcPoly[t].Y+(this.m_normals[e].Y+this.m_normals[t].Y)*n)))},ne.ClipperOffset.prototype.DoRound=function(t,e){for(var o,n=Math.atan2(this.m_sinA,this.m_normals[e].X*this.m_normals[t].X+this.m_normals[e].Y*this.m_normals[t].Y),i=ne.Cast_Int32(ne.ClipperOffset.Round(this.m_StepsPerRad*Math.abs(n))),r=this.m_normals[e].X,s=this.m_normals[e].Y,a=0;a<i;++a)this.m_destPoly.push(new ne.IntPoint(ne.ClipperOffset.Round(this.m_srcPoly[t].X+r*this.m_delta),ne.ClipperOffset.Round(this.m_srcPoly[t].Y+s*this.m_delta))),o=r,r=r*this.m_cos-this.m_sin*s,s=o*this.m_sin+s*this.m_cos;this.m_destPoly.push(new ne.IntPoint(ne.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[t].X*this.m_delta),ne.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[t].Y*this.m_delta)))},ne.Error=function(t){try{throw new Error(t)}catch(e){alert(e.message)}},ne.JS={},ne.JS.AreaOfPolygon=function(t,e){return e||(e=1),ne.Clipper.Area(t)/(e*e)},ne.JS.AreaOfPolygons=function(t,e){e||(e=1);for(var o=0,n=0;n<t.length;n++)o+=ne.Clipper.Area(t[n]);return o/(e*e)},ne.JS.BoundsOfPath=function(t,e){return ne.JS.BoundsOfPaths([t],e)},ne.JS.BoundsOfPaths=function(t,e){e||(e=1);var o=ne.Clipper.GetBounds(t);return o.left/=e,o.bottom/=e,o.right/=e,o.top/=e,o},ne.JS.Clean=function(t,e){if(!(t instanceof Array))return[];var o=t[0]instanceof Array,t=ne.JS.Clone(t);if("number"!=typeof e||null===e)return ne.Error("Delta is not a number in Clean()."),t;if(0===t.length||1==t.length&&0===t[0].length||e<0)return t;o||(t=[t]);for(var n,i,r,s,a,l,u,p=t.length,c=[],h=0;h<p;h++)if(i=t[h],n=i.length,0!==n)if(n<3)r=i,c.push(r);else{for(r=i,s=e*e,a=i[0],l=1,u=1;u<n;u++)(i[u].X-a.X)*(i[u].X-a.X)+(i[u].Y-a.Y)*(i[u].Y-a.Y)<=s||(r[l]=i[u],a=i[u],l++);a=i[l-1],(i[0].X-a.X)*(i[0].X-a.X)+(i[0].Y-a.Y)*(i[0].Y-a.Y)<=s&&l--,l<n&&r.splice(l,n-l),r.length&&c.push(r)}return!o&&c.length?c=c[0]:o||0!==c.length?o&&0===c.length&&(c=[[]]):c=[],c},ne.JS.Clone=function(t){if(!(t instanceof Array))return[];if(0===t.length)return[];if(1==t.length&&0===t[0].length)return[[]];var e=t[0]instanceof Array;e||(t=[t]);var o,n,i,r,s=t.length,a=new Array(s);for(n=0;n<s;n++){for(o=t[n].length,r=new Array(o),i=0;i<o;i++)r[i]={X:t[n][i].X,Y:t[n][i].Y};a[n]=r}return e||(a=a[0]),a},ne.JS.Lighten=function(t,e){if(!(t instanceof Array))return[];if("number"!=typeof e||null===e)return ne.Error("Tolerance is not a number in Lighten()."),ne.JS.Clone(t);if(0===t.length||1==t.length&&0===t[0].length||e<0)return ne.JS.Clone(t);t[0]instanceof Array||(t=[t]);var o,n,i,r,s,a,l,u,p,c,h,m,d,_,y,f,v,x=t.length,g=e*e,b=[];for(o=0;o<x;o++)if(i=t[o],a=i.length,0!=a){for(r=0;r<1e6;r++){for(s=[],a=i.length,i[a-1].X!=i[0].X||i[a-1].Y!=i[0].Y?(m=1,i.push({X:i[0].X,Y:i[0].Y}),a=i.length):m=0,h=[],n=0;n<a-2;n++)l=i[n],p=i[n+1],u=i[n+2],f=l.X,v=l.Y,d=u.X-f,_=u.Y-v,0===d&&0===_||(y=((p.X-f)*d+(p.Y-v)*_)/(d*d+_*_),y>1?(f=u.X,v=u.Y):y>0&&(f+=d*y,v+=_*y)),d=p.X-f,_=p.Y-v,c=d*d+_*_,c<=g&&(h[n+1]=1,n++);for(s.push({X:i[0].X,Y:i[0].Y}),n=1;n<a-1;n++)h[n]||s.push({X:i[n].X,Y:i[n].Y});if(s.push({X:i[a-1].X,Y:i[a-1].Y}),m&&i.pop(),!h.length)break;i=s}a=s.length,s[a-1].X==s[0].X&&s[a-1].Y==s[0].Y&&s.pop(),s.length>2&&b.push(s)}return!t[0]instanceof Array&&(b=b[0]),"undefined"==typeof b&&(b=[[]]),b},ne.JS.PerimeterOfPath=function(t,e,o){if("undefined"==typeof t)return 0;var n,i,r=Math.sqrt,s=0,a=0,l=0,u=0,p=0,c=t.length;if(c<2)return 0;for(e&&(t[c]=t[0],c++);--c;)n=t[c],a=n.X,l=n.Y,i=t[c-1],u=i.X,p=i.Y,s+=r((a-u)*(a-u)+(l-p)*(l-p));return e&&t.pop(),s/o},ne.JS.PerimeterOfPaths=function(t,e,o){o||(o=1);for(var n=0,i=0;i<t.length;i++)n+=ne.JS.PerimeterOfPath(t[i],e,o);return n},ne.JS.ScaleDownPath=function(t,e){var o,n;for(e||(e=1),o=t.length;o--;)n=t[o],n.X=n.X/e,n.Y=n.Y/e},ne.JS.ScaleDownPaths=function(t,e){var o,n,i;Math.round;for(e||(e=1),o=t.length;o--;)for(n=t[o].length;n--;)i=t[o][n],i.X=i.X/e,i.Y=i.Y/e},ne.JS.ScaleUpPath=function(t,e){var o,n,i=Math.round;for(e||(e=1),o=t.length;o--;)n=t[o],n.X=i(n.X*e),n.Y=i(n.Y*e)},ne.JS.ScaleUpPaths=function(t,e){var o,n,i,r=Math.round;for(e||(e=1),o=t.length;o--;)for(n=t[o].length;n--;)i=t[o][n],i.X=r(i.X*e),i.Y=r(i.Y*e)},ne.ExPolygons=function(){return[]},ne.ExPolygon=function(){this.outer=null,this.holes=null},ne.JS.AddOuterPolyNodeToExPolygons=function(t,e){var o=new ne.ExPolygon;o.outer=t.Contour();var n=t.Childs(),i=n.length;o.holes=new Array(i);var r,s,a,l,u,p;for(a=0;a<i;a++)for(r=n[a],o.holes[a]=r.Contour(),l=0,u=r.Childs(),p=u.length;l<p;l++)s=u[l],ne.JS.AddOuterPolyNodeToExPolygons(s,e);e.push(o)},ne.JS.ExPolygonsToPaths=function(t){var e,o,n,i,r=new ne.Paths;for(e=0,n=t.length;e<n;e++)for(r.push(t[e].outer),o=0,i=t[e].holes.length;o<i;o++)r.push(t[e].holes[o]);return r},ne.JS.PolyTreeToExPolygons=function(t){var e,o,n,i,r=new ne.ExPolygons;for(o=0,n=t.Childs(),i=n.length;o<i;o++)e=n[o],ne.JS.AddOuterPolyNodeToExPolygons(e,r);return r}}()}]);
//# sourceMappingURL=vendors.031b23808b9e9968b0f9.js.map